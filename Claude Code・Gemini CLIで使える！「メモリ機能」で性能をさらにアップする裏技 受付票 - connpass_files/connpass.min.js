define("cs",{load:function(o){throw new Error("Dynamic load not allowed: "+o)}});
define("jquery",[],(function(){
/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */
return function(e,t){var n=e.document,r=e.navigator,i=e.location,o=function(){var t,i,o,a,s=function(e,n){return new s.fn.init(e,n,t)},l=e.jQuery,u=e.$,c=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=/\S/,f=/^\s+/,p=/\s+$/,h=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,x=/(opera)(?:.*version)?[ \/]([\w.]+)/,T=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,N=/-([a-z]|[0-9])/gi,C=/^-ms-/,E=function(e,t){return(t+"").toUpperCase()},k=r.userAgent,S=Object.prototype.toString,A=Object.prototype.hasOwnProperty,L=Array.prototype.push,D=Array.prototype.slice,j=String.prototype.trim,F=Array.prototype.indexOf,M={};function _(){if(!s.isReady){try{n.documentElement.doScroll("left")}catch(e){return void setTimeout(_,1)}s.ready()}}return s.fn=s.prototype={constructor:s,init:function(e,t,r){var i,o,a,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!t&&n.body)return this.context=n,this[0]=n.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:c.exec(e))||!i[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(i[1])return l=(t=t instanceof s?t[0]:t)?t.ownerDocument||t:n,(a=h.exec(e))?s.isPlainObject(t)?(e=[n.createElement(a[1])],s.fn.attr.call(e,t,!0)):e=[l.createElement(a[1])]:e=((a=s.buildFragment([i[1]],[l])).cacheable?s.clone(a.fragment):a.fragment).childNodes,s.merge(this,e);if((o=n.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=n,this.selector=e,this}return s.isFunction(e)?r.ready(e):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),s.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return D.call(this,0)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=this.constructor();return s.isArray(e)?L.apply(r,e):s.merge(r,e),r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return s.each(this,e,t)},ready:function(e){return s.bindReady(),o.add(e),this},eq:function(e){return-1===(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(D.apply(this,arguments),"slice",D.call(arguments).join(","))},map:function(e){return this.pushStack(s.map(this,(function(t,n){return e.call(t,n,t)})))},end:function(){return this.prevObject||this.constructor(null)},push:L,sort:[].sort,splice:[].splice},s.fn.init.prototype=s.fn,s.extend=s.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||s.isFunction(a)||(a={}),u===l&&(a=this,--l);l<u;l++)if(null!=(e=arguments[l]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(s.isPlainObject(r)||(i=s.isArray(r)))?(i?(i=!1,o=n&&s.isArray(n)?n:[]):o=n&&s.isPlainObject(n)?n:{},a[t]=s.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},s.extend({noConflict:function(t){return e.$===s&&(e.$=u),t&&e.jQuery===s&&(e.jQuery=l),s},isReady:!1,readyWait:1,holdReady:function(e){e?s.readyWait++:s.ready(!0)},ready:function(e){if(!0===e&&!--s.readyWait||!0!==e&&!s.isReady){if(!n.body)return setTimeout(s.ready,1);if(s.isReady=!0,!0!==e&&--s.readyWait>0)return;o.fireWith(n,[s]),s.fn.trigger&&s(n).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=s.Callbacks("once memory"),"complete"===n.readyState)return setTimeout(s.ready,1);if(n.addEventListener)n.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",s.ready,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",a),e.attachEvent("onload",s.ready);var t=!1;try{t=null==e.frameElement}catch(e){}n.documentElement.doScroll&&t&&_()}}},isFunction:function(e){return"function"===s.type(e)},isArray:Array.isArray||function(e){return"array"===s.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):M[S.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==s.type(e)||e.nodeType||s.isWindow(e))return!1;try{if(e.constructor&&!A.call(e,"constructor")&&!A.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||A.call(e,t)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=s.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):m.test(t.replace(g,"@").replace(v,"]").replace(y,""))?new Function("return "+t)():void s.error("Invalid JSON: "+t)):null},parseXML:function(t){if("string"!=typeof t||!t)return null;var n;try{e.DOMParser?n=(new DOMParser).parseFromString(t,"text/xml"):((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||s.error("Invalid XML: "+t),n},noop:function(){},globalEval:function(t){t&&d.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(N,E)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,t,n){var r,i=0,o=e.length,a=void 0===o||s.isFunction(e);if(n)if(a){for(r in e)if(!1===t.apply(e[r],n))break}else for(;i<o&&!1!==t.apply(e[i++],n););else if(a){for(r in e)if(!1===t.call(e[r],r,e[r]))break}else for(;i<o&&!1!==t.call(e[i],i,e[i++]););return e},trim:j?function(e){return null==e?"":j.call(e)}:function(e){return null==e?"":e.toString().replace(f,"").replace(p,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var r=s.type(e);null==e.length||"string"===r||"function"===r||"regexp"===r||s.isWindow(e)?L.call(n,e):s.merge(n,e)}return n},inArray:function(e,t,n){var r;if(t){if(F)return F.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=e.length,r=0;if("number"==typeof t.length)for(var i=t.length;r<i;r++)e[n++]=t[r];else for(;void 0!==t[r];)e[n++]=t[r++];return e.length=n,e},grep:function(e,t,n){var r=[];n=!!n;for(var i=0,o=e.length;i<o;i++)n!==!!t(e[i],i)&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=[],a=0,l=e.length;if(e instanceof s||void 0!==l&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||s.isArray(e)))for(;a<l;a++)null!=(r=t(e[a],a,n))&&(o[o.length]=r);else for(i in e)null!=(r=t(e[i],i,n))&&(o[o.length]=r);return o.concat.apply([],o)},guid:1,proxy:function(e,t){if("string"==typeof t){var n=e[t];t=e,e=n}if(s.isFunction(e)){var r=D.call(arguments,2),i=function(){return e.apply(t,r.concat(D.call(arguments)))};return i.guid=e.guid=e.guid||i.guid||s.guid++,i}},access:function(e,t,n,r,i,o,a){var l,u=null==n,c=0,d=e.length;if(n&&"object"==typeof n){for(c in n)s.access(e,t,c,n[c],1,o,r);i=1}else if(void 0!==r){if(l=void 0===a&&s.isFunction(r),u&&(l?(l=t,t=function(e,t,n){return l.call(s(e),n)}):(t.call(e,r),t=null)),t)for(;c<d;c++)t(e[c],n,l?r.call(e[c],c,t(e[c],n)):r,a);i=1}return i?e:u?t.call(e):d?t(e[0],n):o},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||x.exec(e)||T.exec(e)||e.indexOf("compatible")<0&&w.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}s.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof s&&!(r instanceof e)&&(r=e(r)),s.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(n);return e},browser:{}}),s.each("Boolean Number String Function Array Date RegExp Object".split(" "),(function(e,t){M["[object "+t+"]"]=t.toLowerCase()})),(i=s.uaMatch(k)).browser&&(s.browser[i.browser]=!0,s.browser.version=i.version),s.browser.webkit&&(s.browser.safari=!0),d.test("Â ")&&(f=/^[\s\xA0]+/,p=/[\s\xA0]+$/),t=s(n),n.addEventListener?a=function(){n.removeEventListener("DOMContentLoaded",a,!1),s.ready()}:n.attachEvent&&(a=function(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",a),s.ready())}),s}(),a={};o.Callbacks=function(e){e=e?a[e]||function(e){var t,n,r=a[e]={};for(t=0,n=(e=e.split(/\s+/)).length;t<n;t++)r[e[t]]=!0;return r}(e):{};var t,n,r,i,s,l,u=[],c=[],d=function(t){var n,r,i,a;for(n=0,r=t.length;n<r;n++)i=t[n],"array"===(a=o.type(i))?d(i):"function"===a&&(e.unique&&p.has(i)||u.push(i))},f=function(o,a){for(a=a||[],t=!e.memory||[o,a],n=!0,r=!0,l=i||0,i=0,s=u.length;u&&l<s;l++)if(!1===u[l].apply(o,a)&&e.stopOnFalse){t=!0;break}r=!1,u&&(e.once?!0===t?p.disable():u=[]:c&&c.length&&(t=c.shift(),p.fireWith(t[0],t[1])))},p={add:function(){if(u){var e=u.length;d(arguments),r?s=u.length:t&&!0!==t&&(i=e,f(t[0],t[1]))}return this},remove:function(){if(u)for(var t=arguments,n=0,i=t.length;n<i;n++)for(var o=0;o<u.length&&(t[n]!==u[o]||(r&&o<=s&&(s--,o<=l&&l--),u.splice(o--,1),!e.unique));o++);return this},has:function(e){if(u)for(var t=0,n=u.length;t<n;t++)if(e===u[t])return!0;return!1},empty:function(){return u=[],this},disable:function(){return u=c=t=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,t&&!0!==t||p.disable(),this},locked:function(){return!c},fireWith:function(n,i){return c&&(r?e.once||c.push([n,i]):e.once&&t||f(n,i)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p};var s=[].slice;o.extend({Deferred:function(e){var t,n=o.Callbacks("once memory"),r=o.Callbacks("once memory"),i=o.Callbacks("memory"),a="pending",s={resolve:n,reject:r,notify:i},l={done:n.add,fail:r.add,progress:i.add,state:function(){return a},isResolved:n.fired,isRejected:r.fired,then:function(e,t,n){return u.done(e).fail(t).progress(n),this},always:function(){return u.done.apply(u,arguments).fail.apply(u,arguments),this},pipe:function(e,t,n){return o.Deferred((function(r){o.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},(function(e,t){var n,i=t[0],a=t[1];o.isFunction(i)?u[e]((function(){(n=i.apply(this,arguments))&&o.isFunction(n.promise)?n.promise().then(r.resolve,r.reject,r.notify):r[a+"With"](this===u?r:this,[n])})):u[e](r[a])}))})).promise()},promise:function(e){if(null==e)e=l;else for(var t in l)e[t]=l[t];return e}},u=l.promise({});for(t in s)u[t]=s[t].fire,u[t+"With"]=s[t].fireWith;return u.done((function(){a="resolved"}),r.disable,i.lock).fail((function(){a="rejected"}),n.disable,i.lock),e&&e.call(u,u),u},when:function(e){var t=s.call(arguments,0),n=0,r=t.length,i=new Array(r),a=r,l=r<=1&&e&&o.isFunction(e.promise)?e:o.Deferred(),u=l.promise();function c(e){return function(n){t[e]=arguments.length>1?s.call(arguments,0):n,--a||l.resolveWith(l,t)}}function d(e){return function(t){i[e]=arguments.length>1?s.call(arguments,0):t,l.notifyWith(u,i)}}if(r>1){for(;n<r;n++)t[n]&&t[n].promise&&o.isFunction(t[n].promise)?t[n].promise().then(c(n),l.reject,d(n)):--a;a||l.resolveWith(l,t)}else l!==e&&l.resolveWith(l,r?[e]:[]);return u}}),o.support=function(){var t,r,i,a,s,l,u,c,d,f,p,h=n.createElement("div");n.documentElement;if(h.setAttribute("className","t"),h.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",r=h.getElementsByTagName("*"),i=h.getElementsByTagName("a")[0],!r||!r.length||!i)return{};s=(a=n.createElement("select")).appendChild(n.createElement("option")),l=h.getElementsByTagName("input")[0],t={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.55/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===l.value,optSelected:s.selected,getSetAttribute:"t"!==h.className,enctype:!!n.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==n.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},o.boxModel=t.boxModel="CSS1Compat"===n.compatMode,l.checked=!0,t.noCloneChecked=l.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!s.disabled;try{delete h.test}catch(e){t.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",(function(){t.noCloneEvent=!1})),h.cloneNode(!0).fireEvent("onclick")),(l=n.createElement("input")).value="t",l.setAttribute("type","radio"),t.radioValue="t"===l.value,l.setAttribute("checked","checked"),l.setAttribute("name","t"),h.appendChild(l),(u=n.createDocumentFragment()).appendChild(h.lastChild),t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=l.checked,u.removeChild(l),u.appendChild(h),h.attachEvent)for(f in{submit:1,change:1,focusin:1})(p=(d="on"+f)in h)||(h.setAttribute(d,"return;"),p="function"==typeof h[d]),t[f+"Bubbles"]=p;return u.removeChild(h),u=a=s=h=l=null,o((function(){var r,i,a,s,l,u,d,f=n.getElementsByTagName("body")[0];f&&(d="style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;",(r=n.createElement("div")).style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px",f.insertBefore(r,f.firstChild),h=n.createElement("div"),r.appendChild(h),h.innerHTML="<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>",c=h.getElementsByTagName("td"),p=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",t.reliableHiddenOffsets=p&&0===c[0].offsetHeight,e.getComputedStyle&&(h.innerHTML="",(u=n.createElement("div")).style.width="0",u.style.marginRight="0",h.style.width="2px",h.appendChild(u),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(u,null)||{marginRight:0}).marginRight,10)||0)),void 0!==h.style.zoom&&(h.innerHTML="",h.style.width=h.style.padding="1px",h.style.border=0,h.style.overflow="hidden",h.style.display="inline",h.style.zoom=1,t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.style.overflow="visible",h.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=3!==h.offsetWidth),h.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;",h.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",a=(i=h.firstChild).firstChild,s=i.nextSibling.firstChild.firstChild,l={doesNotAddBorder:5!==a.offsetTop,doesAddBorderForTableAndCells:5===s.offsetTop},a.style.position="fixed",a.style.top="20px",l.fixedPosition=20===a.offsetTop||15===a.offsetTop,a.style.position=a.style.top="",i.style.overflow="hidden",i.style.position="relative",l.subtractsBorderForOverflowNotVisible=-5===a.offsetTop,l.doesNotIncludeMarginInBodyOffset=1!==f.offsetTop,e.getComputedStyle&&(h.style.marginTop="1%",t.pixelMargin="1%"!==(e.getComputedStyle(h,null)||{marginTop:0}).marginTop),void 0!==r.style.zoom&&(r.style.zoom=1),f.removeChild(r),u=h=r=null,o.extend(t,l))})),t}();var l=/^(?:\{.*\}|\[.*\])$/,u=/([A-Z])/g;function c(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(u,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:o.isNumeric(n)?+n:l.test(n)?o.parseJSON(n):n)}catch(e){}o.data(e,t,n)}else n=void 0}return n}function d(e){for(var t in e)if(("data"!==t||!o.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function f(e,t,n){var r=t+"defer",i=t+"queue",a=t+"mark",s=o._data(e,r);!s||"queue"!==n&&o._data(e,i)||"mark"!==n&&o._data(e,a)||setTimeout((function(){o._data(e,i)||o._data(e,a)||(o.removeData(e,r,!0),s.fire())}),0)}o.extend({cache:{},uuid:0,expando:"jQuery"+(o.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?o.cache[e[o.expando]]:e[o.expando])&&!d(e)},data:function(e,t,n,r){if(o.acceptData(e)){var i,a,s,l=o.expando,u="string"==typeof t,c=e.nodeType,d=c?o.cache:e,f=c?e[l]:e[l]&&l,p="events"===t;if(f&&d[f]&&(p||r||d[f].data)||!u||void 0!==n)return f||(c?e[l]=f=++o.uuid:f=l),d[f]||(d[f]={},c||(d[f].toJSON=o.noop)),"object"!=typeof t&&"function"!=typeof t||(r?d[f]=o.extend(d[f],t):d[f].data=o.extend(d[f].data,t)),i=a=d[f],r||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[o.camelCase(t)]=n),p&&!a[t]?i.events:(u?null==(s=a[t])&&(s=a[o.camelCase(t)]):s=a,s)}},removeData:function(e,t,n){if(o.acceptData(e)){var r,i,a,s=o.expando,l=e.nodeType,u=l?o.cache:e,c=l?e[s]:s;if(u[c]){if(t&&(r=n?u[c]:u[c].data)){o.isArray(t)||(t=t in r||(t=o.camelCase(t))in r?[t]:t.split(" "));for(i=0,a=t.length;i<a;i++)delete r[t[i]];if(!(n?d:o.isEmptyObject)(r))return}(n||(delete u[c].data,d(u[c])))&&(o.support.deleteExpando||!u.setInterval?delete u[c]:u[c]=null,l&&(o.support.deleteExpando?delete e[s]:e.removeAttribute?e.removeAttribute(s):e[s]=null))}}},_data:function(e,t,n){return o.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=o.noData[e.nodeName.toLowerCase()];if(t)return!(!0===t||e.getAttribute("classid")!==t)}return!0}}),o.fn.extend({data:function(e,t){var n,r,i,a,s,l=this[0],u=0,d=null;if(void 0===e){if(this.length&&(d=o.data(l),1===l.nodeType&&!o._data(l,"parsedAttrs"))){for(s=(i=l.attributes).length;u<s;u++)0===(a=i[u].name).indexOf("data-")&&(a=o.camelCase(a.substring(5)),c(l,a,d[a]));o._data(l,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each((function(){o.data(this,e)})):((n=e.split(".",2))[1]=n[1]?"."+n[1]:"",r=n[1]+"!",o.access(this,(function(t){if(void 0===t)return void 0===(d=this.triggerHandler("getData"+r,[n[0]]))&&l&&(d=o.data(l,e),d=c(l,e,d)),void 0===d&&n[1]?this.data(n[0]):d;n[1]=t,this.each((function(){var i=o(this);i.triggerHandler("setData"+r,n),o.data(this,e,t),i.triggerHandler("changeData"+r,n)}))}),null,t,arguments.length>1,null,!1))},removeData:function(e){return this.each((function(){o.removeData(this,e)}))}}),o.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",o._data(e,t,(o._data(e,t)||0)+1))},_unmark:function(e,t,n){if(!0!==e&&(n=t,t=e,e=!1),t){var r=(n=n||"fx")+"mark",i=e?0:(o._data(t,r)||1)-1;i?o._data(t,r,i):(o.removeData(t,r,!0),f(t,n,"mark"))}},queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=o._data(e,t),n&&(!r||o.isArray(n)?r=o._data(e,t,o.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=o.queue(e,t),r=n.shift(),i={};"inprogress"===r&&(r=n.shift()),r&&("fx"===t&&n.unshift("inprogress"),o._data(e,t+".run",i),r.call(e,(function(){o.dequeue(e,t)}),i)),n.length||(o.removeData(e,t+"queue "+t+".run",!0),f(e,t,"queue"))}}),o.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?o.queue(this[0],e):void 0===t?this:this.each((function(){var n=o.queue(this,e,t);"fx"===e&&"inprogress"!==n[0]&&o.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){o.dequeue(this,e)}))},delay:function(e,t){return e=o.fx&&o.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";var n,r=o.Deferred(),i=this,a=i.length,s=1,l=e+"defer",u=e+"queue",c=e+"mark";function d(){--s||r.resolveWith(i,[i])}for(;a--;)(n=o.data(i[a],l,void 0,!0)||(o.data(i[a],u,void 0,!0)||o.data(i[a],c,void 0,!0))&&o.data(i[a],l,o.Callbacks("once memory"),!0))&&(s++,n.add(d));return d(),r.promise(t)}});var p,h,m,g=/[\n\t\r]/g,v=/\s+/,y=/\r/g,b=/^(?:button|input)$/i,x=/^(?:button|input|object|select|textarea)$/i,T=/^a(?:rea)?$/i,w=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,N=o.support.getSetAttribute;o.fn.extend({attr:function(e,t){return o.access(this,o.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){o.removeAttr(this,e)}))},prop:function(e,t){return o.access(this,o.prop,e,t,arguments.length>1)},removeProp:function(e){return e=o.propFix[e]||e,this.each((function(){try{this[e]=void 0,delete this[e]}catch(e){}}))},addClass:function(e){var t,n,r,i,a,s,l;if(o.isFunction(e))return this.each((function(t){o(this).addClass(e.call(this,t,this.className))}));if(e&&"string"==typeof e)for(t=e.split(v),n=0,r=this.length;n<r;n++)if(1===(i=this[n]).nodeType)if(i.className||1!==t.length){for(a=" "+i.className+" ",s=0,l=t.length;s<l;s++)~a.indexOf(" "+t[s]+" ")||(a+=t[s]+" ");i.className=o.trim(a)}else i.className=e;return this},removeClass:function(e){var t,n,r,i,a,s,l;if(o.isFunction(e))return this.each((function(t){o(this).removeClass(e.call(this,t,this.className))}));if(e&&"string"==typeof e||void 0===e)for(t=(e||"").split(v),n=0,r=this.length;n<r;n++)if(1===(i=this[n]).nodeType&&i.className)if(e){for(a=(" "+i.className+" ").replace(g," "),s=0,l=t.length;s<l;s++)a=a.replace(" "+t[s]+" "," ");i.className=o.trim(a)}else i.className="";return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return o.isFunction(e)?this.each((function(n){o(this).toggleClass(e.call(this,n,this.className,t),t)})):this.each((function(){if("string"===n)for(var i,a=0,s=o(this),l=t,u=e.split(v);i=u[a++];)l=r?l:!s.hasClass(i),s[l?"addClass":"removeClass"](i);else"undefined"!==n&&"boolean"!==n||(this.className&&o._data(this,"__className__",this.className),this.className=this.className||!1===e?"":o._data(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(g," ").indexOf(t)>-1)return!0;return!1},val:function(e){var t,n,r,i=this[0];return arguments.length?(r=o.isFunction(e),this.each((function(n){var i,a=o(this);1===this.nodeType&&(null==(i=r?e.call(this,n,a.val()):e)?i="":"number"==typeof i?i+="":o.isArray(i)&&(i=o.map(i,(function(e){return null==e?"":e+""}))),(t=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=o.valHooks[i.type]||o.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(y,""):null==n?"":n:void 0}}),o.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,a=e.selectedIndex,s=[],l=e.options,u="select-one"===e.type;if(a<0)return null;for(n=u?a:0,r=u?a+1:l.length;n<r;n++)if((i=l[n]).selected&&(o.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!o.nodeName(i.parentNode,"optgroup"))){if(t=o(i).val(),u)return t;s.push(t)}return u&&!s.length&&l.length?o(l[a]).val():s},set:function(e,t){var n=o.makeArray(t);return o(e).find("option").each((function(){this.selected=o.inArray(o(this).val(),n)>=0})),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,t,n,r){var i,a,s,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&t in o.attrFn?o(e)[t](n):void 0===e.getAttribute?o.prop(e,t,n):((s=1!==l||!o.isXMLDoc(e))&&(t=t.toLowerCase(),a=o.attrHooks[t]||(w.test(t)?h:p)),void 0!==n?null===n?void o.removeAttr(e,t):a&&"set"in a&&s&&void 0!==(i=a.set(e,n,t))?i:(e.setAttribute(t,""+n),n):a&&"get"in a&&s&&null!==(i=a.get(e,t))?i:null===(i=e.getAttribute(t))?void 0:i)},removeAttr:function(e,t){var n,r,i,a,s,l=0;if(t&&1===e.nodeType)for(a=(r=t.toLowerCase().split(v)).length;l<a;l++)(i=r[l])&&(n=o.propFix[i]||i,(s=w.test(i))||o.attr(e,i,""),e.removeAttribute(N?i:n),s&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(b.test(e.nodeName)&&e.parentNode)o.error("type property can't be changed");else if(!o.support.radioValue&&"radio"===t&&o.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return p&&o.nodeName(e,"button")?p.get(e,t):t in e?e.value:null},set:function(e,t,n){if(p&&o.nodeName(e,"button"))return p.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,n){var r,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return(1!==a||!o.isXMLDoc(e))&&(t=o.propFix[t]||t,i=o.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):x.test(e.nodeName)||T.test(e.nodeName)&&e.href?0:void 0}}}}),o.attrHooks.tabindex=o.propHooks.tabIndex,h={get:function(e,t){var n,r=o.prop(e,t);return!0===r||"boolean"!=typeof r&&(n=e.getAttributeNode(t))&&!1!==n.nodeValue?t.toLowerCase():void 0},set:function(e,t,n){var r;return!1===t?o.removeAttr(e,n):((r=o.propFix[n]||n)in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},N||(m={name:!0,id:!0,coords:!0},p=o.valHooks.button={get:function(e,t){var n;return(n=e.getAttributeNode(t))&&(m[t]?""!==n.nodeValue:n.specified)?n.nodeValue:void 0},set:function(e,t,r){var i=e.getAttributeNode(r);return i||(i=n.createAttribute(r),e.setAttributeNode(i)),i.nodeValue=t+""}},o.attrHooks.tabindex.set=p.set,o.each(["width","height"],(function(e,t){o.attrHooks[t]=o.extend(o.attrHooks[t],{set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}})})),o.attrHooks.contenteditable={get:p.get,set:function(e,t,n){""===t&&(t="false"),p.set(e,t,n)}}),o.support.hrefNormalized||o.each(["href","src","width","height"],(function(e,t){o.attrHooks[t]=o.extend(o.attrHooks[t],{get:function(e){var n=e.getAttribute(t,2);return null===n?void 0:n}})})),o.support.style||(o.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||void 0},set:function(e,t){return e.style.cssText=""+t}}),o.support.optSelected||(o.propHooks.selected=o.extend(o.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),o.support.enctype||(o.propFix.enctype="encoding"),o.support.checkOn||o.each(["radio","checkbox"],(function(){o.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}})),o.each(["radio","checkbox"],(function(){o.valHooks[this]=o.extend(o.valHooks[this],{set:function(e,t){if(o.isArray(t))return e.checked=o.inArray(o(e).val(),t)>=0}})}));var C=/^(?:textarea|input|select)$/i,E=/^([^\.]*)?(?:\.(.+))?$/,k=/(?:^|\s)hover(\.\S+)?\b/,S=/^key/,A=/^(?:mouse|contextmenu)|click/,L=/^(?:focusinfocus|focusoutblur)$/,D=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,j=function(e){var t=D.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},F=function(e,t){var n=e.attributes||{};return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||(n.id||{}).value===t[2])&&(!t[3]||t[3].test((n.class||{}).value))},M=function(e){return o.event.special.hover?e:e.replace(k,"mouseenter$1 mouseleave$1")};function _(){return!1}function H(){return!0}o.event={add:function(e,t,n,r,i){var a,s,l,u,c,d,f,p,h,m,g;if(3!==e.nodeType&&8!==e.nodeType&&t&&n&&(a=o._data(e))){for(n.handler&&(n=(h=n).handler,i=h.selector),n.guid||(n.guid=o.guid++),(l=a.events)||(a.events=l={}),(s=a.handle)||(a.handle=s=function(e){return void 0===o||e&&o.event.triggered===e.type?void 0:o.event.dispatch.apply(s.elem,arguments)},s.elem=e),t=o.trim(M(t)).split(" "),u=0;u<t.length;u++)d=(c=E.exec(t[u])||[])[1],f=(c[2]||"").split(".").sort(),g=o.event.special[d]||{},d=(i?g.delegateType:g.bindType)||d,g=o.event.special[d]||{},p=o.extend({type:d,origType:c[1],data:r,handler:n,guid:n.guid,selector:i,quick:i&&j(i),namespace:f.join(".")},h),(m=l[d])||((m=l[d]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(e,r,f,s)||(e.addEventListener?e.addEventListener(d,s,!1):e.attachEvent&&e.attachEvent("on"+d,s))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),i?m.splice(m.delegateCount++,0,p):m.push(p),o.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var a,s,l,u,c,d,f,p,h,m,g,v,y=o.hasData(e)&&o._data(e);if(y&&(p=y.events)){for(t=o.trim(M(t||"")).split(" "),a=0;a<t.length;a++)if(l=u=(s=E.exec(t[a])||[])[1],c=s[2],l){for(h=o.event.special[l]||{},d=(g=p[l=(r?h.delegateType:h.bindType)||l]||[]).length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,f=0;f<g.length;f++)v=g[f],!i&&u!==v.origType||n&&n.guid!==v.guid||c&&!c.test(v.namespace)||r&&r!==v.selector&&("**"!==r||!v.selector)||(g.splice(f--,1),v.selector&&g.delegateCount--,h.remove&&h.remove.call(e,v));0===g.length&&d!==g.length&&(h.teardown&&!1!==h.teardown.call(e,c)||o.removeEvent(e,l,y.handle),delete p[l])}else for(l in p)o.event.remove(e,l+t[a],n,r,!0);o.isEmptyObject(p)&&((m=y.handle)&&(m.elem=null),o.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(t,n,r,i){if(!r||3!==r.nodeType&&8!==r.nodeType){var a,s,l,u,c,d,f,p,h,m,g=t.type||t,v=[];if(!L.test(g+o.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),r&&!o.event.customEvent[g]||o.event.global[g]))if((t="object"==typeof t?t[o.expando]?t:new o.Event(g,t):new o.Event(g)).type=g,t.isTrigger=!0,t.exclusive=s,t.namespace=v.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",r){if(t.result=void 0,t.target||(t.target=r),(n=null!=n?o.makeArray(n):[]).unshift(t),!(f=o.event.special[g]||{}).trigger||!1!==f.trigger.apply(r,n)){if(h=[[r,f.bindType||g]],!i&&!f.noBubble&&!o.isWindow(r)){for(m=f.delegateType||g,u=L.test(m+g)?r:r.parentNode,c=null;u;u=u.parentNode)h.push([u,m]),c=u;c&&c===r.ownerDocument&&h.push([c.defaultView||c.parentWindow||e,m])}for(l=0;l<h.length&&!t.isPropagationStopped();l++)u=h[l][0],t.type=h[l][1],(p=(o._data(u,"events")||{})[t.type]&&o._data(u,"handle"))&&p.apply(u,n),(p=d&&u[d])&&o.acceptData(u)&&!1===p.apply(u,n)&&t.preventDefault();return t.type=g,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(r.ownerDocument,n)||"click"===g&&o.nodeName(r,"a")||!o.acceptData(r)||d&&r[g]&&("focus"!==g&&"blur"!==g||0!==t.target.offsetWidth)&&!o.isWindow(r)&&((c=r[d])&&(r[d]=null),o.event.triggered=g,r[g](),o.event.triggered=void 0,c&&(r[d]=c)),t.result}}else for(l in a=o.cache)a[l].events&&a[l].events[g]&&o.event.trigger(t,n,a[l].handle.elem,!0)}},dispatch:function(t){t=o.event.fix(t||e.event);var n,r,i,a,s,l,u,c,d,f,p=(o._data(this,"events")||{})[t.type]||[],h=p.delegateCount,m=[].slice.call(arguments,0),g=!t.exclusive&&!t.namespace,v=o.event.special[t.type]||{},y=[];if(m[0]=t,t.delegateTarget=this,!v.preDispatch||!1!==v.preDispatch.call(this,t)){if(h&&(!t.button||"click"!==t.type))for((a=o(this)).context=this.ownerDocument||this,i=t.target;i!=this;i=i.parentNode||this)if(!0!==i.disabled){for(l={},c=[],a[0]=i,n=0;n<h;n++)void 0===l[f=(d=p[n]).selector]&&(l[f]=d.quick?F(i,d.quick):a.is(f)),l[f]&&c.push(d);c.length&&y.push({elem:i,matches:c})}for(p.length>h&&y.push({elem:this,matches:p.slice(h)}),n=0;n<y.length&&!t.isPropagationStopped();n++)for(u=y[n],t.currentTarget=u.elem,r=0;r<u.matches.length&&!t.isImmediatePropagationStopped();r++)d=u.matches[r],(g||!t.namespace&&!d.namespace||t.namespace_re&&t.namespace_re.test(d.namespace))&&(t.data=d.data,t.handleObj=d,void 0!==(s=((o.event.special[d.origType]||{}).handle||d.handler).apply(u.elem,m))&&(t.result=s,!1===s&&(t.preventDefault(),t.stopPropagation())));return v.postDispatch&&v.postDispatch.call(this,t),t.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var r,i,o,a=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||n).documentElement,o=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[o.expando])return e;var t,r,i=e,a=o.event.fixHooks[e.type]||{},s=a.props?this.props.concat(a.props):this.props;for(e=o.Event(i),t=s.length;t;)e[r=s[--t]]=i[r];return e.target||(e.target=i.srcElement||n),3===e.target.nodeType&&(e.target=e.target.parentNode),void 0===e.metaKey&&(e.metaKey=e.ctrlKey),a.filter?a.filter(e,i):e},special:{ready:{setup:o.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){o.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=o.extend(new o.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?o.event.trigger(i,null,t):o.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},o.event.handle=o.event.dispatch,o.removeEvent=n.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},o.Event=function(e,t){if(!(this instanceof o.Event))return new o.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?H:_):this.type=e,t&&o.extend(this,t),this.timeStamp=e&&e.timeStamp||o.now(),this[o.expando]=!0},o.Event.prototype={preventDefault:function(){this.isDefaultPrevented=H;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=H;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=H,this.stopPropagation()},isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_},o.each({mouseenter:"mouseover",mouseleave:"mouseout"},(function(e,t){o.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;a.selector;return i&&(i===r||o.contains(r,i))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}})),o.support.submitBubbles||(o.event.special.submit={setup:function(){if(o.nodeName(this,"form"))return!1;o.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,n=o.nodeName(t,"input")||o.nodeName(t,"button")?t.form:void 0;n&&!n._submit_attached&&(o.event.add(n,"submit._submit",(function(e){e._submit_bubble=!0})),n._submit_attached=!0)}))},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&o.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(o.nodeName(this,"form"))return!1;o.event.remove(this,"._submit")}}),o.support.changeBubbles||(o.event.special.change={setup:function(){if(C.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(o.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)})),o.event.add(this,"click._change",(function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,o.event.simulate("change",this,e,!0))}))),!1;o.event.add(this,"beforeactivate._change",(function(e){var t=e.target;C.test(t.nodeName)&&!t._change_attached&&(o.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||o.event.simulate("change",this.parentNode,e,!0)})),t._change_attached=!0)}))},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return o.event.remove(this,"._change"),C.test(this.nodeName)}}),o.support.focusinBubbles||o.each({focus:"focusin",blur:"focusout"},(function(e,t){var r=0,i=function(e){o.event.simulate(t,e.target,o.event.fix(e),!0)};o.event.special[t]={setup:function(){0==r++&&n.addEventListener(e,i,!0)},teardown:function(){0==--r&&n.removeEventListener(e,i,!0)}}})),o.fn.extend({on:function(e,t,n,r,i){var a,s;if("object"==typeof e){for(s in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=_;else if(!r)return this;return 1===i&&(a=r,(r=function(e){return o().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=o.guid++)),this.each((function(){o.event.add(this,e,r,n,t)}))},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){if(e&&e.preventDefault&&e.handleObj){var r=e.handleObj;return o(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this}if("object"==typeof e){for(var i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=_),this.each((function(){o.event.remove(this,e,n,t)}))},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return o(this.context).on(e,this.selector,t,n),this},die:function(e,t){return o(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each((function(){o.event.trigger(e,t,this)}))},triggerHandler:function(e,t){if(this[0])return o.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||o.guid++,r=0,i=function(n){var i=(o._data(this,"lastToggle"+e.guid)||0)%r;return o._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),o.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){o.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},o.attrFn&&(o.attrFn[t]=!0),S.test(t)&&(o.event.fixHooks[t]=o.event.keyHooks),A.test(t)&&(o.event.fixHooks[t]=o.event.mouseHooks)})),
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
function(){var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,t="sizcache"+(Math.random()+"").replace(".",""),r=0,i=Object.prototype.toString,a=!1,s=!0,l=/\\/g,u=/\r\n/g,c=/\W/;[0,0].sort((function(){return s=!1,0}));var d=function(t,r,o,a){o=o||[];var s=r=r||n;if(1!==r.nodeType&&9!==r.nodeType)return[];if(!t||"string"!=typeof t)return o;var l,u,c,f,m,g,v,y,b=!0,T=d.isXML(r),w=[],C=t;do{if(e.exec(""),(l=e.exec(C))&&(C=l[3],w.push(l[1]),l[2])){f=l[3];break}}while(l);if(w.length>1&&h.exec(t))if(2===w.length&&p.relative[w[0]])u=N(w[0]+w[1],r,a);else for(u=p.relative[w[0]]?[r]:d(w.shift(),r);w.length;)t=w.shift(),p.relative[t]&&(t+=w.shift()),u=N(t,u,a);else if(!a&&w.length>1&&9===r.nodeType&&!T&&p.match.ID.test(w[0])&&!p.match.ID.test(w[w.length-1])&&(r=(m=d.find(w.shift(),r,T)).expr?d.filter(m.expr,m.set)[0]:m.set[0]),r)for(u=(m=a?{expr:w.pop(),set:x(a)}:d.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!r.parentNode?r:r.parentNode,T)).expr?d.filter(m.expr,m.set):m.set,w.length>0?c=x(u):b=!1;w.length;)v=g=w.pop(),p.relative[g]?v=w.pop():g="",null==v&&(v=r),p.relative[g](c,v,T);else c=w=[];if(c||(c=u),c||d.error(g||t),"[object Array]"===i.call(c))if(b)if(r&&1===r.nodeType)for(y=0;null!=c[y];y++)c[y]&&(!0===c[y]||1===c[y].nodeType&&d.contains(r,c[y]))&&o.push(u[y]);else for(y=0;null!=c[y];y++)c[y]&&1===c[y].nodeType&&o.push(u[y]);else o.push.apply(o,c);else x(c,o);return f&&(d(f,s,o,a),d.uniqueSort(o)),o};d.uniqueSort=function(e){if(v&&(a=s,e.sort(v),a))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},d.matches=function(e,t){return d(e,null,null,t)},d.matchesSelector=function(e,t){return d(t,null,null,[e]).length>0},d.find=function(e,t,n){var r,i,o,a,s,u;if(!e)return[];for(i=0,o=p.order.length;i<o;i++)if(s=p.order[i],(a=p.leftMatch[s].exec(e))&&(u=a[1],a.splice(1,1),"\\"!==u.substr(u.length-1)&&(a[1]=(a[1]||"").replace(l,""),null!=(r=p.find[s](a,t,n))))){e=e.replace(p.match[s],"");break}return r||(r=void 0!==t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:r,expr:e}},d.filter=function(e,t,n,r){for(var i,o,a,s,l,u,c,f,h,m=e,g=[],v=t,y=t&&t[0]&&d.isXML(t[0]);e&&t.length;){for(a in p.filter)if(null!=(i=p.leftMatch[a].exec(e))&&i[2]){if(u=p.filter[a],c=i[1],o=!1,i.splice(1,1),"\\"===c.substr(c.length-1))continue;if(v===g&&(g=[]),p.preFilter[a])if(i=p.preFilter[a](i,v,n,g,r,y)){if(!0===i)continue}else o=s=!0;if(i)for(f=0;null!=(l=v[f]);f++)l&&(h=r^(s=u(l,i,f,v)),n&&null!=s?h?o=!0:v[f]=!1:h&&(g.push(l),o=!0));if(void 0!==s){if(n||(v=g),e=e.replace(p.match[a],""),!o)return[];break}}if(e===m){if(null!=o)break;d.error(e)}m=e}return v},d.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var f=d.getText=function(e){var t,n,r=e.nodeType,i="";if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(u,"");for(e=e.firstChild;e;e=e.nextSibling)i+=f(e)}else if(3===r||4===r)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(i+=f(n));return i},p=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,r=n&&!c.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var o,a=0,s=e.length;a<s;a++)if(o=e[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[a]=i||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}i&&d.filter(t,e,!0)},">":function(e,t){var n,r="string"==typeof t,i=0,o=e.length;if(r&&!c.test(t)){for(t=t.toLowerCase();i<o;i++)if(n=e[i]){var a=n.parentNode;e[i]=a.nodeName.toLowerCase()===t&&a}}else{for(;i<o;i++)(n=e[i])&&(e[i]=r?n.parentNode:n.parentNode===t);r&&d.filter(t,e,!0)}},"":function(e,t,n){var i,o=r++,a=w;"string"!=typeof t||c.test(t)||(i=t=t.toLowerCase(),a=T),a("parentNode",t,o,e,i,n)},"~":function(e,t,n){var i,o=r++,a=w;"string"!=typeof t||c.test(t)||(i=t=t.toLowerCase(),a=T),a("previousSibling",t,o,e,i,n)}},find:{ID:function(e,t,n){if(void 0!==t.getElementById&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if(void 0!==t.getElementsByName){for(var n=[],r=t.getElementsByName(e[1]),i=0,o=r.length;i<o;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return 0===n.length?null:n}},TAG:function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,r,i,o){if(e=" "+e[1].replace(l,"")+" ",o)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(i^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(l,"")},TAG:function(e,t){return e[1].replace(l,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||d.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(("even"===e[2]?"2n":"odd"===e[2]&&"2n+1")||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&d.error(e[0]);return e[0]=r++,e},ATTR:function(e,t,n,r,i,o){var a=e[1]=e[1].replace(l,"");return!o&&p.attrMap[a]&&(e[1]=p.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(l,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(t,n,r,i,o){if("not"===t[1]){if(!((e.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var a=d.filter(t[3],n,r,!0^o);return r||i.push.apply(i,a),!1}t[3]=d(t[3],null,null,n)}else if(p.match.POS.test(t[0])||p.match.CHILD.test(t[0]))return!0;return t},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return!1===e.disabled&&"hidden"!==e.type},disabled:function(e){return!0===e.disabled},checked:function(e){return!0===e.checked},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!d(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2==0},odd:function(e,t){return t%2==1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],o=p.filters[i];if(o)return o(e,n,t,r);if("contains"===i)return(e.textContent||e.innerText||f([e])||"").indexOf(t[3])>=0;if("not"===i){for(var a=t[3],s=0,l=a.length;s<l;s++)if(a[s]===e)return!1;return!0}d.error(i)},CHILD:function(e,n){var r,i,o,a,s,l,u=n[1],c=e;switch(u){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===u)return!0;c=e;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0;case"nth":if(r=n[2],i=n[3],1===r&&0===i)return!0;if(o=n[0],(a=e.parentNode)&&(a[t]!==o||!e.nodeIndex)){for(s=0,c=a.firstChild;c;c=c.nextSibling)1===c.nodeType&&(c.nodeIndex=++s);a[t]=o}return l=e.nodeIndex-i,0===r?0===l:l%r==0&&l/r>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=d.attr?d.attr(e,n):p.attrHandle[n]?p.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),i=r+"",o=t[2],a=t[4];return null==r?"!="===o:!o&&d.attr?null!=r:"="===o?i===a:"*="===o?i.indexOf(a)>=0:"~="===o?(" "+i+" ").indexOf(a)>=0:a?"!="===o?i!==a:"^="===o?0===i.indexOf(a):"$="===o?i.substr(i.length-a.length)===a:"|="===o&&(i===a||i.substr(0,a.length+1)===a+"-"):i&&!1!==r},POS:function(e,t,n,r){var i=t[2],o=p.setFilters[i];if(o)return o(e,n,t,r)}}},h=p.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var g in p.match)p.match[g]=new RegExp(p.match[g].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[g]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[g].source.replace(/\\(\d+)/g,m));p.match.globalPOS=h;var v,y,b,x=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(n.documentElement.childNodes,0)[0].nodeType}catch(e){x=function(e,t){var n=0,r=t||[];if("[object Array]"===i.call(e))Array.prototype.push.apply(r,e);else if("number"==typeof e.length)for(var o=e.length;n<o;n++)r.push(e[n]);else for(;e[n];n++)r.push(e[n]);return r}}function T(e,n,r,i,o,a){for(var s=0,l=i.length;s<l;s++){var u=i[s];if(u){var c=!1;for(u=u[e];u;){if(u[t]===r){c=i[u.sizset];break}if(1!==u.nodeType||a||(u[t]=r,u.sizset=s),u.nodeName.toLowerCase()===n){c=u;break}u=u[e]}i[s]=c}}}function w(e,n,r,i,o,a){for(var s=0,l=i.length;s<l;s++){var u=i[s];if(u){var c=!1;for(u=u[e];u;){if(u[t]===r){c=i[u.sizset];break}if(1===u.nodeType)if(a||(u[t]=r,u.sizset=s),"string"!=typeof n){if(u===n){c=!0;break}}else if(d.filter(n,[u]).length>0){c=u;break}u=u[e]}i[s]=c}}}n.documentElement.compareDocumentPosition?v=function(e,t){return e===t?(a=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(v=function(e,t){if(e===t)return a=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],s=e.parentNode,l=t.parentNode,u=s;if(s===l)return y(e,t);if(!s)return-1;if(!l)return 1;for(;u;)i.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=i.length,r=o.length;for(var c=0;c<n&&c<r;c++)if(i[c]!==o[c])return y(i[c],o[c]);return c===n?y(e,o[c],-1):y(i[c],t,1)},y=function(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=n.createElement("div"),t="script"+(new Date).getTime(),r=n.documentElement;e.innerHTML="<a name='"+t+"'/>",r.insertBefore(e,r.firstChild),n.getElementById(t)&&(p.find.ID=function(e,t,n){if(void 0!==t.getElementById&&!n){var r=t.getElementById(e[1]);return r?r.id===e[1]||void 0!==r.getAttributeNode&&r.getAttributeNode("id").nodeValue===e[1]?[r]:void 0:[]}},p.filter.ID=function(e,t){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),r.removeChild(e),r=e=null}(),(b=n.createElement("div")).appendChild(n.createComment("")),b.getElementsByTagName("*").length>0&&(p.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],i=0;n[i];i++)1===n[i].nodeType&&r.push(n[i]);n=r}return n}),b.innerHTML="<a href='#'></a>",b.firstChild&&void 0!==b.firstChild.getAttribute&&"#"!==b.firstChild.getAttribute("href")&&(p.attrHandle.href=function(e){return e.getAttribute("href",2)}),b=null,n.querySelectorAll&&function(){var e=d,t=n.createElement("div");if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){for(var r in d=function(t,r,i,o){if(r=r||n,!o&&!d.isXML(r)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(a&&(1===r.nodeType||9===r.nodeType)){if(a[1])return x(r.getElementsByTagName(t),i);if(a[2]&&p.find.CLASS&&r.getElementsByClassName)return x(r.getElementsByClassName(a[2]),i)}if(9===r.nodeType){if("body"===t&&r.body)return x([r.body],i);if(a&&a[3]){var s=r.getElementById(a[3]);if(!s||!s.parentNode)return x([],i);if(s.id===a[3])return x([s],i)}try{return x(r.querySelectorAll(t),i)}catch(e){}}else if(1===r.nodeType&&"object"!==r.nodeName.toLowerCase()){var l=r,u=r.getAttribute("id"),c=u||"__sizzle__",f=r.parentNode,h=/^\s*[+~]/.test(t);u?c=c.replace(/'/g,"\\$&"):r.setAttribute("id",c),h&&f&&(r=r.parentNode);try{if(!h||f)return x(r.querySelectorAll("[id='"+c+"'] "+t),i)}catch(e){}finally{u||l.removeAttribute("id")}}}return e(t,r,i,o)},e)d[r]=e[r];t=null}}(),function(){var e=n.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var r=!t.call(n.createElement("div"),"div"),i=!1;try{t.call(n.documentElement,"[test!='']:sizzle")}catch(e){i=!0}d.matchesSelector=function(e,n){if(n=n.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!d.isXML(e))try{if(i||!p.match.PSEUDO.test(n)&&!/!=/.test(n)){var o=t.call(e,n);if(o||!r||e.document&&11!==e.document.nodeType)return o}}catch(e){}return d(n,null,null,[e]).length>0}}}(),function(){var e=n.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(p.order.splice(1,0,"CLASS"),p.find.CLASS=function(e,t,n){if(void 0!==t.getElementsByClassName&&!n)return t.getElementsByClassName(e[1])},e=null))}(),n.documentElement.contains?d.contains=function(e,t){return e!==t&&(!e.contains||e.contains(t))}:n.documentElement.compareDocumentPosition?d.contains=function(e,t){return!!(16&e.compareDocumentPosition(t))}:d.contains=function(){return!1},d.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName};var N=function(e,t,n){for(var r,i=[],o="",a=t.nodeType?[t]:t;r=p.match.PSEUDO.exec(e);)o+=r[0],e=e.replace(p.match.PSEUDO,"");e=p.relative[e]?e+"*":e;for(var s=0,l=a.length;s<l;s++)d(e,a[s],i,n);return d.filter(o,i)};d.attr=o.attr,d.selectors.attrMap={},o.find=d,o.expr=d.selectors,o.expr[":"]=o.expr.filters,o.unique=d.uniqueSort,o.text=d.getText,o.isXMLDoc=d.isXML,o.contains=d.contains}();var O=/Until$/,B=/^(?:parents|prevUntil|prevAll)/,P=/,/,q=/^.[^:#\[\.,]*$/,W=Array.prototype.slice,I=o.expr.match.globalPOS,$={children:!0,contents:!0,next:!0,prev:!0};function R(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function X(e,t,n){if(t=t||0,o.isFunction(t))return o.grep(e,(function(e,r){return!!t.call(e,r,e)===n}));if(t.nodeType)return o.grep(e,(function(e,r){return e===t===n}));if("string"==typeof t){var r=o.grep(e,(function(e){return 1===e.nodeType}));if(q.test(t))return o.filter(t,r,!n);t=o.filter(t,r)}return o.grep(e,(function(e,r){return o.inArray(e,t)>=0===n}))}function z(e){var t=V.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}o.fn.extend({find:function(e){var t,n,r=this;if("string"!=typeof e)return o(e).filter((function(){for(t=0,n=r.length;t<n;t++)if(o.contains(r[t],this))return!0}));var i,a,s,l=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++)if(i=l.length,o.find(e,this[t],l),t>0)for(a=i;a<l.length;a++)for(s=0;s<i;s++)if(l[s]===l[a]){l.splice(a--,1);break}return l},has:function(e){var t=o(e);return this.filter((function(){for(var e=0,n=t.length;e<n;e++)if(o.contains(this,t[e]))return!0}))},not:function(e){return this.pushStack(X(this,e,!1),"not",e)},filter:function(e){return this.pushStack(X(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?I.test(e)?o(e,this.context).index(this[0])>=0:o.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r,i=[],a=this[0];if(o.isArray(e)){for(var s=1;a&&a.ownerDocument&&a!==t;){for(n=0;n<e.length;n++)o(a).is(e[n])&&i.push({selector:e[n],elem:a,level:s});a=a.parentNode,s++}return i}var l=I.test(e)||"string"!=typeof e?o(e,t||this.context):0;for(n=0,r=this.length;n<r;n++)for(a=this[n];a;){if(l?l.index(a)>-1:o.find.matchesSelector(a,e)){i.push(a);break}if(!(a=a.parentNode)||!a.ownerDocument||a===t||11===a.nodeType)break}return i=i.length>1?o.unique(i):i,this.pushStack(i,"closest",e)},index:function(e){return e?"string"==typeof e?o.inArray(this[0],o(e)):o.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?o(e,t):o.makeArray(e&&e.nodeType?[e]:e),r=o.merge(this.get(),n);return this.pushStack(R(n[0])||R(r[0])?r:o.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),o.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return o.dir(e,"parentNode")},parentsUntil:function(e,t,n){return o.dir(e,"parentNode",n)},next:function(e){return o.nth(e,2,"nextSibling")},prev:function(e){return o.nth(e,2,"previousSibling")},nextAll:function(e){return o.dir(e,"nextSibling")},prevAll:function(e){return o.dir(e,"previousSibling")},nextUntil:function(e,t,n){return o.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return o.dir(e,"previousSibling",n)},siblings:function(e){return o.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return o.sibling(e.firstChild)},contents:function(e){return o.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:o.makeArray(e.childNodes)}},(function(e,t){o.fn[e]=function(n,r){var i=o.map(this,t,n);return O.test(e)||(r=n),r&&"string"==typeof r&&(i=o.filter(r,i)),i=this.length>1&&!$[e]?o.unique(i):i,(this.length>1||P.test(r))&&B.test(e)&&(i=i.reverse()),this.pushStack(i,e,W.call(arguments).join(","))}})),o.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?o.find.matchesSelector(t[0],e)?[t[0]]:[]:o.find.matches(e,t)},dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!o(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},nth:function(e,t,n,r){t=t||1;for(var i=0;e&&(1!==e.nodeType||++i!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var V="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",U=/ jQuery\d+="(?:\d+|null)"/g,G=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,J=/<([\w:]+)/,Q=/<tbody/i,K=/<|&#?\w+;/,Z=/<(?:script|style)/i,ee=/<(?:script|object|embed|option|style)/i,te=new RegExp("<(?:"+V+")[\\s/>]","i"),ne=/checked\s*(?:[^=]|=\s*.checked.)/i,re=/\/(java|ecma)script/i,ie=/^\s*<!(?:\[CDATA\[|\-\-)/,oe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ae=z(n);function se(e,t){return o.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function le(e,t){if(1===t.nodeType&&o.hasData(e)){var n,r,i,a=o._data(e),s=o._data(t,a),l=a.events;if(l)for(n in delete s.handle,s.events={},l)for(r=0,i=l[n].length;r<i;r++)o.event.add(t,n,l[n][r]);s.data&&(s.data=o.extend({},s.data))}}function ue(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(n=t.nodeName.toLowerCase())?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(o.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function ce(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function de(e){"checkbox"!==e.type&&"radio"!==e.type||(e.defaultChecked=e.checked)}function fe(e){var t=(e.nodeName||"").toLowerCase();"input"===t?de(e):"script"!==t&&void 0!==e.getElementsByTagName&&o.grep(e.getElementsByTagName("input"),de)}oe.optgroup=oe.option,oe.tbody=oe.tfoot=oe.colgroup=oe.caption=oe.thead,oe.th=oe.td,o.support.htmlSerialize||(oe._default=[1,"div<div>","</div>"]),o.fn.extend({text:function(e){return o.access(this,(function(e){return void 0===e?o.text(this):this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(e))}),null,e,arguments.length)},wrapAll:function(e){if(o.isFunction(e))return this.each((function(t){o(this).wrapAll(e.call(this,t))}));if(this[0]){var t=o(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return o.isFunction(e)?this.each((function(t){o(this).wrapInner(e.call(this,t))})):this.each((function(){var t=o(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=o.isFunction(e);return this.each((function(n){o(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){o.nodeName(this,"body")||o(this).replaceWith(this.childNodes)})).end()},append:function(){return this.domManip(arguments,!0,(function(e){1===this.nodeType&&this.appendChild(e)}))},prepend:function(){return this.domManip(arguments,!0,(function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)}))},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,(function(e){this.parentNode.insertBefore(e,this)}));if(arguments.length){var e=o.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}));if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,o.clean(arguments)),e}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)e&&!o.filter(e,[n]).length||(t||1!==n.nodeType||(o.cleanData(n.getElementsByTagName("*")),o.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&o.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return o.clone(this,e,t)}))},html:function(e){return o.access(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(U,""):null;if("string"==typeof e&&!Z.test(e)&&(o.support.leadingWhitespace||!G.test(e))&&!oe[(J.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Y,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(o.cleanData(t.getElementsByTagName("*")),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?o.isFunction(e)?this.each((function(t){var n=o(this),r=n.html();n.replaceWith(e.call(this,t,r))})):("string"!=typeof e&&(e=o(e).detach()),this.each((function(){var t=this.nextSibling,n=this.parentNode;o(this).remove(),t?o(t).before(e):o(n).append(e)}))):this.length?this.pushStack(o(o.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){var r,i,a,s,l=e[0],u=[];if(!o.support.checkClone&&3===arguments.length&&"string"==typeof l&&ne.test(l))return this.each((function(){o(this).domManip(e,t,n,!0)}));if(o.isFunction(l))return this.each((function(r){var i=o(this);e[0]=l.call(this,r,t?i.html():void 0),i.domManip(e,t,n)}));if(this[0]){if(s=l&&l.parentNode,i=1===(a=(r=o.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:o.buildFragment(e,this,u)).fragment).childNodes.length?a=a.firstChild:a.firstChild){t=t&&o.nodeName(i,"tr");for(var c=0,d=this.length,f=d-1;c<d;c++)n.call(t?se(this[c],i):this[c],r.cacheable||d>1&&c<f?o.clone(a,!0,!0):a)}u.length&&o.each(u,(function(e,t){t.src?o.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):o.globalEval((t.text||t.textContent||t.innerHTML||"").replace(ie,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)}))}return this}}),o.buildFragment=function(e,t,r){var i,a,s,l,u=e[0];return t&&t[0]&&(l=t[0].ownerDocument||t[0]),l.createDocumentFragment||(l=n),!(1===e.length&&"string"==typeof u&&u.length<512&&l===n&&"<"===u.charAt(0))||ee.test(u)||!o.support.checkClone&&ne.test(u)||!o.support.html5Clone&&te.test(u)||(a=!0,(s=o.fragments[u])&&1!==s&&(i=s)),i||(i=l.createDocumentFragment(),o.clean(e,l,i,r)),a&&(o.fragments[u]=s?i:1),{fragment:i,cacheable:a}},o.fragments={},o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){o.fn[e]=function(n){var r=[],i=o(n),a=1===this.length&&this[0].parentNode;if(a&&11===a.nodeType&&1===a.childNodes.length&&1===i.length)return i[t](this[0]),this;for(var s=0,l=i.length;s<l;s++){var u=(s>0?this.clone(!0):this).get();o(i[s])[t](u),r=r.concat(u)}return this.pushStack(r,e,i.selector)}})),o.extend({clone:function(e,t,r){var i,a,s,l=o.support.html5Clone||o.isXMLDoc(e)||!te.test("<"+e.nodeName+">")?e.cloneNode(!0):function(e){var t=n.createElement("div");return ae.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}(e);if(!(o.support.noCloneEvent&&o.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||o.isXMLDoc(e)))for(ue(e,l),i=ce(e),a=ce(l),s=0;i[s];++s)a[s]&&ue(i[s],a[s]);if(t&&(le(e,l),r))for(i=ce(e),a=ce(l),s=0;i[s];++s)le(i[s],a[s]);return i=a=null,l},clean:function(e,t,r,i){var a,s,l,u=[];void 0===(t=t||n).createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||n);for(var c,d=0;null!=(c=e[d]);d++)if("number"==typeof c&&(c+=""),c){if("string"==typeof c)if(K.test(c)){c=c.replace(Y,"<$1></$2>");var f,p=(J.exec(c)||["",""])[1].toLowerCase(),h=oe[p]||oe._default,m=h[0],g=t.createElement("div"),v=ae.childNodes;for(t===n?ae.appendChild(g):z(t).appendChild(g),g.innerHTML=h[1]+c+h[2];m--;)g=g.lastChild;if(!o.support.tbody){var y=Q.test(c),b="table"!==p||y?"<table>"!==h[1]||y?[]:g.childNodes:g.firstChild&&g.firstChild.childNodes;for(l=b.length-1;l>=0;--l)o.nodeName(b[l],"tbody")&&!b[l].childNodes.length&&b[l].parentNode.removeChild(b[l])}!o.support.leadingWhitespace&&G.test(c)&&g.insertBefore(t.createTextNode(G.exec(c)[0]),g.firstChild),c=g.childNodes,g&&(g.parentNode.removeChild(g),v.length>0&&(f=v[v.length-1])&&f.parentNode&&f.parentNode.removeChild(f))}else c=t.createTextNode(c);var x;if(!o.support.appendChecked)if(c[0]&&"number"==typeof(x=c.length))for(l=0;l<x;l++)fe(c[l]);else fe(c);c.nodeType?u.push(c):u=o.merge(u,c)}if(r)for(a=function(e){return!e.type||re.test(e.type)},d=0;u[d];d++)if(s=u[d],i&&o.nodeName(s,"script")&&(!s.type||re.test(s.type)))i.push(s.parentNode?s.parentNode.removeChild(s):s);else{if(1===s.nodeType){var T=o.grep(s.getElementsByTagName("script"),a);u.splice.apply(u,[d+1,0].concat(T))}r.appendChild(s)}return u},cleanData:function(e){for(var t,n,r,i=o.cache,a=o.event.special,s=o.support.deleteExpando,l=0;null!=(r=e[l]);l++)if((!r.nodeName||!o.noData[r.nodeName.toLowerCase()])&&(n=r[o.expando])){if((t=i[n])&&t.events){for(var u in t.events)a[u]?o.event.remove(r,u):o.removeEvent(r,u,t.handle);t.handle&&(t.handle.elem=null)}s?delete r[o.expando]:r.removeAttribute&&r.removeAttribute(o.expando),delete i[n]}}});var pe,he,me,ge=/alpha\([^)]*\)/i,ve=/opacity=([^)]*)/,ye=/([A-Z]|^ms)/g,be=/^[\-+]?(?:\d*\.)?\d+$/i,xe=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Te=/^([\-+])=([\-+.\de]+)/,we=/^margin/,Ne={position:"absolute",visibility:"hidden",display:"block"},Ce=["Top","Right","Bottom","Left"];function Ee(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i="width"===t?1:0;if(r>0){if("border"!==n)for(;i<4;i+=2)n||(r-=parseFloat(o.css(e,"padding"+Ce[i]))||0),"margin"===n?r+=parseFloat(o.css(e,n+Ce[i]))||0:r-=parseFloat(o.css(e,"border"+Ce[i]+"Width"))||0;return r+"px"}if(((r=pe(e,t))<0||null==r)&&(r=e.style[t]),xe.test(r))return r;if(r=parseFloat(r)||0,n)for(;i<4;i+=2)r+=parseFloat(o.css(e,"padding"+Ce[i]))||0,"padding"!==n&&(r+=parseFloat(o.css(e,"border"+Ce[i]+"Width"))||0),"margin"===n&&(r+=parseFloat(o.css(e,n+Ce[i]))||0);return r+"px"}o.fn.css=function(e,t){return o.access(this,(function(e,t,n){return void 0!==n?o.style(e,t,n):o.css(e,t)}),e,t,arguments.length>1)},o.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=pe(e,"opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:o.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,s=o.camelCase(t),l=e.style,u=o.cssHooks[s];if(t=o.cssProps[s]||s,void 0===n)return u&&"get"in u&&void 0!==(i=u.get(e,!1,r))?i:l[t];if(!("string"===(a=typeof n)&&(i=Te.exec(n))&&(n=+(i[1]+1)*+i[2]+parseFloat(o.css(e,t)),a="number"),null==n||"number"===a&&isNaN(n)||("number"!==a||o.cssNumber[s]||(n+="px"),u&&"set"in u&&void 0===(n=u.set(e,n)))))try{l[t]=n}catch(e){}}},css:function(e,t,n){var r,i;return t=o.camelCase(t),i=o.cssHooks[t],"cssFloat"===(t=o.cssProps[t]||t)&&(t="float"),i&&"get"in i&&void 0!==(r=i.get(e,!0,n))?r:pe?pe(e,t):void 0},swap:function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r}}),o.curCSS=o.css,n.defaultView&&n.defaultView.getComputedStyle&&(he=function(e,t){var n,r,i,a,s=e.style;return t=t.replace(ye,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(i=r.getComputedStyle(e,null))&&(""!==(n=i.getPropertyValue(t))||o.contains(e.ownerDocument.documentElement,e)||(n=o.style(e,t))),!o.support.pixelMargin&&i&&we.test(t)&&xe.test(n)&&(a=s.width,s.width=n,n=i.width,s.width=a),n}),n.documentElement.currentStyle&&(me=function(e,t){var n,r,i,o=e.currentStyle&&e.currentStyle[t],a=e.style;return null==o&&a&&(i=a[t])&&(o=i),xe.test(o)&&(n=a.left,(r=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o,o=a.pixelLeft+"px",a.left=n,r&&(e.runtimeStyle.left=r)),""===o?"auto":o}),pe=he||me,o.each(["height","width"],(function(e,t){o.cssHooks[t]={get:function(e,n,r){if(n)return 0!==e.offsetWidth?Ee(e,t,r):o.swap(e,Ne,(function(){return Ee(e,t,r)}))},set:function(e,t){return be.test(t)?t+"px":t}}})),o.support.opacity||(o.cssHooks.opacity={get:function(e,t){return ve.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=o.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===o.trim(a.replace(ge,""))&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=ge.test(a)?a.replace(ge,i):a+" "+i)}}),o((function(){o.support.reliableMarginRight||(o.cssHooks.marginRight={get:function(e,t){return o.swap(e,{display:"inline-block"},(function(){return t?pe(e,"margin-right"):e.style.marginRight}))}})})),o.expr&&o.expr.filters&&(o.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!o.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||o.css(e,"display"))},o.expr.filters.visible=function(e){return!o.expr.filters.hidden(e)}),o.each({margin:"",padding:"",border:"Width"},(function(e,t){o.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],o={};for(r=0;r<4;r++)o[e+Ce[r]+t]=i[r]||i[r-2]||i[0];return o}}}));var ke,Se,Ae=/%20/g,Le=/\[\]$/,De=/\r?\n/g,je=/#.*$/,Fe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Me=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,_e=/^(?:GET|HEAD)$/,He=/^\/\//,Oe=/\?/,Be=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Pe=/^(?:select|textarea)/i,qe=/\s+/,We=/([?&])_=[^&]*/,Ie=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,$e=o.fn.load,Re={},Xe={},ze=["*/"]+["*"];try{ke=i.href}catch(e){(ke=n.createElement("a")).href="",ke=ke.href}function Ve(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),o.isFunction(n))for(var r,i,a=t.toLowerCase().split(qe),s=0,l=a.length;s<l;s++)r=a[s],(i=/^\+/.test(r))&&(r=r.substr(1)||"*"),(e[r]=e[r]||[])[i?"unshift":"push"](n)}}function Ue(e,t,n,r,i,o){(o=o||{})[i=i||t.dataTypes[0]]=!0;for(var a,s=e[i],l=0,u=s?s.length:0,c=e===Re;l<u&&(c||!a);l++)"string"==typeof(a=s[l](t,n,r))&&(!c||o[a]?a=void 0:(t.dataTypes.unshift(a),a=Ue(e,t,n,r,a,o)));return!c&&a||o["*"]||(a=Ue(e,t,n,r,"*",o)),a}function Ge(e,t){var n,r,i=o.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);r&&o.extend(!0,e,r)}function Ye(e,t,n,r){if(o.isArray(t))o.each(t,(function(t,i){n||Le.test(e)?r(e,i):Ye(e+"["+("object"==typeof i?t:"")+"]",i,n,r)}));else if(n||"object"!==o.type(t))r(e,t);else for(var i in t)Ye(e+"["+i+"]",t[i],n,r)}Se=Ie.exec(ke.toLowerCase())||[],o.fn.extend({load:function(e,t,n){if("string"!=typeof e&&$e)return $e.apply(this,arguments);if(!this.length)return this;var r=e.indexOf(" ");if(r>=0){var i=e.slice(r,e.length);e=e.slice(0,r)}var a="GET";t&&(o.isFunction(t)?(n=t,t=void 0):"object"==typeof t&&(t=o.param(t,o.ajaxSettings.traditional),a="POST"));var s=this;return o.ajax({url:e,type:a,dataType:"html",data:t,complete:function(e,t,r){r=e.responseText,e.isResolved()&&(e.done((function(e){r=e})),s.html(i?o("<div>").append(r.replace(Be,"")).find(i):r)),n&&s.each(n,[r,t,e])}}),this},serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map((function(){return this.elements?o.makeArray(this.elements):this})).filter((function(){return this.name&&!this.disabled&&(this.checked||Pe.test(this.nodeName)||Me.test(this.type))})).map((function(e,t){var n=o(this).val();return null==n?null:o.isArray(n)?o.map(n,(function(e,n){return{name:t.name,value:e.replace(De,"\r\n")}})):{name:t.name,value:n.replace(De,"\r\n")}})).get()}}),o.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),(function(e,t){o.fn[t]=function(e){return this.on(t,e)}})),o.each(["get","post"],(function(e,t){o[t]=function(e,n,r,i){return o.isFunction(n)&&(i=i||r,r=n,n=void 0),o.ajax({type:t,url:e,data:n,success:r,dataType:i})}})),o.extend({getScript:function(e,t){return o.get(e,void 0,t,"script")},getJSON:function(e,t,n){return o.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Ge(e,o.ajaxSettings):(t=e,e=o.ajaxSettings),Ge(e,t),e},ajaxSettings:{url:ke,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Se[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ze},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":o.parseJSON,"text xml":o.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Ve(Re),ajaxTransport:Ve(Xe),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,a,s,l,u,c,d=o.ajaxSetup({},t),f=d.context||d,p=f!==d&&(f.nodeType||f instanceof o)?o(f):o.event,h=o.Deferred(),m=o.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x={readyState:0,setRequestHeader:function(e,t){if(!b){var n=e.toLowerCase();e=y[n]=y[n]||e,v[e]=t}return this},getAllResponseHeaders:function(){return 2===b?r:null},getResponseHeader:function(e){var t;if(2===b){if(!i)for(i={};t=Fe.exec(r);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return b||(d.mimeType=e),this},abort:function(e){return e=e||"abort",a&&a.abort(e),T(0,e),this}};function T(e,t,i,l){if(2!==b){b=2,s&&clearTimeout(s),a=void 0,r=l||"",x.readyState=e>0?4:0;var c,v,y,T,w,N=t,C=i?function(e,t,n){var r,i,o,a,s=e.contents,l=e.dataTypes,u=e.responseFields;for(i in u)i in n&&(t[u[i]]=n[i]);for(;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("content-type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(d,x,i):void 0;if(e>=200&&e<300||304===e)if(d.ifModified&&((T=x.getResponseHeader("Last-Modified"))&&(o.lastModified[n]=T),(w=x.getResponseHeader("Etag"))&&(o.etag[n]=w)),304===e)N="notmodified",c=!0;else try{v=function(e,t){e.dataFilter&&(t=e.dataFilter(t,e.dataType));var n,r,i,a,s,l,u,c,d=e.dataTypes,f={},p=d.length,h=d[0];for(n=1;n<p;n++){if(1===n)for(r in e.converters)"string"==typeof r&&(f[r.toLowerCase()]=e.converters[r]);if(a=h,"*"===(h=d[n]))h=a;else if("*"!==a&&a!==h){if(!(l=f[s=a+" "+h]||f["* "+h]))for(u in c=void 0,f)if(((i=u.split(" "))[0]===a||"*"===i[0])&&(c=f[i[1]+" "+h])){!0===(u=f[u])?l=c:!0===c&&(l=u);break}l||c||o.error("No conversion from "+s.replace(" "," to ")),!0!==l&&(t=l?l(t):c(u(t)))}}return t}(d,C),N="success",c=!0}catch(e){N="parsererror",y=e}else y=N,N&&!e||(N="error",e<0&&(e=0));x.status=e,x.statusText=""+(t||N),c?h.resolveWith(f,[v,N,x]):h.rejectWith(f,[x,N,y]),x.statusCode(g),g=void 0,u&&p.trigger("ajax"+(c?"Success":"Error"),[x,d,c?v:y]),m.fireWith(f,[x,N]),u&&(p.trigger("ajaxComplete",[x,d]),--o.active||o.event.trigger("ajaxStop"))}}if(h.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.then(t,t);return this},d.url=((e||d.url)+"").replace(je,"").replace(He,Se[1]+"//"),d.dataTypes=o.trim(d.dataType||"*").toLowerCase().split(qe),null==d.crossDomain&&(l=Ie.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]==Se[1]&&l[2]==Se[2]&&(l[3]||("http:"===l[1]?80:443))==(Se[3]||("http:"===Se[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=o.param(d.data,d.traditional)),Ue(Re,d,t,x),2===b)return!1;if(u=d.global,d.type=d.type.toUpperCase(),d.hasContent=!_e.test(d.type),u&&0==o.active++&&o.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(Oe.test(d.url)?"&":"?")+d.data,delete d.data),n=d.url,!1===d.cache)){var w=o.now(),N=d.url.replace(We,"$1_="+w);d.url=N+(N===d.url?(Oe.test(d.url)?"&":"?")+"_="+w:"")}for(c in(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&x.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(n=n||d.url,o.lastModified[n]&&x.setRequestHeader("If-Modified-Since",o.lastModified[n]),o.etag[n]&&x.setRequestHeader("If-None-Match",o.etag[n])),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+ze+"; q=0.01":""):d.accepts["*"]),d.headers)x.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(!1===d.beforeSend.call(f,x,d)||2===b))return x.abort(),!1;for(c in{success:1,error:1,complete:1})x[c](d[c]);if(a=Ue(Xe,d,t,x)){x.readyState=1,u&&p.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(s=setTimeout((function(){x.abort("timeout")}),d.timeout));try{b=1,a.send(v,T)}catch(e){if(!(b<2))throw e;T(-1,e)}}else T(-1,"No Transport");return x},param:function(e,t){var n=[],r=function(e,t){t=o.isFunction(t)?t():t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=o.ajaxSettings.traditional),o.isArray(e)||e.jquery&&!o.isPlainObject(e))o.each(e,(function(){r(this.name,this.value)}));else for(var i in e)Ye(i,e[i],t,r);return n.join("&").replace(Ae,"+")}}),o.extend({active:0,lastModified:{},etag:{}});var Je=o.now(),Qe=/(\=)\?(&|$)|\?\?/i;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return o.expando+"_"+Je++}}),o.ajaxPrefilter("json jsonp",(function(t,n,r){var i="string"==typeof t.data&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if("jsonp"===t.dataTypes[0]||!1!==t.jsonp&&(Qe.test(t.url)||i&&Qe.test(t.data))){var a,s=t.jsonpCallback=o.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,l=e[s],u=t.url,c=t.data,d="$1"+s+"$2";return!1!==t.jsonp&&(u=u.replace(Qe,d),t.url===u&&(i&&(c=c.replace(Qe,d)),t.data===c&&(u+=(/\?/.test(u)?"&":"?")+t.jsonp+"="+s))),t.url=u,t.data=c,e[s]=function(e){a=[e]},r.always((function(){e[s]=l,a&&o.isFunction(l)&&e[s](a[0])})),t.converters["script json"]=function(){return a||o.error(s+" was not called"),a[0]},t.dataTypes[0]="json","script"}})),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return o.globalEval(e),e}}}),o.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),o.ajaxTransport("script",(function(e){if(e.crossDomain){var t,r=n.head||n.getElementsByTagName("head")[0]||n.documentElement;return{send:function(i,o){(t=n.createElement("script")).async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,r&&t.parentNode&&r.removeChild(t),t=void 0,n||o(200,"success"))},r.insertBefore(t,r.firstChild)},abort:function(){t&&t.onload(0,1)}}}}));var Ke,Ze,et=!!e.ActiveXObject&&function(){for(var e in Ke)Ke[e](0,1)},tt=0;function nt(){try{return new e.XMLHttpRequest}catch(e){}}o.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&nt()||function(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:nt,Ze=o.ajaxSettings.xhr(),o.extend(o.support,{ajax:!!Ze,cors:!!Ze&&"withCredentials"in Ze}),o.support.ajax&&o.ajaxTransport((function(t){var n;if(!t.crossDomain||o.support.cors)return{send:function(r,i){var a,s,l=t.xhr();if(t.username?l.open(t.type,t.url,t.async,t.username,t.password):l.open(t.type,t.url,t.async),t.xhrFields)for(s in t.xhrFields)l[s]=t.xhrFields[s];t.mimeType&&l.overrideMimeType&&l.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(e){}l.send(t.hasContent&&t.data||null),n=function(e,r){var s,u,c,d,f;try{if(n&&(r||4===l.readyState))if(n=void 0,a&&(l.onreadystatechange=o.noop,et&&delete Ke[a]),r)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),d={},(f=l.responseXML)&&f.documentElement&&(d.xml=f);try{d.text=l.responseText}catch(e){}try{u=l.statusText}catch(e){u=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(e){r||i(-1,e)}d&&i(s,u,d,c)},t.async&&4!==l.readyState?(a=++tt,et&&(Ke||(Ke={},o(e).unload(et)),Ke[a]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}));var rt,it,ot,at,st={},lt=/^(?:toggle|show|hide)$/,ut=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ct=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];function dt(){return setTimeout(ft,0),at=o.now()}function ft(){at=void 0}function pt(e,t){var n={};return o.each(ct.concat.apply([],ct.slice(0,t)),(function(){n[this]=e})),n}function ht(e){if(!st[e]){var t=n.body,r=o("<"+e+">").appendTo(t),i=r.css("display");r.remove(),"none"!==i&&""!==i||(rt||((rt=n.createElement("iframe")).frameBorder=rt.width=rt.height=0),t.appendChild(rt),it&&rt.createElement||((it=(rt.contentWindow||rt.contentDocument).document).write((o.support.boxModel?"<!doctype html>":"")+"<html><body>"),it.close()),r=it.createElement(e),it.body.appendChild(r),i=o.css(r,"display"),t.removeChild(rt)),st[e]=i}return st[e]}o.fn.extend({show:function(e,t,n){var r,i;if(e||0===e)return this.animate(pt("show",3),e,t,n);for(var a=0,s=this.length;a<s;a++)(r=this[a]).style&&(i=r.style.display,o._data(r,"olddisplay")||"none"!==i||(i=r.style.display=""),(""===i&&"none"===o.css(r,"display")||!o.contains(r.ownerDocument.documentElement,r))&&o._data(r,"olddisplay",ht(r.nodeName)));for(a=0;a<s;a++)(r=this[a]).style&&(""!==(i=r.style.display)&&"none"!==i||(r.style.display=o._data(r,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(pt("hide",3),e,t,n);for(var r,i,a=0,s=this.length;a<s;a++)(r=this[a]).style&&("none"===(i=o.css(r,"display"))||o._data(r,"olddisplay")||o._data(r,"olddisplay",i));for(a=0;a<s;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:o.fn.toggle,toggle:function(e,t,n){var r="boolean"==typeof e;return o.isFunction(e)&&o.isFunction(t)?this._toggle.apply(this,arguments):null==e||r?this.each((function(){var t=r?e:o(this).is(":hidden");o(this)[t?"show":"hide"]()})):this.animate(pt("toggle",3),e,t,n),this},fadeTo:function(e,t,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=o.speed(t,n,r);if(o.isEmptyObject(e))return this.each(i.complete,[!1]);function a(){!1===i.queue&&o._mark(this);var t,n,r,a,s,l,u,c,d,f,p,h=o.extend({},i),m=1===this.nodeType,g=m&&o(this).is(":hidden");for(r in h.animatedProperties={},e)if(r!==(t=o.camelCase(r))&&(e[t]=e[r],delete e[r]),(s=o.cssHooks[t])&&"expand"in s)for(r in l=s.expand(e[t]),delete e[t],l)r in e||(e[r]=l[r]);for(t in e){if(n=e[t],o.isArray(n)?(h.animatedProperties[t]=n[1],n=e[t]=n[0]):h.animatedProperties[t]=h.specialEasing&&h.specialEasing[t]||h.easing||"swing","hide"===n&&g||"show"===n&&!g)return h.complete.call(this);!m||"height"!==t&&"width"!==t||(h.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===o.css(this,"display")&&"none"===o.css(this,"float")&&(o.support.inlineBlockNeedsLayout&&"inline"!==ht(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}for(r in null!=h.overflow&&(this.style.overflow="hidden"),e)a=new o.fx(this,h,r),n=e[r],lt.test(n)?(p=o._data(this,"toggle"+r)||("toggle"===n?g?"show":"hide":0))?(o._data(this,"toggle"+r,"show"===p?"hide":"show"),a[p]()):a[n]():(u=ut.exec(n),c=a.cur(),u?(d=parseFloat(u[2]),"px"!==(f=u[3]||(o.cssNumber[r]?"":"px"))&&(o.style(this,r,(d||1)+f),c=(d||1)/a.cur()*c,o.style(this,r,c+f)),u[1]&&(d=("-="===u[1]?-1:1)*d+c),a.custom(c,d,f)):a.custom(c,n,""));return!0}return e=o.extend({},e),!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t,r=!1,i=o.timers,a=o._data(this);function s(e,t,r){var i=t[r];o.removeData(e,r,!0),i.stop(n)}if(n||o._unmark(!0,this),null==e)for(t in a)a[t]&&a[t].stop&&t.indexOf(".run")===t.length-4&&s(this,a,t);else a[t=e+".run"]&&a[t].stop&&s(this,a,t);for(t=i.length;t--;)i[t].elem!==this||null!=e&&i[t].queue!==e||(n?i[t](!0):i[t].saveState(),r=!0,i.splice(t,1));n&&r||o.dequeue(this,e)}))}}),o.each({slideDown:pt("show",1),slideUp:pt("hide",1),slideToggle:pt("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){o.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),o.extend({speed:function(e,t,n){var r=e&&"object"==typeof e?o.extend({},e):{complete:n||!n&&t||o.isFunction(e)&&e,duration:e,easing:n&&t||t&&!o.isFunction(t)&&t};return r.duration=o.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in o.fx.speeds?o.fx.speeds[r.duration]:o.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(e){o.isFunction(r.old)&&r.old.call(this),r.queue?o.dequeue(this,r.queue):!1!==e&&o._unmark(this)},r},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),o.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(o.fx.step[this.prop]||o.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=o.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,t,n){var r=this,i=o.fx;function a(e){return r.step(e)}this.startTime=at||dt(),this.end=t,this.now=this.start=e,this.pos=this.state=0,this.unit=n||this.unit||(o.cssNumber[this.prop]?"":"px"),a.queue=this.options.queue,a.elem=this.elem,a.saveState=function(){void 0===o._data(r.elem,"fxshow"+r.prop)&&(r.options.hide?o._data(r.elem,"fxshow"+r.prop,r.start):r.options.show&&o._data(r.elem,"fxshow"+r.prop,r.end))},a()&&o.timers.push(a)&&!ot&&(ot=setInterval(i.tick,i.interval))},show:function(){var e=o._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||o.style(this.elem,this.prop),this.options.show=!0,void 0!==e?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),o(this.elem).show()},hide:function(){this.options.orig[this.prop]=o._data(this.elem,"fxshow"+this.prop)||o.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,r,i=at||dt(),a=!0,s=this.elem,l=this.options;if(e||i>=l.duration+this.startTime){for(t in this.now=this.end,this.pos=this.state=1,this.update(),l.animatedProperties[this.prop]=!0,l.animatedProperties)!0!==l.animatedProperties[t]&&(a=!1);if(a){if(null==l.overflow||o.support.shrinkWrapBlocks||o.each(["","X","Y"],(function(e,t){s.style["overflow"+t]=l.overflow[e]})),l.hide&&o(s).hide(),l.hide||l.show)for(t in l.animatedProperties)o.style(s,t,l.orig[t]),o.removeData(s,"fxshow"+t,!0),o.removeData(s,"toggle"+t,!0);(r=l.complete)&&(l.complete=!1,r.call(s))}return!1}return l.duration==1/0?this.now=i:(n=i-this.startTime,this.state=n/l.duration,this.pos=o.easing[l.animatedProperties[this.prop]](this.state,n,0,1,l.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},o.extend(o.fx,{tick:function(){for(var e,t=o.timers,n=0;n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||o.fx.stop()},interval:13,stop:function(){clearInterval(ot),ot=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){o.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),o.each(ct.concat.apply([],ct),(function(e,t){t.indexOf("margin")&&(o.fx.step[t]=function(e){o.style(e.elem,t,Math.max(0,e.now)+e.unit)})})),o.expr&&o.expr.filters&&(o.expr.filters.animated=function(e){return o.grep(o.timers,(function(t){return e===t.elem})).length});var mt,gt=/^t(?:able|d|h)$/i,vt=/^(?:body|html)$/i;function yt(e){return o.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}return mt="getBoundingClientRect"in n.documentElement?function(e,t,n,r){try{r=e.getBoundingClientRect()}catch(e){}if(!r||!o.contains(n,e))return r?{top:r.top,left:r.left}:{top:0,left:0};var i=t.body,a=yt(t),s=n.clientTop||i.clientTop||0,l=n.clientLeft||i.clientLeft||0,u=a.pageYOffset||o.support.boxModel&&n.scrollTop||i.scrollTop,c=a.pageXOffset||o.support.boxModel&&n.scrollLeft||i.scrollLeft;return{top:r.top+u-s,left:r.left+c-l}}:function(e,t,n){for(var r,i=e.offsetParent,a=t.body,s=t.defaultView,l=s?s.getComputedStyle(e,null):e.currentStyle,u=e.offsetTop,c=e.offsetLeft;(e=e.parentNode)&&e!==a&&e!==n&&(!o.support.fixedPosition||"fixed"!==l.position);)r=s?s.getComputedStyle(e,null):e.currentStyle,u-=e.scrollTop,c-=e.scrollLeft,e===i&&(u+=e.offsetTop,c+=e.offsetLeft,!o.support.doesNotAddBorder||o.support.doesAddBorderForTableAndCells&&gt.test(e.nodeName)||(u+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),i,i=e.offsetParent),o.support.subtractsBorderForOverflowNotVisible&&"visible"!==r.overflow&&(u+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),l=r;return"relative"!==l.position&&"static"!==l.position||(u+=a.offsetTop,c+=a.offsetLeft),o.support.fixedPosition&&"fixed"===l.position&&(u+=Math.max(n.scrollTop,a.scrollTop),c+=Math.max(n.scrollLeft,a.scrollLeft)),{top:u,left:c}},o.fn.offset=function(e){if(arguments.length)return void 0===e?this:this.each((function(t){o.offset.setOffset(this,e,t)}));var t=this[0],n=t&&t.ownerDocument;return n?t===n.body?o.offset.bodyOffset(t):mt(t,n,n.documentElement):null},o.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return o.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(o.css(e,"marginTop"))||0,n+=parseFloat(o.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=o.css(e,"position");"static"===r&&(e.style.position="relative");var i,a,s=o(e),l=s.offset(),u=o.css(e,"top"),c=o.css(e,"left"),d={},f={};("absolute"===r||"fixed"===r)&&o.inArray("auto",[u,c])>-1?(i=(f=s.position()).top,a=f.left):(i=parseFloat(u)||0,a=parseFloat(c)||0),o.isFunction(t)&&(t=t.call(e,n,l)),null!=t.top&&(d.top=t.top-l.top+i),null!=t.left&&(d.left=t.left-l.left+a),"using"in t?t.using.call(e,d):s.css(d)}},o.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),r=vt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(o.css(e,"marginTop"))||0,n.left-=parseFloat(o.css(e,"marginLeft"))||0,r.top+=parseFloat(o.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(o.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||n.body;e&&!vt.test(e.nodeName)&&"static"===o.css(e,"position");)e=e.offsetParent;return e}))}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n=/Y/.test(t);o.fn[e]=function(r){return o.access(this,(function(e,r,i){var a=yt(e);if(void 0===i)return a?t in a?a[t]:o.support.boxModel&&a.document.documentElement[r]||a.document.body[r]:e[r];a?a.scrollTo(n?o(a).scrollLeft():i,n?i:o(a).scrollTop()):e[r]=i}),e,r,arguments.length,null)}})),o.each({Height:"height",Width:"width"},(function(e,t){var n="client"+e,r="scroll"+e,i="offset"+e;o.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(o.css(e,t,"padding")):this[t]():null},o.fn["outer"+e]=function(e){var n=this[0];return n?n.style?parseFloat(o.css(n,t,e?"margin":"border")):this[t]():null},o.fn[t]=function(e){return o.access(this,(function(e,t,a){var s,l,u,c;return o.isWindow(e)?(l=(s=e.document).documentElement[n],o.support.boxModel&&l||s.body&&s.body[n]||l):9===e.nodeType?(s=e.documentElement)[n]>=s[r]?s[n]:Math.max(e.body[r],s[r],e.body[i],s[i]):void 0===a?(u=o.css(e,t),c=parseFloat(u),o.isNumeric(c)?c:u):void o(e).css(t,a)}),t,e,arguments.length,null)}})),e.jQuery=e.$=o,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],(function(){return o})),o}(window)}));
define("underscore",[],(function(){return function(){var n=this,t=n._,r={},e=Array.prototype,i=Object.prototype,u=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=i.toString,f=i.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,d=e.filter,y=e.every,g=e.some,m=e.indexOf,b=e.lastIndexOf,x=Array.isArray,_=Object.keys,w=u.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.5.1";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var i=0,u=n.length;i<u;i++)if(t.call(e,n[i],i,n)===r)return}else for(var a in n)if(j.has(n,a)&&t.call(e,n[a],a,n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,(function(n,i,u){e.push(t.call(r,n,i,u))})),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),i?n.reduce(t,r):n.reduce(t);if(A(n,(function(n,u,a){i?r=t.call(e,r,n,u,a):(r=n,i=!0)})),!i)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),i?n.reduceRight(t,r):n.reduceRight(t);var u=n.length;if(u!==+u){var a=j.keys(n);u=a.length}if(A(n,(function(o,c,l){c=a?a[--u]:--u,i?r=t.call(e,r,n[c],c,l):(r=n[c],i=!0)})),!i)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,(function(n,i,u){if(t.call(r,n,i,u))return e=n,!0})),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(A(n,(function(n,i,u){t.call(r,n,i,u)&&e.push(n)})),e)},j.reject=function(n,t,r){return j.filter(n,(function(n,e,i){return!t.call(r,n,e,i)}),r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var i=!0;return null==n?i:y&&n.every===y?n.every(t,e):(A(n,(function(n,u,a){if(!(i=i&&t.call(e,n,u,a)))return r})),!!i)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var i=!1;return null==n?i:g&&n.some===g?n.some(t,e):(A(n,(function(n,u,a){if(i||(i=t.call(e,n,u,a)))return r})),!!i)};j.contains=j.include=function(n,t){return null!=n&&(m&&n.indexOf===m?-1!=n.indexOf(t):O(n,(function(n){return n===t})))},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,(function(n){return(e?t:n[t]).apply(n,r)}))},j.pluck=function(n,t){return j.map(n,(function(n){return n[t]}))},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,(function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0}))},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,(function(n,i,u){var a=t?t.call(r,n,i,u):n;a>e.computed&&(e={value:n,computed:a})})),e.value},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,(function(n,i,u){var a=t?t.call(r,n,i,u):n;a<e.computed&&(e={value:n,computed:a})})),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,(function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n})),e};var F=function(n){return j.isFunction(n)?n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=F(t);return j.pluck(j.map(n,(function(n,t,i){return{value:n,index:t,criteria:e.call(r,n,t,i)}})).sort((function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index<t.index?-1:1})),"value")};var k=function(n,t,r,e){var i={},u=F(null==t?j.identity:t);return A(n,(function(t,a){var o=u.call(r,t,a,n);e(i,o,t)})),i};j.groupBy=function(n,t,r){return k(n,t,r,(function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}))},j.countBy=function(n,t,r){return k(n,t,r,(function(n,t){j.has(n,t)||(n[t]=0),n[t]++}))},j.sortedIndex=function(n,t,r,e){for(var i=(r=null==r?j.identity:F(r)).call(e,t),u=0,a=n.length;u<a;){var o=u+a>>>1;r.call(e,n[o])<i?u=o+1:a=o}return u},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var R=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,(function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):R(n,t,r):r.push(n)})),r)};j.flatten=function(n,t){return R(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var i=r?j.map(n,r,e):n,u=[],a=[];return A(i,(function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),u.push(n[e]))})),u},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),(function(n){return j.every(t,(function(t){return j.indexOf(t,n)>=0}))}))},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,(function(n){return!j.contains(t,n)}))},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;r<n;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,i=n.length;e<i;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,i=n.length;if(r){if("number"!=typeof r)return n[e=j.sortedIndex(n,t)]===t?e:-1;e=r<0?Math.max(0,i+r):r}if(m&&n.indexOf===m)return n.indexOf(t,r);for(;e<i;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var i=e?r:n.length;i--;)if(n[i]===t)return i;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),i=0,u=new Array(e);i<e;)u[i++]=n,n+=r;return u};var M=function(){};j.bind=function(n,t){var r,e;if(w&&n.bind===w)return w.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));M.prototype=n.prototype;var i=new M;M.prototype=null;var u=n.apply(i,r.concat(o.call(arguments)));return Object(u)===u?u:i}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,(function(t){n[t]=j.bind(n[t],n)})),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout((function(){return n.apply(null,r)}),t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,i,u,a=null,o=0;r||(r={});var c=function(){o=!1===r.leading?0:new Date,a=null,u=n.apply(e,i)};return function(){var l=new Date;o||!1!==r.leading||(o=l);var f=t-(l-o);return e=this,i=arguments,f<=0?(clearTimeout(a),a=null,o=l,u=n.apply(e,i)):a||!1===r.trailing||(a=setTimeout(c,f)),u}},j.debounce=function(n,t,r){var e,i=null;return function(){var u=this,a=arguments,o=function(){i=null,r||(e=n.apply(u,a))},c=r&&!i;return clearTimeout(i),i=setTimeout(o,t),c&&(e=n.apply(u,a)),e}},j.once=function(n){var t,r=!1;return function(){return r||(r=!0,t=n.apply(this,arguments),n=null),t}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},j.keys=_||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){var t=[];for(var r in n)j.has(n,r)&&t.push(n[r]);return t},j.pairs=function(n){var t=[];for(var r in n)j.has(n,r)&&t.push([r,n[r]]);return t},j.invert=function(n){var t={};for(var r in n)j.has(n,r)&&(t[n[r]]=r);return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),(function(t){if(t)for(var r in t)n[r]=t[r]})),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,(function(r){r in n&&(t[r]=n[r])})),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var i in n)j.contains(r,i)||(t[i]=n[i]);return t},j.defaults=function(n){return A(o.call(arguments,1),(function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])})),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var i=l.call(n);if(i!=l.call(t))return!1;switch(i){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var u=r.length;u--;)if(r[u]==n)return e[u]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==i){if(f=(c=n.length)==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],(function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}})),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return void 0===n},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),i=0;i<n;i++)e[i]=t.call(r,i);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],(function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],(function(t){return I[n][t]}))}})),j.result=function(n,t){if(null!=n){var r=n[t];return j.isFunction(r)?r.call(n):r}},j.mixin=function(n){A(j.functions(n),(function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),D.call(this,r.apply(j,n))}}))};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var i=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),u=0,a="__p+='";n.replace(i,(function(t,r,e,i,o){return a+=n.slice(u,o).replace(C,(function(n){return"\\"+B[n]})),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),u=o+t.length,t})),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(n){throw n.source=a,n}if(t)return e(t,j);var o=function(n){return e.call(this,n,j)};return o.source="function("+(r.variable||"obj")+"){\n"+a+"}",o},j.chain=function(n){return j(n).chain()};var D=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],(function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],D.call(this,r)}})),A(["concat","join","slice"],(function(n){var t=e[n];j.prototype[n]=function(){return D.call(this,t.apply(this._wrapped,arguments))}})),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),_.noConflict()}));
/**
 * @license RequireJS i18n 2.0.4 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/i18n for details
 */
!function(){"use strict";var o=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;function n(o,n,e,t,r,i){n[o]&&(e.push(o),!0!==n[o]&&1!==n[o]||t.push(r+o+"/"+i))}function e(o,n,e,t,r){var i=t+n+"/"+r;require._fileExists(o.toUrl(i+".js"))&&e.push(i)}function t(o,n,e){var r;for(r in n)!n.hasOwnProperty(r)||o.hasOwnProperty(r)&&!e?"object"==typeof n[r]&&(!o[r]&&n[r]&&(o[r]={}),t(o[r],n[r],e)):o[r]=n[r]}define("i18n",["module"],(function(r){var i=r.config?r.config():{};return{version:"2.0.4",load:function(r,a,l,u){(u=u||{}).locale&&(i.locale=u.locale);var f,c,s,g=o.exec(r),v=g[1],p=g[4],h=g[5],d=p.split("-"),y=[],w={},j="";if(g[5]?f=(v=g[1])+h:(f=r,h=g[4],(p=i.locale)||(p=i.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),d=p.split("-")),u.isBuild){for(y.push(f),e(a,"root",y,v,h),c=0;c<d.length;c++)s=d[c],e(a,j+=(j?"-":"")+s,y,v,h);a(y,(function(){l()}))}else a([f],(function(o){var e,r=[];for(n("root",o,r,y,v,h),c=0;c<d.length;c++)e=d[c],n(j+=(j?"-":"")+e,o,r,y,v,h);a(y,(function(){var n,e,i;for(n=r.length-1;n>-1&&r[n];n--)!0!==(e=o[i=r[n]])&&1!==e||(e=a(v+i+"/"+h)),t(w,e);l(w)}))}))}}}))}();
define("sprintf",[],(function(){var e={};
/*! sprintf.js | Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro> | 3 clause BSD license */return function(e){var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};r.format=function(e,s){var i,a,o,u,c,f,l,p=1,h=e.length,d="",g=[];for(a=0;a<h;a++)if("string"===(d=t(e[a])))g.push(e[a]);else if("array"===d){if((u=e[a])[2])for(i=s[p],o=0;o<u[2].length;o++){if(!i.hasOwnProperty(u[2][o]))throw r('[sprintf] property "%s" does not exist',u[2][o]);i=i[u[2][o]]}else i=u[1]?s[u[1]]:s[p++];if(/[^s]/.test(u[8])&&"number"!=t(i))throw r("[sprintf] expecting number but found %s",t(i));switch(u[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=u[7]?i.toExponential(u[7]):i.toExponential();break;case"f":i=u[7]?parseFloat(i).toFixed(u[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&u[7]?i.substring(0,u[7]):i;break;case"u":i>>>=0;break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(u[8])&&u[3]&&i>=0?"+"+i:i,f=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",l=u[6]-String(i).length,c=u[6]?n(f,l):"",g.push(u[5]?i+c:c+i)}return g.join("")},r.cache={},r.parse=function(e){for(var r=e,t=[],n=[],s=0;r;){if(null!==(t=/^[^\x25]+/.exec(r)))n.push(t[0]);else if(null!==(t=/^\x25{2}/.exec(r)))n.push("%");else{if(null===(t=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(r)))throw"[sprintf] huh?";if(t[2]){s|=1;var i=[],a=t[2],o=[];if(null===(o=/^([a-z_][a-z_\d]*)/i.exec(a)))throw"[sprintf] huh?";for(i.push(o[1]);""!==(a=a.substring(o[0].length));)if(null!==(o=/^\.([a-z_][a-z_\d]*)/i.exec(a)))i.push(o[1]);else{if(null===(o=/^\[(\d+)\]/.exec(a)))throw"[sprintf] huh?";i.push(o[1])}t[2]=i}else s|=2;if(3===s)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";n.push(t)}r=r.substring(t[0].length)}return n};function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function n(e,r){for(var t=[];r>0;t[--r]=e);return t.join("")}e.sprintf=r,e.vsprintf=function(e,t,n){return(n=t.slice(0)).splice(0,0,e),r.apply(null,n)}}(void 0!==e?e:window),e}));
//! moment.js
//! version : 2.8.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(function(e){var t,n,s,a="undefined"!=typeof global?global:this,i=Math.round,r=Object.prototype.hasOwnProperty,o={},u=[],c="undefined"!=typeof module&&module.exports,l=/^\/?Date\((\-?\d+)/i,d=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,h=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,f=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,_=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,m=/\d\d?/,y=/\d{1,3}/,p=/\d{1,4}/,D=/[+\-]?\d{1,6}/,M=/\d+/,g=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Y=/Z|[\+\-]\d\d:?\d\d/gi,w=/T/i,v=/[\+\-]?\d+(\.\d{1,3})?/,k=/\d{1,2}/,b=/\d/,T=/\d\d/,S=/\d{3}/,O=/\d{4}/,W=/[+-]?\d{6}/,G=/[+-]?\d+/,F=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,U=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],C=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],z=/([\+\-]|\d\d)/gi,I=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),L={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},P={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},H={},x={s:45,m:45,h:22,d:26,M:11},A="DDD w W M D d".split(" "),Z="M D H h m s w W".split(" "),N={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return se(this.year()%100,2)},YYYY:function(){return se(this.year(),4)},YYYYY:function(){return se(this.year(),5)},YYYYYY:function(){var e=this.year();return(e>=0?"+":"-")+se(Math.abs(e),6)},gg:function(){return se(this.weekYear()%100,2)},gggg:function(){return se(this.weekYear(),4)},ggggg:function(){return se(this.weekYear(),5)},GG:function(){return se(this.isoWeekYear()%100,2)},GGGG:function(){return se(this.isoWeekYear(),4)},GGGGG:function(){return se(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return he(this.milliseconds()/100)},SS:function(){return se(he(this.milliseconds()/10),2)},SSS:function(){return se(this.milliseconds(),3)},SSSS:function(){return se(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+se(he(e/60),2)+":"+se(he(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+se(he(e/60),2)+se(he(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},E={},j=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function V(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function q(e,t){return r.call(e,t)}function $(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function J(e,t){var n=!0;return ee((function(){return n&&($(e),n=!1),t.apply(this,arguments)}),t)}function Q(e,t){return function(n){return se(e.call(this,n),t)}}function X(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}for(;A.length;)s=A.pop(),N[s+"o"]=X(N[s],s);for(;Z.length;)s=Z.pop(),N[s+s]=Q(N[s],2);function B(){}function R(e,t){!1!==t&&pe(e),te(this,e),this._d=new Date(+e._d)}function K(e){var n=le(e),s=n.year||0,a=n.quarter||0,i=n.month||0,r=n.week||0,o=n.day||0,u=n.hour||0,c=n.minute||0,l=n.second||0,d=n.millisecond||0;this._milliseconds=+d+1e3*l+6e4*c+36e5*u,this._days=+o+7*r,this._months=+i+3*a+12*s,this._data={},this._locale=t.localeData(),this._bubble()}function ee(e,t){for(var n in t)q(t,n)&&(e[n]=t[n]);return q(t,"toString")&&(e.toString=t.toString),q(t,"valueOf")&&(e.valueOf=t.valueOf),e}function te(e,t){var n,s,a;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=t._pf),void 0!==t._locale&&(e._locale=t._locale),u.length>0)for(n in u)void 0!==(a=t[s=u[n]])&&(e[s]=a);return e}function ne(e){return e<0?Math.ceil(e):Math.floor(e)}function se(e,t,n){for(var s=""+Math.abs(e),a=e>=0;s.length<t;)s="0"+s;return(a?n?"+":"":"-")+s}function ae(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function ie(e,n){return function(s,a){var i;return null===a||isNaN(+a)||(!function(e,t){E[e]||($(t),E[e]=!0)}(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period)."),i=s,s=a,a=i),s="string"==typeof s?+s:s,re(this,t.duration(s,a),e),this}}function re(e,n,s,a){var i=n._milliseconds,r=n._days,o=n._months;a=null==a||a,i&&e._d.setTime(+e._d+i*s),r&&Ae(e,"Date",xe(e,"Date")+r*s),o&&He(e,xe(e,"Month")+o*s),a&&t.updateOffset(e,r||o)}function oe(e){return"[object Array]"===Object.prototype.toString.call(e)}function ue(e,t,n){var s,a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0;for(s=0;s<a;s++)(n&&e[s]!==t[s]||!n&&he(e[s])!==he(t[s]))&&r++;return r+i}function ce(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=L[e]||P[t]||t}return e}function le(e){var t,n,s={};for(n in e)q(e,n)&&(t=ce(n))&&(s[t]=e[n]);return s}function de(n){var s,a;if(0===n.indexOf("week"))s=7,a="day";else{if(0!==n.indexOf("month"))return;s=12,a="month"}t[n]=function(i,r){var o,u,c=t._locale[n],l=[];if("number"==typeof i&&(r=i,i=e),u=function(e){var n=t().utc().set(a,e);return c.call(t._locale,n,i||"")},null!=r)return u(r);for(o=0;o<s;o++)l.push(u(o));return l}}function he(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function fe(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function _e(e,n,s){return Ie(t([e,11,31+n-s]),n,s).week}function me(e){return ye(e)?366:365}function ye(e){return e%4==0&&e%100!=0||e%400==0}function pe(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[1]<0||e._a[1]>11?1:e._a[2]<1||e._a[2]>fe(e._a[0],e._a[1])?2:e._a[3]<0||e._a[3]>23?3:e._a[4]<0||e._a[4]>59?4:e._a[5]<0||e._a[5]>59?5:e._a[6]<0||e._a[6]>999?6:-1,e._pf._overflowDayOfYear&&(t<0||t>2)&&(t=2),e._pf.overflow=t)}function De(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function Me(e){return e?e.toLowerCase().replace("_","-"):e}function ge(e){var n=null;if(!o[e]&&c)try{n=t.locale(),require("./locale/"+e),t.locale(n)}catch(e){}return o[e]}function Ye(e,n){return n._isUTC?t(e).zone(n._offset||0):t(e).local()}function we(e,t){return e.isValid()?(t=ve(t,e.localeData()),H[t]||(H[t]=function(e){var t,n,s,a=e.match(f);for(t=0,n=a.length;t<n;t++)N[a[t]]?a[t]=N[a[t]]:a[t]=(s=a[t]).match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"");return function(s){var i="";for(t=0;t<n;t++)i+=a[t]instanceof Function?a[t].call(s,e):a[t];return i}}(t)),H[t](e)):e.localeData().invalidDate()}function ve(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(_.lastIndex=0;n>=0&&_.test(e);)e=e.replace(_,s),_.lastIndex=0,n-=1;return e}function ke(e,t){var n=t._strict;switch(e){case"Q":return b;case"DDDD":return S;case"YYYY":case"GGGG":case"gggg":return n?O:p;case"Y":case"G":case"g":return G;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?W:D;case"S":if(n)return b;case"SS":if(n)return T;case"SSS":if(n)return S;case"DDD":return y;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return g;case"a":case"A":return t._locale._meridiemParse;case"X":return v;case"Z":case"ZZ":return Y;case"T":return w;case"SSSS":return M;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?T:m;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return m;case"Do":return k;default:return new RegExp(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,s,a){return t||n||s||a}))))}}function be(e){var t=(e=e||"").match(Y)||[],n=((t[t.length-1]||[])+"").match(z)||["-",0,0],s=60*n[1]+he(n[2]);return"+"===n[0]?-s:s}function Te(e,n,s){var a,i=s._a;switch(e){case"Q":null!=n&&(i[1]=3*(he(n)-1));break;case"M":case"MM":null!=n&&(i[1]=he(n)-1);break;case"MMM":case"MMMM":null!=(a=s._locale.monthsParse(n))?i[1]=a:s._pf.invalidMonth=n;break;case"D":case"DD":null!=n&&(i[2]=he(n));break;case"Do":null!=n&&(i[2]=he(parseInt(n,10)));break;case"DDD":case"DDDD":null!=n&&(s._dayOfYear=he(n));break;case"YY":i[0]=t.parseTwoDigitYear(n);break;case"YYYY":case"YYYYY":case"YYYYYY":i[0]=he(n);break;case"a":case"A":s._isPm=s._locale.isPM(n);break;case"H":case"HH":case"h":case"hh":i[3]=he(n);break;case"m":case"mm":i[4]=he(n);break;case"s":case"ss":i[5]=he(n);break;case"S":case"SS":case"SSS":case"SSSS":i[6]=he(1e3*("0."+n));break;case"X":s._d=new Date(1e3*parseFloat(n));break;case"Z":case"ZZ":s._useUTC=!0,s._tzm=be(n);break;case"dd":case"ddd":case"dddd":null!=(a=s._locale.weekdaysParse(n))?(s._w=s._w||{},s._w.d=a):s._pf.invalidWeekday=n;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),n&&(s._w=s._w||{},s._w[e]=he(n));break;case"gg":case"GG":s._w=s._w||{},s._w[e]=t.parseTwoDigitYear(n)}}function Se(e){var n,s,a,i,r,o,u;null!=(n=e._w).GG||null!=n.W||null!=n.E?(r=1,o=4,s=V(n.GG,e._a[0],Ie(t(),1,4).year),a=V(n.W,1),i=V(n.E,1)):(r=e._locale._week.dow,o=e._locale._week.doy,s=V(n.gg,e._a[0],Ie(t(),r,o).year),a=V(n.w,1),null!=n.d?(i=n.d)<r&&++a:i=null!=n.e?n.e+r:r),u=function(e,t,n,s,a){var i,r=Ce(e,0,1).getUTCDay();return{year:(i=7*(t-1)+((n=null!=n?n:a)-a)+(a-(r=0===r?7:r)+(r>s?7:0)-(r<a?7:0))+1)>0?e:e-1,dayOfYear:i>0?i:me(e-1)+i}}(s,a,i,o,r),e._a[0]=u.year,e._dayOfYear=u.dayOfYear}function Oe(e){var t,n,s,a,i=[];if(!e._d){for(s=function(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&Se(e),e._dayOfYear&&(a=V(e._a[0],s[0]),e._dayOfYear>me(a)&&(e._pf._overflowDayOfYear=!0),n=Ce(a,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=s[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];e._d=(e._useUTC?Ce:Ue).apply(null,i),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function We(e){if(e._f!==t.ISO_8601){e._a=[],e._pf.empty=!0;var n,s,a,i,r,o=""+e._i,u=o.length,c=0;for(a=ve(e._f,e._locale).match(f)||[],n=0;n<a.length;n++)i=a[n],(s=(o.match(ke(i,e))||[])[0])&&((r=o.substr(0,o.indexOf(s))).length>0&&e._pf.unusedInput.push(r),o=o.slice(o.indexOf(s)+s.length),c+=s.length),N[i]?(s?e._pf.empty=!1:e._pf.unusedTokens.push(i),Te(i,s,e)):e._strict&&!s&&e._pf.unusedTokens.push(i);e._pf.charsLeftOver=u-c,o.length>0&&e._pf.unusedInput.push(o),e._isPm&&e._a[3]<12&&(e._a[3]+=12),!1===e._isPm&&12===e._a[3]&&(e._a[3]=0),Oe(e),pe(e)}else Ge(e)}function Ge(e){var t,n,s=e._i,a=F.exec(s);if(a){for(e._pf.iso=!0,t=0,n=U.length;t<n;t++)if(U[t][1].exec(s)){e._f=U[t][0]+(a[6]||" ");break}for(t=0,n=C.length;t<n;t++)if(C[t][1].exec(s)){e._f+=C[t][0];break}s.match(Y)&&(e._f+="Z"),We(e)}else e._isValid=!1}function Fe(n){var s,a=n._i;a===e?n._d=new Date:function(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}(a)?n._d=new Date(+a):null!==(s=l.exec(a))?n._d=new Date(+s[1]):"string"==typeof a?function(e){Ge(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e))}(n):oe(a)?(n._a=function(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}(a.slice(0),(function(e){return parseInt(e,10)})),Oe(n)):"object"==typeof a?function(e){var t;e._d||(t=le(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],Oe(e))}(n):"number"==typeof a?n._d=new Date(a):t.createFromInputFallback(n)}function Ue(e,t,n,s,a,i,r){var o=new Date(e,t,n,s,a,i,r);return e<1970&&o.setFullYear(e),o}function Ce(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function ze(e,t,n,s,a){return a.relativeTime(t||1,!!n,e,s)}function Ie(e,n,s){var a,i=s-n,r=s-e.day();return r>i&&(r-=7),r<i-7&&(r+=7),a=t(e).add(r,"d"),{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function Le(n){var s=n._i,a=n._f;return n._locale=n._locale||t.localeData(n._l),null===s||a===e&&""===s?t.invalid({nullInput:!0}):("string"==typeof s&&(n._i=s=n._locale.preparse(s)),t.isMoment(s)?new R(s,!0):(a?oe(a)?function(e){var t,n,s,a,i;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)i=0,t=te({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},t._f=e._f[a],We(t),De(t)&&(i+=t._pf.charsLeftOver,i+=10*t._pf.unusedTokens.length,t._pf.score=i,(null==s||i<s)&&(s=i,n=t));ee(e,n||t)}(n):We(n):Fe(n),new R(n)))}function Pe(e,n){var s,a;if(1===n.length&&oe(n[0])&&(n=n[0]),!n.length)return t();for(s=n[0],a=1;a<n.length;++a)n[a][e](s)&&(s=n[a]);return s}for(N.DDDD=Q(N.DDD,3),ee(B.prototype,{set:function(e){var t,n;for(n in e)"function"==typeof(t=e[n])?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var n,s,a;for(this._monthsParse||(this._monthsParse=[]),n=0;n<12;n++)if(this._monthsParse[n]||(s=t.utc([2e3,n]),a="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),this._monthsParse[n].test(e))return n},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var n,s,a;for(this._weekdaysParse||(this._weekdaysParse=[]),n=0;n<7;n++)if(this._weekdaysParse[n]||(s=t([2e3,1]).day(n),a="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[n].test(e))return n},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,s){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,s):a.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return Ie(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(t=function(t,n,s,a){var i;return"boolean"==typeof s&&(a=s,s=e),(i={})._isAMomentObject=!0,i._i=t,i._f=n,i._l=s,i._strict=a,i._isUTC=!1,i._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},Le(i)}).suppressDeprecationWarnings=!1,t.createFromInputFallback=J("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",(function(e){e._d=new Date(e._i)})),t.min=function(){var e=[].slice.call(arguments,0);return Pe("isBefore",e)},t.max=function(){var e=[].slice.call(arguments,0);return Pe("isAfter",e)},t.utc=function(t,n,s,a){var i;return"boolean"==typeof s&&(a=s,s=e),(i={})._isAMomentObject=!0,i._useUTC=!0,i._isUTC=!0,i._l=s,i._i=t,i._f=n,i._strict=a,i._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},Le(i).utc()},t.unix=function(e){return t(1e3*e)},t.duration=function(e,n){var s,a,i,r,o,u,c,l=e,f=null;return t.isDuration(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(l={},n?l[n]=e:l.milliseconds=e):(f=d.exec(e))?(s="-"===f[1]?-1:1,l={y:0,d:he(f[2])*s,h:he(f[3])*s,m:he(f[4])*s,s:he(f[5])*s,ms:he(f[6])*s}):(f=h.exec(e))?(s="-"===f[1]?-1:1,l={y:(i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*s})(f[2]),M:i(f[3]),d:i(f[4]),h:i(f[5]),m:i(f[6]),s:i(f[7]),w:i(f[8])}):"object"==typeof l&&("from"in l||"to"in l)&&(o=t(l.from),u=Ye(u=t(l.to),o),o.isBefore(u)?c=ae(o,u):((c=ae(u,o)).milliseconds=-c.milliseconds,c.months=-c.months),(l={}).ms=(r=c).milliseconds,l.M=r.months),a=new K(l),t.isDuration(e)&&q(e,"_locale")&&(a._locale=e._locale),a},t.version="2.8.3",t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.ISO_8601=function(){},t.momentProperties=u,t.updateOffset=function(){},t.relativeTimeThreshold=function(t,n){return x[t]!==e&&(n===e?x[t]:(x[t]=n,!0))},t.lang=J("moment.lang is deprecated. Use moment.locale instead.",(function(e,n){return t.locale(e,n)})),t.locale=function(e,n){var s;return e&&(s=void 0!==n?t.defineLocale(e,n):t.localeData(e))&&(t.duration._locale=t._locale=s),t._locale._abbr},t.defineLocale=function(e,n){return null!==n?(n.abbr=e,o[e]||(o[e]=new B),o[e].set(n),t.locale(e),o[e]):(delete o[e],null)},t.langData=J("moment.langData is deprecated. Use moment.localeData instead.",(function(e){return t.localeData(e)})),t.localeData=function(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return t._locale;if(!oe(e)){if(n=ge(e))return n;e=[e]}return function(e){for(var t,n,s,a,i=0;i<e.length;){for(t=(a=Me(e[i]).split("-")).length,n=(n=Me(e[i+1]))?n.split("-"):null;t>0;){if(s=ge(a.slice(0,t).join("-")))return s;if(n&&n.length>=t&&ue(a,n,!0)>=t-1)break;t--}i++}return null}(e)},t.isMoment=function(e){return e instanceof R||null!=e&&q(e,"_isAMomentObject")},t.isDuration=function(e){return e instanceof K},s=j.length-1;s>=0;--s)de(j[s]);function He(e,t){var n;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))||(n=Math.min(e.date(),fe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)),e}function xe(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function Ae(e,t,n){return"Month"===t?He(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function Ze(e,n){return function(s){return null!=s?(Ae(this,e,s),t.updateOffset(this,n),this):xe(this,e)}}function Ne(e){return 400*e/146097}function Ee(e){return 146097*e/400}function je(e){t.duration.fn[e]=function(){return this._data[e]}}for(s in t.normalizeUnits=function(e){return ce(e)},t.invalid=function(e){var n=t.utc(NaN);return null!=e?ee(n._pf,e):n._pf.userInvalidated=!0,n},t.parseZone=function(){return t.apply(null,arguments).parseZone()},t.parseTwoDigitYear=function(e){return he(e)+(he(e)>68?1900:2e3)},ee(t.fn=R.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=t(this).utc();return 0<e.year()&&e.year()<=9999?we(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):we(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return De(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&ue(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0)},parsingFlags:function(){return ee({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var n=we(this,e||t.defaultFormat);return this.localeData().postformat(n)},add:ie(1,"add"),subtract:ie(-1,"subtract"),diff:function(e,n,s){var a,i,r,o=Ye(e,this),u=6e4*(this.zone()-o.zone());return"year"===(n=ce(n))||"month"===n?(a=432e5*(this.daysInMonth()+o.daysInMonth()),i=12*(this.year()-o.year())+(this.month()-o.month()),r=this-t(this).startOf("month")-(o-t(o).startOf("month")),i+=(r-=6e4*(this.zone()-t(this).startOf("month").zone()-(o.zone()-t(o).startOf("month").zone())))/a,"year"===n&&(i/=12)):(a=this-o,i="second"===n?a/1e3:"minute"===n?a/6e4:"hour"===n?a/36e5:"day"===n?(a-u)/864e5:"week"===n?(a-u)/6048e5:a),s?i:ne(i)},from:function(e,n){return t.duration({to:this,from:e}).locale(this.locale()).humanize(!n)},fromNow:function(e){return this.from(t(),e)},calendar:function(e){var n=Ye(e||t(),this).startOf("day"),s=this.diff(n,"days",!0),a=s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this))},isLeapYear:function(){return ye(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e}(e,this.localeData()),this.add(e-t,"d")):t},month:Ze("Month",!0),startOf:function(e){switch(e=ce(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=ce(e),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,n){return"millisecond"===(n=ce(void 0!==n?n:"millisecond"))?+this>+(e=t.isMoment(e)?e:t(e)):+this.clone().startOf(n)>+t(e).startOf(n)},isBefore:function(e,n){return"millisecond"===(n=ce(void 0!==n?n:"millisecond"))?+this<+(e=t.isMoment(e)?e:t(e)):+this.clone().startOf(n)<+t(e).startOf(n)},isSame:function(e,n){return"millisecond"===(n=ce(n||"millisecond"))?+this==+(e=t.isMoment(e)?e:t(e)):+this.clone().startOf(n)==+Ye(e,this).startOf(n)},min:J("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",(function(e){return(e=t.apply(null,arguments))<this?this:e})),max:J("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",(function(e){return(e=t.apply(null,arguments))>this?this:e})),zone:function(e,n){var s,a=this._offset||0;return null==e?this._isUTC?a:this._dateTzOffset():("string"==typeof e&&(e=be(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&n&&(s=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=s&&this.subtract(s,"m"),a!==e&&(!n||this._changeInProgress?re(this,t.duration(a-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?t(e).zone():0,(this.zone()-e)%60==0},daysInMonth:function(){return fe(this.year(),this.month())},dayOfYear:function(e){var n=i((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return null==e?n:this.add(e-n,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=Ie(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=Ie(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=Ie(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return _e(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return _e(this.year(),e.dow,e.doy)},get:function(e){return this[e=ce(e)]()},set:function(e,t){return"function"==typeof this[e=ce(e)]&&this[e](t),this},locale:function(n){var s;return n===e?this._locale._abbr:(null!=(s=t.localeData(n))&&(this._locale=s),this)},lang:J("moment().lang() is deprecated. Use moment().localeData() instead.",(function(t){return t===e?this.localeData():this.locale(t)})),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),t.fn.millisecond=t.fn.milliseconds=Ze("Milliseconds",!1),t.fn.second=t.fn.seconds=Ze("Seconds",!1),t.fn.minute=t.fn.minutes=Ze("Minutes",!1),t.fn.hour=t.fn.hours=Ze("Hours",!0),t.fn.date=Ze("Date",!0),t.fn.dates=J("dates accessor is deprecated. Use date instead.",Ze("Date",!0)),t.fn.year=Ze("FullYear",!0),t.fn.years=J("years accessor is deprecated. Use year instead.",Ze("FullYear",!0)),t.fn.days=t.fn.day,t.fn.months=t.fn.month,t.fn.weeks=t.fn.week,t.fn.isoWeeks=t.fn.isoWeek,t.fn.quarters=t.fn.quarter,t.fn.toJSON=t.fn.toISOString,ee(t.duration.fn=K.prototype,{_bubble:function(){var e,t,n,s=this._milliseconds,a=this._days,i=this._months,r=this._data,o=0;r.milliseconds=s%1e3,e=ne(s/1e3),r.seconds=e%60,t=ne(e/60),r.minutes=t%60,n=ne(t/60),r.hours=n%24,a+=ne(n/24),o=ne(Ne(a)),a-=ne(Ee(o)),i+=ne(a/30),a%=30,o+=ne(i/12),i%=12,r.days=a,r.months=i,r.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return ne(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*he(this._months/12)},humanize:function(e){var n,s,a,r,o,u,c,l,d,h,f,_=(n=this,s=!e,a=this.localeData(),r=t.duration(n).abs(),o=i(r.as("s")),u=i(r.as("m")),c=i(r.as("h")),l=i(r.as("d")),d=i(r.as("M")),h=i(r.as("y")),(f=o<x.s&&["s",o]||1===u&&["m"]||u<x.m&&["mm",u]||1===c&&["h"]||c<x.h&&["hh",c]||1===l&&["d"]||l<x.d&&["dd",l]||1===d&&["M"]||d<x.M&&["MM",d]||1===h&&["y"]||["yy",h])[2]=s,f[3]=+n>0,f[4]=a,ze.apply({},f));return e&&(_=this.localeData().pastFuture(+this,_)),this.localeData().postformat(_)},add:function(e,n){var s=t.duration(e,n);return this._milliseconds+=s._milliseconds,this._days+=s._days,this._months+=s._months,this._bubble(),this},subtract:function(e,n){var s=t.duration(e,n);return this._milliseconds-=s._milliseconds,this._days-=s._days,this._months-=s._months,this._bubble(),this},get:function(e){return this[(e=ce(e)).toLowerCase()+"s"]()},as:function(e){var t,n;if("month"===(e=ce(e))||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*Ne(t),"month"===e?n:n/12;switch(t=this._days+Ee(this._months/12),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:t.fn.lang,locale:t.fn.locale,toIsoString:J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",(function(){return this.toISOString()})),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),s=Math.abs(this.hours()),a=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(s||a||i?"T":"")+(s?s+"H":"")+(a?a+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale}}),t.duration.fn.toString=t.duration.fn.toISOString,I)q(I,s)&&je(s.toLowerCase());function Ve(e){"undefined"==typeof ender&&(n=a.moment,a.moment=e?J("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",t):t)}t.duration.fn.asMilliseconds=function(){return this.as("ms")},t.duration.fn.asSeconds=function(){return this.as("s")},t.duration.fn.asMinutes=function(){return this.as("m")},t.duration.fn.asHours=function(){return this.as("h")},t.duration.fn.asDays=function(){return this.as("d")},t.duration.fn.asWeeks=function(){return this.as("weeks")},t.duration.fn.asMonths=function(){return this.as("M")},t.duration.fn.asYears=function(){return this.as("y")},t.locale("en",{ordinal:function(e){var t=e%10;return e+(1===he(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),c?module.exports=t:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],(function(e,s,i){return i.config&&i.config()&&!0===i.config().noGlobal&&(a.moment=n),t})),Ve(!0)):Ve()}).call(this);
!function(e){"function"==typeof define&&define.amd?define("sanca/nls/moment-ja",["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}((function(e){return e.defineLocale("ja",{months:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æ¥ææ¥_æææ¥_ç«ææ¥_æ°´ææ¥_æ¨ææ¥_éææ¥_åææ¥".split("_"),weekdaysShort:"æ¥_æ_ç«_æ°´_æ¨_é_å".split("_"),weekdaysMin:"æ¥_æ_ç«_æ°´_æ¨_é_å".split("_"),longDateFormat:{LT:"Ahæmå",L:"YYYY/MM/DD",LL:"YYYYå¹´MæDæ¥",LLL:"YYYYå¹´MæDæ¥LT",LLLL:"YYYYå¹´MæDæ¥LT dddd"},meridiem:function(e,_,t){return e<12?"åå":"åå¾"},calendar:{sameDay:"[ä»æ¥] LT",nextDay:"[ææ¥] LT",nextWeek:"[æ¥é±]dddd LT",lastDay:"[æ¨æ¥] LT",lastWeek:"[åé±]dddd LT",sameElse:"L"},relativeTime:{future:"%så¾",past:"%så",s:"æ°ç§",m:"1å",mm:"%då",h:"1æé",hh:"%dæé",d:"1æ¥",dd:"%dæ¥",M:"1ã¶æ",MM:"%dã¶æ",y:"1å¹´",yy:"%då¹´"}})}));
define("sanca/nls/i18n",["sprintf","moment","sanca/nls/moment-ja"],(function(_,e){return e.locale("ja",{ordinal:function(_){return _+"æ¥"}}),{root:{gettext:function(e){var t=this[e];return t||(t=e),arguments.length>1&&(t=_.vsprintf(t,Array.prototype.slice.call(arguments,1))),t},formatDate:function(_,t){return e(t).format(_)},__locale__:"ja","åå ç³è¾¼æ°":"åå ç³è¾¼æ°","{value} äºº":"{value} äºº","ãã¼ã¸ãã¥ã¼":"ãã¼ã¸ãã¥ã¼","ã¦ãã¼ã¯ã¦ã¼ã¶ã¼":"ã¦ãã¼ã¯ã¦ã¼ã¶ã¼"," äºº":" äºº","PV/UU":"PV/UU"," PV":" PV"," UU":" UU","ãã¤ã¬ã¯ã":"ãã¤ã¬ã¯ã","connpasséç¥ã¡ã¼ã«":"connpasséç¥ã¡ã¼ã«","__datepicker-closeText__":"éãã","__datepicker-prevText__":"&#x3c;å","__datepicker-nextText__":"æ¬¡&#x3e;","__datepicker-currentText__":"ä»æ¥","__datepicker-monthNames__":["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],"__datepicker-monthNamesShort__":["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],"__datepicker-dayNames__":["æ¥ææ¥","æææ¥","ç«ææ¥","æ°´ææ¥","æ¨ææ¥","éææ¥","åææ¥"],"__datepicker-dayNamesShort__":["æ¥","æ","ç«","æ°´","æ¨","é","å"],"__datepicker-dayNamesMin__":["æ¥","æ","ç«","æ°´","æ¨","é","å"],"__datepicker-weekHeader__":"é±","__datepicker-dateFormat__":"yy/mm/dd","__datepicker-firstDay__":0,"__datepicker-isRTL__":!1,"__datepicker-showMonthAfterYear__":!0,"__datepicker-yearSuffix__":"å¹´","__highcharts-datetime-tooltip-label-millisecond__":"%H:%M:%S.%L","__highcharts-datetime-tooltip-label-second__":"%H:%M:%S","__highcharts-datetime-tooltip-label-minute__":"%H:%M","__highcharts-datetime-tooltip-label-hour__":"%H:%M","__highcharts-datetime-tooltip-label-day__":"%mæ%eæ¥","__highcharts-datetime-tooltip-label-week__":"%mæ%eæ¥","__highcharts-datetime-tooltip-label-month__":"%Yå¹´%mæ","__highcharts-datetime-tooltip-label-year__":"%Yå¹´","__highcharts-datetime-axis-label-millisecond__":"%H:%M:%S.%L","__highcharts-datetime-axis-label-second__":"%H:%M:%S","__highcharts-datetime-axis-label-minute__":"%H:%M","__highcharts-datetime-axis-label-hour__":"%H:%M","__highcharts-datetime-axis-label-day__":"%mæ%eæ¥","__highcharts-datetime-axis-label-week__":"%mæ%eæ¥","__highcharts-datetime-axis-label-month__":"%Yå¹´%mæ","__highcharts-datetime-axis-label-year__":"%Yå¹´","__highcharts-label-participations-left__":"830px","ãã®ã¡ãã»ã¼ã¸ãéä¿¡ãã¦ããããã§ããï¼":"ãã®ã¡ãã»ã¼ã¸ãéä¿¡ãã¦ããããã§ããï¼","éä¿¡åã®é¸æã¨ã¡ãã»ã¼ã¸ã®å¥åã¯å¿é ã§ãã":"éä¿¡åã®é¸æã¨ã¡ãã»ã¼ã¸ã®å¥åã¯å¿é ã§ãã","ã¿ã¤ãã«ãå¥åãã¦ãã ãã":"ã¿ã¤ãã«ãå¥åãã¦ãã ãã","ãµããã¡ã¤ã³ãå¥åãã¦ãã ãã":"ãµããã¡ã¤ã³ãå¥åãã¦ãã ãã","__cleditor-bold__":"å¼·èª¿","__cleditor-italic__":"ã¤ã¿ãªãã¯","__cleditor-underline__":"ä¸ç·","__cleditor-strikethrough__":"æã¡æ¶ãç·","__cleditor-size.title__":"ãµã¤ãº","__cleditor-color__":"æå­è²","__cleditor-highlight__":"æå­èæ¯è²","__cleditor-removeformat__":"å¨ã¦ã®è£é£¾ãåé¤","__cleditor-bullets__":"ãªã¹ã","__cleditor-numbering__":"çªå·ãªã¹ã","__cleditor-alignleft__":"å·¦å¯ã","__cleditor-center__":"ä¸­å¤®æã","__cleditor-alignright__":"å³å¯ã","__cleditor-justify__":"ä¸¡ç«¯æã","__cleditor-undo__":"åãæ¶ã","__cleditor-redo__":"ããç´ã","__cleditor-rule__":"åºåãç·","__cleditor-link__":"ãªã³ã¯ãè¿½å ","__cleditor-unlink__":"ãªã³ã¯ãåé¤","__cleditor-source__":"HTMLç·¨é","ã¿ã¤ãã«ã¯å¿é ã§ã":"ã¿ã¤ãã«ã¯å¿é ã§ã","ãµããã¡ã¤ã³ã¯å¿é ã§ã":"ãµããã¡ã¤ã³ã¯å¿é ã§ã","ãµããã¡ã¤ã³ã¯è±æ°æå­ã§å¥åãã¦ãã ãã":"ãµããã¡ã¤ã³ã¯è±æ°æå­ã§å¥åãã¦ãã ãã","ãµããã¡ã¤ã³ã¯æå¤§60æå­ã¾ã§å¥åãã¦ãã ãã":"ãµããã¡ã¤ã³ã¯æå¤§60æå­ã¾ã§å¥åãã¦ãã ãã","__default-error__":"ã¨ã©ã¼ãçºçãã¾ããããã¼ã¸ãåèª­ã¿è¾¼ã¿ãã¦ããããç´ãã¦ã¿ã¦ãã ãã","__default-server-error__":"ãµã¼ãã¼ä¸ã§åä½ãä¸å®å®ã«ãªã£ã¦ãã¾ãããã°ãããã£ã¦ããããç´ãã¦ã¿ã¦ãã ãã"},en:!0}}));
define("sanca/nls/en/i18n",["moment"],(function(e){return e.locale("en"),{__locale__:"en","åå ç³è¾¼æ°":"Participations","{value} äºº":"{value} People","ãã¼ã¸ãã¥ã¼":"Page Views","ã¦ãã¼ã¯ã¦ã¼ã¶ã¼":"Unique Users"," äºº":" People","ãã¤ã¬ã¯ã":"Direct","connpasséç¥ã¡ã¼ã«":"Connpass Email Notifications","__datepicker-closeText__":"Close","__datepicker-prevText__":"Prev","__datepicker-nextText__":"Next","__datepicker-currentText__":"Today","__datepicker-monthNames__":["January","February","March","April","May","June","July","August","September","October","November","December"],"__datepicker-monthNamesShort__":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"__datepicker-dayNames__":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"__datepicker-dayNamesShort__":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"__datepicker-dayNamesMin__":["Su","Mo","Tu","We","Th","Fr","Sa"],"__datepicker-weekHeader__":"Wk","__datepicker-dateFormat__":"mm/dd/yy","__datepicker-firstDay__":0,"__datepicker-isRTL__":!1,"__datepicker-showMonthAfterYear__":!1,"__datepicker-yearSuffix__":"","__highcharts-datetime-tooltip-label-millisecond__":"%A, %b %e, %H:%M:%S.%L","__highcharts-datetime-tooltip-label-second__":"%A, %b %e, %H:%M:%S","__highcharts-datetime-tooltip-label-minute__":"%A, %b %e, %H:%M","__highcharts-datetime-tooltip-label-hour__":"%A, %b %e, %H:%M","__highcharts-datetime-tooltip-label-day__":"%A, %b %e, %Y","__highcharts-datetime-tooltip-label-week__":"Week from %A, %b %e, %Y","__highcharts-datetime-tooltip-label-month__":"%B %Y","__highcharts-datetime-tooltip-label-year__":"%Y","__highcharts-datetime-axis-label-millisecond__":"%H:%M:%S.%L","__highcharts-datetime-axis-label-second__":"%H:%M:%S","__highcharts-datetime-axis-label-minute__":"%H:%M","__highcharts-datetime-axis-label-hour__":"%H:%M","__highcharts-datetime-axis-label-day__":"%e. %b","__highcharts-datetime-axis-label-week__":"%e. %b","__highcharts-datetime-axis-label-month__":"%b '%y","__highcharts-datetime-axis-label-year__":"%Y","__highcharts-label-participations-left__":"800px","__default-error__":"An error has occurred. Please reload the page and try again.","__default-server-error__":"A server error has occurred. Please wait a moment and then try again."}}));

define("csrf",["module","jquery"],(function(e,o){var t={getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var i=o.trim(n[r]);if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t},safeMethod:function(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}},n=e.config();return o.ajaxSetup({beforeSend:function(e,o){t.safeMethod(o.type)||this.crossDomain||e.setRequestHeader("X-CSRFToken",t.getCookie(n.CSRF_COOKIE_NAME))}}),t}));
define("sanca",["module","jquery","underscore","i18n!sanca/nls/i18n","csrf"],(function(e,t,n,r){var i={},o=e.config(),a={DEBUG:10,INFO:20,WARNING:30,ERROR:40,CRITICAL:50,10:"DEBUG",20:"INFO",30:"WARNING",40:"ERROR",50:"CRITICAL"};return t.extend(i,{DEBUG:o.DEBUG||!1,HTTP_HOST:o.HTTP_HOST||"",STATIC_URL:o.STATIC_URL||"",MEDIA_URL:o.MEDIA_URL||"",API_BASE_URL:o.API_BASE_URL||"//"+o.HTTP_HOST+"/api",DEFAULT_ERROR:r.gettext("__default-error__"),DEFAULT_SERVER_ERROR:r.gettext("__default-server-error__"),getURLParam:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null},Log:{DEBUG:a.DEBUG,INFO:a.INFO,WARNING:a.WARNING,ERROR:a.ERROR,CRITICAL:a.CRITICAL,LOG_LEVEL:a[o.LOG_LEVEL]||a.WARNING,debug:function(e,t){this._log(this.DEBUG,e,t)},info:function(e,t){this._log(this.INFO,e,t)},warning:function(e,t){this._log(this.WARNING,e,t)},error:function(e,t){this._log(this.ERROR,e,t)},critical:function(e,t){this._log(this.CRITICAL,e,t)},deprecated:function(e,t){i.DEBUG&&this._console(a.WARNING,"DeprecationWarning: "+e+": "+t)},_console:function(e,t){i.DEBUG&&void 0!==window.console&&(console.error&&e>=a.ERROR?console.error(t):console.warn&&e>=a.WARNING?console.warn(t):console.log(t))},_log:function(e,t,n){this._console(e,"["+a[e]+"] "+t+": "+n)}}}),i.StrUtil={},t.extend(i.StrUtil,{trim:function(e){return e.replace(/^[\sã]+|[\sã]+$/g,"")},parseInt:function(e,t){var n=parseInt(e,10);return isNaN(n)&&void 0!==t&&(n=t),n},htmlEscape:function(e){return i.Log.deprecated("Sanca.StrUtil","htmlEscape() is deprecated. Use _.escape() instead."),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},htmlUnEscape:function(e){return i.Log.deprecated("Sanca.StrUtil","htmlUnEscape() is deprecated. Use _.unescape() instead."),e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'")},linebreaksbr:function(e){return e.replace(/ /gi,"&nbsp;").replace(/\n/g,"<br />")},brlinebreaks:function(e){return e.replace(/&nbsp;/gi," ").replace(/<br\s*\/?>/gi,"\n")}}),i.DateUtil={},t.extend(i.DateUtil,{copy:function(e){i.Log.deprecated("Sanca.DateUtil","copy() is deprecated. Use moment() instead.");var t=new Date;return t.setTime(e.valueOf()),t},fromString:function(e,t){i.Log.deprecated("Sanca.DateUtil","fromString() is deprecated. Use moment() instead."),i.DateUtil._isoRegExp||(i.DateUtil._isoRegExp=/^(?:(\d{4})(?:[-\/](\d{2})(?:[-\/](\d{2}))?)?)?(?:[T ](\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var r=i.DateUtil._isoRegExp.exec(e),o=null;return r&&(r.shift(),r[1]&&(r[1]-=1),r[6]&&(r[6]*=1e3),t&&(t=new Date(t),n.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],(function(e){return t["get"+e]()})).forEach((function(e,t){void 0===r[t]&&(r[t]=e)}))),o=new Date(r[0]||1970,r[1]||0,r[2]||1,r[3]||0,r[4]||0,r[5]||0,r[6]||0),r[0]<100&&o.setFullYear(r[0]||1970)),o},toISOString:function(e,t){i.Log.deprecated("Sanca.DateUtil","toISOString() is deprecated. Use moment().toISOString() instead.");var n=function(e){return e<10?"0"+e:e},r=[],o=(t=t||{}).zulu?"getUTC":"get",a="";if("time"!==t.selector){var c=e[o+"FullYear"]();a=["0000".substr(String(c).length)+c,n(e[o+"Month"]()+1),n(e[o+"Date"]())].join("-")}if(r.push(a),"date"!==t.selector){var s=[n(e[o+"Hours"]()),n(e[o+"Minutes"]()),n(e[o+"Seconds"]())].join(":"),l=e[o+"Milliseconds"]();t.milliseconds&&(s+="."+(l<100?"0":"")+n(l)),r.push(s)}return r.join("T")}}),i}));
define("json",[],(function(){var JSON;return JSON||(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,(function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function str(t,e){var n,r,o,f,u,i=gap,p=e[t];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(t)),"function"==typeof rep&&(p=rep.call(e,t,p)),typeof p){case"string":return quote(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(p)){for(f=p.length,n=0;n<f;n+=1)u[n]=str(n,p)||"null";return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+i+"]":"["+u.join(",")+"]",gap=i,o}if(rep&&"object"==typeof rep)for(f=rep.length,n=0;n<f;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],p))&&u.push(quote(r)+(gap?": ":":")+o);else for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(o=str(r,p))&&u.push(quote(r)+(gap?": ":":")+o);return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+i+"}":"{"+u.join(",")+"}",gap=i,o}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(t,e,o)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),window.JSON=JSON,JSON}));
define("backbone",["jquery","json","underscore"],(function(t,e,i){return function(){var t,i=this,n=i.Backbone,s=Array.prototype.slice,r=Array.prototype.splice;(t="undefined"!=typeof exports?exports:i.Backbone={}).VERSION="0.9.1";var o=i._;o||"undefined"==typeof require||(o=require("underscore"));var a=i.jQuery||i.Zepto||i.ender;t.setDomLibrary=function(t){a=t},t.noConflict=function(){return i.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1,t.Events={on:function(t,e,i){var n;t=t.split(/\s+/);for(var s=this._callbacks||(this._callbacks={});n=t.shift();){var r=s[n]||(s[n]={}),o=r.tail||(r.tail=r.next={});o.callback=e,o.context=i,r.tail=o.next={}}return this},off:function(t,e,i){var n,s,r;if(t){if(s=this._callbacks)for(t=t.split(/\s+/);n=t.shift();)if(r=s[n],delete s[n],e&&r)for(;(r=r.next)&&r.next;)(r.callback!==e||i&&r.context!==i)&&this.on(n,r.callback,r.context)}else delete this._callbacks;return this},trigger:function(t){var e,i,n,r,o,a,h;if(!(n=this._callbacks))return this;for(a=n.all,(t=t.split(/\s+/)).push(null);e=t.shift();)a&&t.push({next:a.next,tail:a.tail,event:e}),(i=n[e])&&t.push({next:i.next,tail:i.tail});for(h=s.call(arguments,1);i=t.pop();)for(r=i.tail,o=i.event?[i.event].concat(h):h;(i=i.next)!==r;)i.callback.apply(i.context||this,o);return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off,t.Model=function(t,e){var i;if(t||(t={}),e&&e.parse&&(t=this.parse(t)),(i=y(this,"defaults"))&&(t=o.extend({},i,t)),e&&e.collection&&(this.collection=e.collection),this.attributes={},this._escapedAttributes={},this.cid=o.uniqueId("c"),!this.set(t,{silent:!0}))throw new Error("Can't create an invalid model");delete this._changed,this._previousAttributes=o.clone(this.attributes),this.initialize.apply(this,arguments)},o.extend(t.Model.prototype,t.Events,{idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},get:function(t){return this.attributes[t]},escape:function(t){var e;if(e=this._escapedAttributes[t])return e;var i=this.attributes[t];return this._escapedAttributes[t]=o.escape(null==i?"":""+i)},has:function(t){return null!=this.attributes[t]},set:function(e,i,n){var s,r,a;if(o.isObject(e)||null==e?(s=e,n=i):(s={})[e]=i,n||(n={}),!s)return this;if(s instanceof t.Model&&(s=s.attributes),n.unset)for(r in s)s[r]=void 0;if(!this._validate(s,n))return!1;this.idAttribute in s&&(this.id=s[this.idAttribute]);var h=this.attributes,c=this._escapedAttributes,l=this._previousAttributes||{},u=this._setting;for(r in this._changed||(this._changed={}),this._setting=!0,s)a=s[r],o.isEqual(h[r],a)||delete c[r],n.unset?delete h[r]:h[r]=a,this._changing&&!o.isEqual(this._changed[r],a)&&(this.trigger("change:"+r,this,a,n),this._moreChanges=!0),delete this._changed[r],o.isEqual(l[r],a)&&o.has(h,r)==o.has(l,r)||(this._changed[r]=a);return u||(!n.silent&&this.hasChanged()&&this.change(n),this._setting=!1),this},unset:function(t,e){return(e||(e={})).unset=!0,this.set(t,null,e)},clear:function(t){return(t||(t={})).unset=!0,this.set(o.clone(this.attributes),t)},fetch:function(e){e=e?o.clone(e):{};var i=this,n=e.success;return e.success=function(t,s,r){if(!i.set(i.parse(t,r),e))return!1;n&&n(i,t)},e.error=t.wrapError(e.error,i,e),(this.sync||t.sync).call(this,"read",this,e)},save:function(e,i,n){var s,r;o.isObject(e)||null==e?(s=e,n=i):(s={})[e]=i,(n=n?o.clone(n):{}).wait&&(r=o.clone(this.attributes));var a=o.extend({},n,{silent:!0});if(s&&!this.set(s,n.wait?a:n))return!1;var h=this,c=n.success;n.success=function(t,e,i){var r=h.parse(t,i);if(n.wait&&(r=o.extend(s||{},r)),!h.set(r,n))return!1;c?c(h,t):h.trigger("sync",h,t,n)},n.error=t.wrapError(n.error,h,n);var l=this.isNew()?"create":"update",u=(this.sync||t.sync).call(this,l,this,n);return n.wait&&this.set(r,a),u},destroy:function(e){e=e?o.clone(e):{};var i=this,n=e.success,s=function(){i.trigger("destroy",i,i.collection,e)};if(this.isNew())return s();e.success=function(t){e.wait&&s(),n?n(i,t):i.trigger("sync",i,t,e)},e.error=t.wrapError(e.error,i,e);var r=(this.sync||t.sync).call(this,"delete",this,e);return e.wait||s(),r},url:function(){var t=y(this.collection,"url")||y(this,"urlRoot")||w();return this.isNew()?t:t+("/"==t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(t){if(this._changing||!this.hasChanged())return this;for(var e in this._changing=!0,this._moreChanges=!0,this._changed)this.trigger("change:"+e,this,this._changed[e],t);for(;this._moreChanges;)this._moreChanges=!1,this.trigger("change",this,t);return this._previousAttributes=o.clone(this.attributes),delete this._changed,this._changing=!1,this},hasChanged:function(t){return arguments.length?this._changed&&o.has(this._changed,t):!o.isEmpty(this._changed)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&o.clone(this._changed);var e,i=!1,n=this._previousAttributes;for(var s in t)o.isEqual(n[s],e=t[s])||((i||(i={}))[s]=e);return i},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(t,e){if(e.silent||!this.validate)return!0;t=o.extend({},this.attributes,t);var i=this.validate(t,e);return!i||(e&&e.error?e.error(this,i,e):this.trigger("error",this,i,e),!1)}}),t.Collection=function(t,e){e||(e={}),e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,{silent:!0,parse:e.parse})},o.extend(t.Collection.prototype,t.Events,{model:t.Model,initialize:function(){},toJSON:function(){return this.map((function(t){return t.toJSON()}))},add:function(t,e){var i,n,s,a,h,c,l={},u={};for(e||(e={}),i=0,s=(t=o.isArray(t)?t.slice():[t]).length;i<s;i++){if(!(a=t[i]=this._prepareModel(t[i],e)))throw new Error("Can't add an invalid model to a collection");if(l[h=a.cid]||this._byCid[h]||null!=(c=a.id)&&(u[c]||this._byId[c]))throw new Error("Can't add the same model to a collection twice");l[h]=u[c]=a}for(i=0;i<s;i++)(a=t[i]).on("all",this._onModelEvent,this),this._byCid[a.cid]=a,null!=a.id&&(this._byId[a.id]=a);if(this.length+=s,n=null!=e.at?e.at:this.models.length,r.apply(this.models,[n,0].concat(t)),this.comparator&&this.sort({silent:!0}),e.silent)return this;for(i=0,s=this.models.length;i<s;i++)l[(a=this.models[i]).cid]&&(e.index=i,a.trigger("add",a,this,e));return this},remove:function(t,e){var i,n,s,r;for(e||(e={}),i=0,n=(t=o.isArray(t)?t.slice():[t]).length;i<n;i++)(r=this.getByCid(t[i])||this.get(t[i]))&&(delete this._byId[r.id],delete this._byCid[r.cid],s=this.indexOf(r),this.models.splice(s,1),this.length--,e.silent||(e.index=s,r.trigger("remove",r,this,e)),this._removeReference(r));return this},get:function(t){return null==t?null:this._byId[null!=t.id?t.id:t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},sort:function(t){if(t||(t={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var e=o.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("reset",this,t),this},pluck:function(t){return o.map(this.models,(function(e){return e.get(t)}))},reset:function(t,e){t||(t=[]),e||(e={});for(var i=0,n=this.models.length;i<n;i++)this._removeReference(this.models[i]);return this._reset(),this.add(t,{silent:!0,parse:e.parse}),e.silent||this.trigger("reset",this,e),this},fetch:function(e){void 0===(e=e?o.clone(e):{}).parse&&(e.parse=!0);var i=this,n=e.success;return e.success=function(t,s,r){i[e.add?"add":"reset"](i.parse(t,r),e),n&&n(i,t)},e.error=t.wrapError(e.error,i,e),(this.sync||t.sync).call(this,"read",this,e)},create:function(t,e){var i=this;if(e=e?o.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||i.add(t,e);var n=e.success;return e.success=function(s,r,o){e.wait&&i.add(s,e),n?n(s,r):s.trigger("sync",t,r,e)},t.save(null,e),t},parse:function(t,e){return t},chain:function(){return o(this.models).chain()},_reset:function(t){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,i){if(e instanceof t.Model)e.collection||(e.collection=this);else{var n=e;i.collection=this,(e=new this.model(n,i))._validate(e.attributes,i)||(e=!1)}return e},_removeReference:function(t){this==t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!=t&&"remove"!=t||i==this)&&("destroy"==t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});o.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"],(function(e){t.Collection.prototype[e]=function(){return o[e].apply(o,[this.models].concat(o.toArray(arguments)))}})),t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var h=/:\w+/g,c=/\*\w+/g,l=/[-[\]{}()+?.,\\^$|#\s]/g;o.extend(t.Router.prototype,t.Events,{initialize:function(){},route:function(e,i,n){return t.history||(t.history=new t.History),o.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[i]),t.history.route(e,o.bind((function(s){var r=this._extractParameters(e,s);n&&n.apply(this,r),this.trigger.apply(this,["route:"+i].concat(r)),t.history.trigger("route",this,i,r)}),this)),this},navigate:function(e,i){t.history.navigate(e,i)},_bindRoutes:function(){if(this.routes){var t=[];for(var e in this.routes)t.unshift([e,this.routes[e]]);for(var i=0,n=t.length;i<n;i++)this.route(t[i][0],t[i][1],this[t[i][1]])}},_routeToRegExp:function(t){return t=t.replace(l,"\\$&").replace(h,"([^/]+)").replace(c,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}}),t.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")};var u=/^[#\/]/,d=/msie [\w.]+/,f=!1;o.extend(t.History.prototype,t.Events,{interval:50,getFragment:function(t,e){if(null==t)if(this._hasPushState||e){t=window.location.pathname;var i=window.location.search;i&&(t+=i)}else t=window.location.hash;return(t=decodeURIComponent(t)).indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t.replace(u,"")},start:function(t){if(f)throw new Error("Backbone.history has already been started");this.options=o.extend({},{root:"/"},this.options,t),this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var e=this.getFragment(),i=document.documentMode,n=d.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);n&&(this.iframe=a('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?a(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?a(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e,f=!0;var s=window.location,r=s.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!r?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&r&&s.hash&&(this.fragment=s.hash.replace(u,""),window.history.replaceState({},document.title,s.protocol+"//"+s.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){a(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),f=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e==this.fragment&&this.iframe&&(e=this.getFragment(this.iframe.location.hash)),e==this.fragment||e==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(t){var e=this.fragment=this.getFragment(t);return o.any(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(t,e){if(!f)return!1;e&&!0!==e||(e={trigger:e});var i=(t||"").replace(u,"");this.fragment!=i&&this.fragment!=decodeURIComponent(i)&&(this._hasPushState?(0!=i.indexOf(this.options.root)&&(i=this.options.root+i),this.fragment=i,window.history[e.replace?"replaceState":"pushState"]({},document.title,i)):this._wantsHashChange?(this.fragment=i,this._updateHash(window.location,i,e.replace),this.iframe&&i!=this.getFragment(this.iframe.location.hash)&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,i,e.replace))):window.location.assign(this.options.root+t),e.trigger&&this.loadUrl(t))},_updateHash:function(t,e,i){i?t.replace(t.toString().replace(/(javascript:|#).*$/,"")+"#"+e):t.hash=e}}),t.View=function(t){this.cid=o.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()};var p=/^(\S+)\s*(.*)$/,g=["model","collection","el","id","attributes","className","tagName"];o.extend(t.View.prototype,t.Events,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(t,e,i){var n=document.createElement(t);return e&&a(n).attr(e),i&&a(n).html(i),n},setElement:function(t,e){return this.$el=a(t),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=y(this,"events")))for(var e in this.undelegateEvents(),t){var i=t[e];if(o.isFunction(i)||(i=this[t[e]]),!i)throw new Error('Event "'+t[e]+'" does not exist');var n=e.match(p),s=n[1],r=n[2];i=o.bind(i,this),s+=".delegateEvents"+this.cid,""===r?this.$el.bind(s,i):this.$el.delegate(r,s,i)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=o.extend({},this.options,t));for(var e=0,i=g.length;e<i;e++){var n=g[e];t[n]&&(this[n]=t[n])}this.options=t},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var t=y(this,"attributes")||{};this.id&&(t.id=this.id),this.className&&(t.class=this.className),this.setElement(this.make(this.tagName,t),!1)}}});t.Model.extend=t.Collection.extend=t.Router.extend=t.View.extend=function(t,e){var i=_(this,t,e);return i.extend=this.extend,i};var v={create:"POST",update:"PUT",delete:"DELETE",read:"GET"};t.sync=function(i,n,s){var r=v[i],h={type:r,dataType:"json"};return s.url||(h.url=y(n,"url")||w()),s.data||!n||"create"!=i&&"update"!=i||(h.contentType="application/json",h.data=e.stringify(n.toJSON())),t.emulateJSON&&(h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{}),t.emulateHTTP&&("PUT"!==r&&"DELETE"!==r||(t.emulateJSON&&(h.data._method=r),h.type="POST",h.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",r)})),"GET"===h.type||t.emulateJSON||(h.processData=!1),a.ajax(o.extend(h,s))},t.wrapError=function(t,e,i){return function(n,s){s=n===e?s:n,t?t(e,s,i):e.trigger("error",e,s,i)}};var m=function(){},_=function(t,e,i){var n;return n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},o.extend(n,t),m.prototype=t.prototype,n.prototype=new m,e&&o.extend(n.prototype,e),i&&o.extend(n,i),n.prototype.constructor=n,n.__super__=t.prototype,n},y=function(t,e){return t&&t[e]?o.isFunction(t[e])?t[e]():t[e]:null},w=function(){throw new Error('A "url" property or function must be specified')}}.call(this),Backbone.noConflict()}));
define("sanca/models",["jquery","underscore","backbone","sanca"],(function(e,t,r,s){return s.Models={},s.Models.BaseModel=r.Model.extend({url:function(){return t.isFunction(this.api_url)?this.api_url():this.id?this.api_url+this.id:this.api_url},wrapSuccess:function(e,t){var r=this;return function(s,i,n){if(!r.set(r.parse(s,n),t))return!1;e&&e(r,s,t)}},wrapError:function(e,t){return r.wrapError(e,this,t)},modelRequest:function(e,t,r,s){s.success=this.wrapSuccess(s.success,s),s.error=this.wrapError(s.error,s),this.ajaxRequest(e,t,r,s)},ajaxRequest:function(r,s,i,n){var a;null==i&&(i=""),null==n&&(n={}),t.isObject(i)?(a="application/json",i=JSON.stringify(i)):(a="application/x-www-form-urlencoded",i=""),e.ajax(t.defaults(n,{url:s,type:r,dataType:"json",contentType:a,data:i,processData:!1}))}}),s.BaseModel=s.Models.BaseModel.extend({initialize:function(){s.Log.deprecated("Sanca.BaseModel","Sanca.BaseModel is deprecated. Please use Models.BaseModel instead."),s.Models.BaseModel.prototype.initialize.apply(this,arguments)}}),s.Models.BaseCollection=r.Collection.extend({initialize:function(e,s){r.Collection.prototype.initialize.call(this,e,s);var i=this;this._proxy=t.extend(new r.Model,{url:t.bind(i.url,i),isNew:function(){return!1},toJSON:function(){return i.toJSON()}})},url:function(){return t.isFunction(this.api_url)?this.api_url():this.api_url},wrapSuccess:function(e,t,r){return function(s){t.reset(t.parse(s)),e&&e(t,s,r)}},wrapError:function(e,t,r){return function(s,i){i=s===t?i:s,e?e(t,i,r):t.trigger("error",t,i,r)}},search:function(r){r=r||{};var s=this.wrapSuccess(r.success,this,r),i=this.wrapError(r.error,this,r),n={};r.query&&(n.q=r.query),r.start&&r.start>0&&(n.start=0),r.length&&r.length>0&&(n.length=0),t.extend(n,r.data);var a={url:this.url(),type:"GET",dataType:"json",data:n,success:s,error:i};e.ajax(a)},save:function(e){var t=this,r=(e=e||{}).success;e.success=function(s,i){t.reset(i,{parse:!0}),r?r(t,i,e):t.trigger("sync",t,i,e)};var s=e.error;return e.error=function(r,i){s?s(t,i,e):t.trigger("error",t,i,e)},this._proxy.save({},e)}}),s.BaseCollection=s.Models.BaseCollection.extend({initialize:function(){s.Log.deprecated("Sanca.BaseCollection","Sanca.BaseCollection is deprecated. Please use Models.BaseCollection instead."),s.Models.BaseModel.prototype.initialize.apply(this,arguments)}}),s.Models}));
define("sanca/models/user",["jquery","sanca","sanca/models"],(function(e,s,r){return r.User=s.BaseModel.extend({api_url:s.API_BASE_URL+"/user/"}),r.UserList=s.BaseCollection.extend({api_url:s.API_BASE_URL+"/user/",model:r.User}),r}));
(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,i=function(t,i){for(var n in i)e.call(i,n)&&(t[n]=i[n]);function r(){this.constructor=t}return r.prototype=i.prototype,t.prototype=new r,t.__super__=i.prototype,t};define("cs!sanca/models/event",["jquery","sanca","i18n!sanca/nls/i18n","sanca/models/user","underscore"],(function(e,n,r,s,o){return s.Event=function(e){function u(){return this.get_url=t(this.get_url,this),this.get_preview_url=t(this.get_preview_url,this),this.get_published_url=t(this.get_published_url,this),this.get_edit_url=t(this.get_edit_url,this),this.unbookmark=t(this.unbookmark,this),this.bookmark=t(this.bookmark,this),this.participate_cancel=t(this.participate_cancel,this),this.deleteImage=t(this.deleteImage,this),this.unpublish=t(this.unpublish,this),this.cancel=t(this.cancel,this),this.publish=t(this.publish,this),this.duplicate=t(this.duplicate,this),this.validate=t(this.validate,this),u.__super__.constructor.apply(this,arguments)}return i(u,e),u.prototype.api_url=n.API_BASE_URL+"/event/",u.prototype.parse=function(t){var e;return e=o.clone(t),o.each(["start_datetime","end_datetime","open_start_datetime","open_end_datetime","lottery_publish_date"],(function(t){if(e[t])return e[t]=n.DateUtil.fromString(e[t])})),null!=e.participation_types&&(e.participation_types=new s.ParticipationTypes(e.participation_types,{event:this,parse:!0})),e},u.prototype.toJSON=function(){var t;return t=u.__super__.toJSON.call(this),o.each(["start_datetime","end_datetime","open_start_datetime","open_end_datetime"],(function(e){if(t[e])return t[e]=n.DateUtil.toISOString(t[e])})),t.lottery_publish_date&&(t.lottery_publish_date=n.DateUtil.toISOString(t.lottery_publish_date,{selector:"date"})),null!=t.place?t.place=t.place.id:t.place=null,t},u.prototype.has_participants=function(){return this.get("participants_count")>0||this.get("waitlist_count")>0||this.get("lottery_count")>0||this.get("cancelled_count")>0},u.prototype.validate=function(t){var e;if(null==t&&(t={}),e=[],(t=o.defaults(t,this.attributes)).status&&"draft"!==t.status&&(t.start_datetime&&t.end_datetime||e.push(r.gettext("éå§æ¥æã¨çµäºæ¥æã¯å¿é é ç®ã§ãã"))),e.length>0)return e},u.prototype.duplicate=function(t){var e,i=this;return null==t&&(t={}),t.success&&(e=t.success,t.success=function(t){var n;return n=new s.Event(t,{parse:!0}),e&&e(i,t,n),n}),this.ajaxRequest("POST",this.url()+"/copy",null,t)},u.prototype.publish=function(t,e){var i=this;return null==t&&(t={}),null==e&&(e={}),grecaptcha.execute(recaptcha_connpass_key,{action:"event_publish"}).then((function(n){return t["g-recaptcha-response"]=n,i.modelRequest("POST",i.url()+"/publish",t,e)}))},u.prototype.cancel=function(t){return null==t&&(t={}),this.modelRequest("POST",this.url()+"/cancel",null,t)},u.prototype.unpublish=function(t){return null==t&&(t={}),this.modelRequest("POST",this.url()+"/unpublish",null,t)},u.prototype.deleteImage=function(t){return null==t&&(t={}),this.modelRequest("POST",this.url()+"/image_delete",null,t)},u.prototype.participate_cancel=function(t,e){var i,n=this;return null==t&&(t={}),null==e&&(e={}),e.success&&(i=e.success,e.success=function(t){if(i)return i(n,t)}),this.ajaxRequest("POST",this.url()+"/participate_cancel",t,e)},u.prototype.bookmark=function(t){return null==t&&(t={}),this.modelRequest("POST",this.url()+"/bookmark",null,t)},u.prototype.unbookmark=function(t){return null==t&&(t={}),this.modelRequest("DELETE",this.url()+"/bookmark",null,t)},u.prototype.get_edit_url=function(){return"http://"+n.HTTP_HOST+"/event/"+this.id+"/edit/"},u.prototype.get_published_url=function(){return"http://"+n.HTTP_HOST+"/event/"+this.id+"/published/"},u.prototype.get_preview_url=function(){return this.get_url()+"preview/"},u.prototype.get_url=function(){return this.get("public_url")},u}(s.BaseModel),s.EventList=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.api_url=n.API_BASE_URL+"/event/",e.prototype.model=n.Models.Event,e}(s.BaseCollection),s.ParticipationType=function(e){function n(){return this.has_free_ptype_child_rels=t(this.has_free_ptype_child_rels,this),n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.is_paid=function(){var t;return null!=(t=this.get("join_fee"))&&t>0},n.prototype.has_participants=function(){return this.get("participants_count")>0||this.get("waitlist_count")>0||this.get("lottery_count")>0||this.get("cancelled_count")>0},n.prototype.has_free_ptype_child_rels=function(){return!this.is_paid()&&this.get("has_ptype_child_rels")},n}(s.BaseModel),s.ParticipationTypes=function(e){function r(){return this.has_lottery_participation_type=t(this.has_lottery_participation_type,this),this.has_children=t(this.has_children,this),this.has_paid_participation_type=t(this.has_paid_participation_type,this),r.__super__.constructor.apply(this,arguments)}return i(r,e),r.prototype.model=s.ParticipationType,r.prototype.comparator=function(t){return null!=t.id?t.id:1/0},r.prototype.api_url=function(){return n.API_BASE_URL+"/event/"+this.event.id+"/participation_type/"},r.prototype.initialize=function(t,e){return null==t&&(t=[]),null==e&&(e={}),r.__super__.initialize.call(this),this.event=e.event},r.prototype.has_paid_participation_type=function(){return!!this.find((function(t){return null!=t.get("join_fee")&&""!==t.get("join_fee")}))},r.prototype.has_children=function(){return this.event.get("has_children")},r.prototype.has_lottery_participation_type=function(){return!!this.find((function(t){return"lottery"===t.get("method")}))},r}(s.BaseCollection),s.EventOwner=function(e){function r(){return this.isNew=t(this.isNew,this),r.__super__.constructor.apply(this,arguments)}return i(r,e),r.prototype.isNew=function(){return!this.collection.include(this)},r.prototype.api_url=function(){var t;return t=n.API_BASE_URL+"/event/"+this.collection.event.id+"/owner/",this.id?t+this.id:t},r}(s.User),s.EventOwnerList=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.model=s.EventOwner,e.prototype.api_url=function(){return n.API_BASE_URL+"/event/"+this.event.id+"/owner/"},e.prototype.initialize=function(t,i){return null==t&&(t=[]),null==i&&(i={}),e.__super__.initialize.call(this),this.event=i.event},e}(s.UserList),s}))}).call(this);
define("flashmessages",["jquery","underscore"],(function(e,t){var i=function(e,t){clearTimeout(e.data("timer")),e.data("timer",null),e.slideUp(t,(function(){e.remove()}))},n=function(t){null==t&&(t={}),this.el=t.el||this.el,this.template_el=t.template_el||this.template_el,this.duration=t.duration||7e3,this.slide_duration=t.slide_duration||300;var n=e(this.el),s=this.duration,a=this.slide_duration;n.slideDown(this.slide_duration).find(".message").each((function(t,n){var l=e(this);l.data("timer",setTimeout((function(){i(l,a)}),s))})),e(this.el).click((function(){e(this).find(".message").each((function(t,n){i(e(this),a)}))}))};return e.extend(n.prototype,{el:"#flash_message_area",template_el:"#MessageTemplate",template:function(i){return t.template(e(this.template_el).html()||"",i)},info:function(e){this.message("info",e)},warning:function(e){this.message("warning",e)},error:function(e){this.message("error",e)},message:function(t,n){var s=e(this.el),a=this.slide_duration;s.find("."+t).filter((function(t){return e(this).text()===n})).each((function(t,n){i(e(n),a)}));var l=e(this.template({level:t,message:n})).hide();s.append(l),l.slideDown(this.slide_duration).data("timer",setTimeout((function(){i(l)}),this.duration))}}),n}));
define("mustache",["jquery"],(function(e){var t,r,n;t=e,(r=function(){}).prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(e,t,r,n){if(n||(this.context=t,this.buffer=[]),!this.includes("",e))return n?e:void this.send(e);e=this.render_pragmas(e);var i=this.render_section(e,t,r);if(n)return this.render_tags(i,t,r,n);this.render_tags(i,t,r,n)},send:function(e){""!=e&&this.buffer.push(e)},render_pragmas:function(e){if(!this.includes("%",e))return e;var t=this,r=new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag);return e.replace(r,(function(e,r,n){if(!t.pragmas_implemented[r])throw{message:"This implementation of mustache doesn't understand the '"+r+"' pragma"};if(t.pragmas[r]={},n){var i=n.split("=");t.pragmas[r][i[0]]=i[1]}return""}))},render_partial:function(e,t,r){if(e=this.trim(e),!r||void 0===r[e])throw{message:"unknown_partial '"+e+"'"};return"object"!=typeof t[e]?this.render(r[e],t,r,!0):this.render(r[e],t[e],r,!0)},render_section:function(e,t,r){if(!this.includes("#",e)&&!this.includes("^",e))return e;var n=this,i=new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg");return e.replace(i,(function(e,i,s,a){var c=n.find(s,t);return"^"==i?!c||n.is_array(c)&&0===c.length?n.render(a,t,r,!0):"":"#"==i?n.is_array(c)?n.map(c,(function(e){return n.render(a,n.create_context(e),r,!0)})).join(""):n.is_object(c)?n.render(a,n.create_context(c),r,!0):"function"==typeof c?c.call(t,a,(function(e){return n.render(e,t,r,!0)})):c?n.render(a,t,r,!0):"":void 0}))},render_tags:function(e,t,r,n){for(var i=this,s=function(){return new RegExp(i.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+i.ctag+"+","g")},a=s(),c=function(e,n,c){switch(n){case"!":return"";case"=":return i.set_delimiters(c),a=s(),"";case">":return i.render_partial(c,t,r);case"{":return i.find(c,t);default:return i.escape(i.find(c,t))}},u=e.split("\n"),o=0;o<u.length;o++)u[o]=u[o].replace(a,c,this),n||this.send(u[o]);if(n)return u.join("\n")},set_delimiters:function(e){var t=e.split(" ");this.otag=this.escape_regex(t[0]),this.ctag=this.escape_regex(t[1])},escape_regex:function(e){if(!arguments.callee.sRE){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+t.join("|\\")+")","g")}return e.replace(arguments.callee.sRE,"\\$1")},find:function(e,t){function r(e){return!1===e||0===e||e}var n;return r(t[e=this.trim(e)])?n=t[e]:r(this.context[e])&&(n=this.context[e]),"function"==typeof n?n.apply(t):void 0!==n?n:""},includes:function(e,t){return-1!=t.indexOf(this.otag+e)},escape:function(e){return(e=String(null===e?"":e)).replace(/&(?!\w+;)|["'<>\\]/g,(function(e){switch(e){case"&":return"&amp;";case"\\":return"\\\\";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return e}}))},create_context:function(e){if(this.is_object(e))return e;var t=".";this.pragmas["IMPLICIT-ITERATOR"]&&(t=this.pragmas["IMPLICIT-ITERATOR"].iterator);var r={};return r[t]=e,r},is_object:function(e){return e&&"object"==typeof e},is_array:function(e){return"[object Array]"===Object.prototype.toString.call(e)},trim:function(e){return e.replace(/^\s*|\s*$/g,"")},map:function(e,t){if("function"==typeof e.map)return e.map(t);for(var r=[],n=e.length,i=0;i<n;i++)r.push(t(e[i]));return r}},n={name:"mustache.js",version:"0.3.1-dev",to_html:function(e,t,n,i){var s=new r;if(i&&(s.send=i),s.render(e,t,n),!i)return s.buffer.join("\n")}},t.mustache=function(e,t,r){return n.to_html(e,t,r)}}));
define("sanca/views",["jquery","underscore","json","sanca","i18n!sanca/nls/i18n","sanca/models/user","backbone","flashmessages","mustache"],(function(e,t,s,a,i,n,l,o){return a.Views={get_current_user:function(){if(!this._current_user){var t=new n.User;t.set(t.parse(e("#CurrentUserObj").data())),this._current_user=t}return this._current_user}},a.Views.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},a.FlashMessages=new o,a.Views.BaseView=l.View.extend({events:{},template:function(s,n,l){if(a.Log.deprecated("BaseView.template","Mustache template() is deprecated. Use utemplate() instead."),this.options.template_el=this.options.template_el||this.template_el,s||(s=this.options.template_el),!s)return"";n||(n=this.template_data()),t.defaults(n,{Sanca:a,i18n:i,DEBUG:a.DEBUG,HTTP_HOST:a.HTTP_HOST,STATIC_URL:a.STATIC_URL,MEDIA_URL:a.MEDIA_URL,CID:this.cid}),l||(l=this.partials());try{return e.mustache(e(s).html()||"",n,l)}catch(e){}},utemplate:function(s,n){this.options.template_el=this.options.template_el||this.template_el,s||(a.Log.deprecated("BaseView.utemplate","Always pass selector to the utemplate() method."),s=this.options.template_el);var l="";return s&&(n||(a.Log.deprecated("BaseView.utemplate","Always pass data to the utemplate() method."),n=this.template_data()),t.defaults(n,{Sanca:a,i18n:i,DEBUG:a.DEBUG,HTTP_HOST:a.HTTP_HOST,STATIC_URL:a.STATIC_URL,MEDIA_URL:a.MEDIA_URL,CID:this.cid}),l=t.template(e(s).html()||"",n)),l},partials:function(){return a.Log.deprecated("BaseView.partials","Mustache templates are deprecated."),{}},template_data:function(){var e={};return this.model&&(e=this.model.toJSON()),this.collection&&(e.object_list=this.collection.toJSON()),e.Sanca=a,e.i18n=i,e.DEBUG=a.DEBUG,e.HTTP_HOST=a.HTTP_HOST,e.STATIC_URL=a.STATIC_URL,e.MEDIA_URL=a.MEDIA_URL,e.CID=this.cid,e},render:function(){if(this.options.template_el=this.options.template_el||this.template_el,this.options.template_el){var e=this.template_data();t.defaults(e,{Sanca:a,i18n:i,DEBUG:a.DEBUG,HTTP_HOST:a.HTTP_HOST,STATIC_URL:a.STATIC_URL,MEDIA_URL:a.MEDIA_URL,CID:this.cid}),this.$el.html(this.template(this.options.template_el,e))}return this},reload:function(e){null!=e&&""!==e&&(window.location.hash=e),window.location.reload()},redirect:function(e,t){null===t&&(t=!1),t?window.open(e):window.location.href=e},showMessage:function(e,t){a.FlashMessages.message(e,t)},showError:function(e,s){var i=a.DEFAULT_SERVER_ERROR;if(!s.hasOwnProperty("readyState"))if(t.isString(s))i=s;else if(t.isObject(s)){var n=[];t.each(s,(function(e){n.push(e)})),n.length>0&&(i=n)}this.showMessage("error",i)}}),a.BaseView=a.Views.BaseView.extend({initialize:function(){a.Log.deprecated("Sanca.BaseView","Sanca.BaseView is deprecated. Please use Views.BaseView instead."),a.Views.BaseView.prototype.initialize.apply(this,arguments)}}),a.Views.BaseWidget=a.BaseView.extend({render:function(){if(this.options.template_el=this.options.template_el||this.template_el,this.options.template_el){var t=this.$el;this.undelegateEvents(),this.setElement(e(this.template())[0]),t&&t.replaceWith(this.$el)}return this}}),a.BaseWidget=a.Views.BaseWidget.extend({initialize:function(){a.Log.deprecated("Sanca.BaseWidget","Sanca.BaseWidget is deprecated. Please use Views.BaseWidget instead."),a.Views.BaseView.prototype.initialize.apply(this,arguments)}}),e(document).ajaxError((function(e,t,i){var n,l,o=[a.DEFAULT_SERVER_ERROR];try{(l=s.parse(t.responseText)).msg&&(o=l.msg)}catch(e){}for(n=0;n<o.length;n+=1)a.FlashMessages.error(o[n])})),a.Views}));
define("jqmodal",["jquery"],(function(e){return function(e){e.fn.jqm=function(n){var i={overlay:50,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:s,ajaxText:"",target:s,modal:s,toTop:s,onShow:s,onHide:s,onLoad:s};return this.each((function(){if(this._jqm)return o[this._jqm].c=e.extend({},o[this._jqm].c,n);t++,this._jqm=t,o[t]={c:e.extend(i,e.jqm.params,n),a:s,w:e(this).addClass("jqmID"+t),s:t},i.trigger&&e(this).jqmAddTrigger(i.trigger)}))},e.fn.jqmAddClose=function(e){return m(this,e,"jqmHide")},e.fn.jqmAddTrigger=function(e){return m(this,e,"jqmShow")},e.fn.jqmShow=function(t){return this.each((function(){t=t||window.event,e.jqm.open(this._jqm,t)}))},e.fn.jqmHide=function(t){return this.each((function(){t=t||window.event,e.jqm.close(this._jqm,t)}))},e.jqm={hash:{},open:function(t,r){var c=o[t],h=c.c,m="."+h.closeClass,u=(u=parseInt(c.w.css("z-index")))>0?u:3e3,f=e("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":u-1,opacity:h.overlay/100});if(c.a)return s;if(c.t=r,c.a=!0,c.w.css("z-index",u),h.modal?(n[0]||d("bind"),n.push(t)):h.overlay>0?c.w.jqmAddClose(f):f=s,c.o=f?f.addClass(h.overlayClass).prependTo("body"):s,i&&(e("html,body").css({height:"100%",width:"100%"}),f))for(var l in f=f.css({position:"absolute"})[0],{Top:1,Left:1})f.style.setExpression(l.toLowerCase(),"(_=(document.documentElement.scroll"+l+" || document.body.scroll"+l+"))+'px'");if(h.ajax){var j=h.target||c.w,w=h.ajax;j="string"==typeof j?e(j,c.w):e(j),w="@"==w.substr(0,1)?e(r).attr(w.substring(1)):w;j.html(h.ajaxText).load(w,(function(){h.onLoad&&h.onLoad.call(this,c),m&&c.w.jqmAddClose(e(m,c.w)),a(c)}))}else m&&c.w.jqmAddClose(e(m,c.w));return h.toTop&&c.o&&c.w.before('<span id="jqmP'+c.w[0]._jqm+'"></span>').insertAfter(c.o),h.onShow?h.onShow(c):c.w.show(),a(c),s},close:function(t){var i=o[t];return i.a?(i.a=s,n[0]&&(n.pop(),n[0]||d("unbind")),i.c.toTop&&i.o&&e("#jqmP"+i.w[0]._jqm).after(i.w).remove(),i.c.onHide?i.c.onHide(i):(i.w.hide(),i.o&&i.o.remove()),s):s},params:{}};var t=0,o=e.jqm.hash,n=[],i=e.browser.msie&&"6.0"==e.browser.version,s=!1,r=e('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0}),a=function(t){i&&(t.o?t.o.html('<p style="width:100%;height:100%"/>').prepend(r):e("iframe.jqm",t.w)[0]||t.w.prepend(r)),c(t)},c=function(t){try{e(":input:visible",t.w)[0].focus()}catch(e){}},d=function(t){e()[t]("keypress",h)[t]("keydown",h)[t]("mousedown",h)},h=function(t){var i=o[n[n.length-1]],s=!e(t.target).parents(".jqmID"+i.s)[0];return s&&c(i),!s},m=function(t,n,i){return t.each((function(){var t=this._jqm;e(n).each((function(){this[i]||(this[i]=[],e(this).click((function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])o[this[e][t]]&&o[this[e][t]].w[e](this);return s}))),this[i].push(t)}))}))}}(e),e}));
(function(){var o={}.hasOwnProperty,t=function(t,i){for(var n in i)o.call(i,n)&&(t[n]=i[n]);function e(){this.constructor=t}return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t},i=function(o,t){return function(){return o.apply(t,arguments)}};define("cs!sanca/views/modal",["jqmodal","underscore","sanca","sanca/views"],(function(o,n,e,s){return s.ModalLink=function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,i),n.prototype.initialize=function(){var t=this;return e.Log.deprecated("Views.ModalLink","ModalLink is deprecated. Use $(...).click(...) instead."),this.options.modal_class||(this.options.modal_class=s.ModalWindow),this.options.modal_options||(this.options.modal_options={}),this.$("a").attr("href","#"),this.$el.click((function(){var i;return i={template_el:t.options.template_el,model:t.model,collection:t.collection},o.extend(i,t.options.modal_options),new t.options.modal_class(i).openModal()}))},n}(e.BaseView),s.ModalWindow=function(e){function s(){return this.closeModal=i(this.closeModal,this),this.openModal=i(this.openModal,this),s.__super__.constructor.apply(this,arguments)}return t(s,e),s.prototype.events={"click .PopupClose,.ModalClose,.modal-close":"closeModal"},s.prototype.initialize=function(){return s.__super__.initialize.call(this,n.defaults(this.options,{bind_to:"body"}))},s.prototype.openModal=function(){var t,i=this;return(t=this.render()).$el.hide(),o(this.options.bind_to).append(t.el),this.$el.jqm({onShow:function(o){return o.w.show(),i.trigger("show",o.w,o.c,o.o,o.t)},onHide:function(o){return i.trigger("hide",o.w,o.c,o.o,o.t),o.w.hide(),o.o.remove()}}),this.options.width&&this.$el.css("width",this.options.width+"px").css("margin-left","-"+this.options.width/2+"px"),this.$el.jqmShow()},s.prototype.closeModal=function(){return this.$el.jqmHide().remove()},s}(e.BaseWidget),s.ConfirmPopup=function(o){function e(){return this.doConfirm=i(this.doConfirm,this),this.openModal=i(this.openModal,this),e.__super__.constructor.apply(this,arguments)}return t(e,o),e.prototype.events=n.defaults({"click button[type=submit]":"doConfirm"},s.ModalWindow.prototype.events),e.prototype.initialize=function(o){return e.__super__.initialize.call(this,n.defaults(o,{callback:function(){}})),this.on("hide",(function(){return this.options.callback(this,this._confirm_val||!1)}))},e.prototype.openModal=function(){return this._confirm_val=!1,e.__super__.openModal.call(this)},e.prototype.doConfirm=function(){return this._confirm_val=!0,this.closeModal()},e}(s.ModalWindow),s}))}).call(this);
define("sanca/models/eventcomment",["jquery","sanca","sanca/models"],(function(e,n,t){return t.EventComment=n.BaseModel.extend({api_url:function(){return n.API_BASE_URL+"/event/"+this.event.id+"/comment/"},initialize:function(e){this.event=e.event}}),t}));
(function(){var e=function(e,r){return function(){return e.apply(r,arguments)}},r={}.hasOwnProperty;define("cs!sanca/views/group_member",["jquery","sanca","sanca/views","underscore"],(function(t,o,s,i){return s.GroupMembershipView=function(t){function o(){return this.removeGroupMembership=e(this.removeGroupMembership,this),this.saveGroupMembership=e(this.saveGroupMembership,this),o.__super__.constructor.apply(this,arguments)}return function(e,t){for(var o in t)r.call(t,o)&&(e[o]=t[o]);function s(){this.constructor=e}s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype}(o,t),o.prototype.events={"click .GroupMembershipButton":"saveGroupMembership","click .RemoveGroupMembershipButton":"removeGroupMembership"},o.prototype.saveGroupMembership=function(e){var r=this;return this.model.watch({success:function(e,t){return r.showMessage("info","ã°ã«ã¼ãã«åå ãã¾ããã")}}),this.$(".GroupMembershipButton").hide(),this.$(".RemoveGroupMembershipButton").show()},o.prototype.removeGroupMembership=function(e){var r=this;return this.model.unwatch({success:function(e,t){return r.showMessage("info","ã°ã«ã¼ããéä¼ãã¾ããã")}}),this.$(".RemoveGroupMembershipButton").hide(),this.$(".GroupMembershipButton").show()},o}(o.BaseView),s}))}).call(this);
(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,o=function(t,o){for(var n in o)e.call(o,n)&&(t[n]=o[n]);function i(){this.constructor=t}return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t};define("cs!sanca/views/event_detail",["jquery","sanca","i18n!sanca/nls/i18n","cs!sanca/models/event","sanca/views","underscore","cs!sanca/views/modal","sanca/models/eventcomment","cs!sanca/views/group_member"],(function(e,n,i,r,s,c){return s.EventDetailView=function(e){function n(){return this.copyEvent=t(this.copyEvent,this),n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={"click .CopyEvent":"copyEvent"},n.prototype.initialize=function(t){if(this.cancel_button=new s.ModalLink({el:"#CancelButton",template_el:"#CancelTemplate",model:this.model,modal_class:s.JoinCancelPopup}),this.eventcomment=new s.EventCommentView({el:".eventTabContent",event:this.model}),this.eventbookmark=new s.EventBookmarkView({el:".EventBookmarkBox",event:this.model}),t.series)return this.group_membership=new s.GroupMembershipView({el:".GroupMembership",model:this.options.series})},n.prototype.copyEvent=function(){var t=this;return!!confirm(i.gettext("ãã®ã¤ãã³ããã³ãã¼ãã¾ããï¼"))&&(this.model.duplicate({success:function(e,o,n){return t.redirect(n.get_edit_url())}}),!0)},n}(n.BaseView),s.JoinCancelPopup=function(e){function n(){return this.doSubmit=t(this.doSubmit,this),n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events=c.defaults({"click #CancelSubmit":"doSubmit"},s.ModalWindow.prototype.events),n.prototype.doSubmit=function(){var t=this;return this.model.participate_cancel({comment:this.$("#CancelComment").val()},{success:function(e,o){return t.redirect(e.get_url())}})},n}(s.ModalWindow),s.EventCommentView=function(e){function n(){return this.postComment=t(this.postComment,this),n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={"click .FeedAddButton":"postComment"},n.prototype.initialize=function(t){return this.event=t.event},n.prototype.postComment=function(t){var e,o,n=this;if(""!==(o=(e=this.$("input[name=Comment]")).val()))return this.model=new r.EventComment({event:this.event,text:o,post_to_twitter:this.$("input[name=PostTwitter]").is(":checked")}),this.model.save({},{success:function(t,e){return n.reload("#feed")}}),e.val("")},n}(n.BaseView),s.EventBookmarkView=function(e){function n(){return this.removeBookmark=t(this.removeBookmark,this),this.saveBookmark=t(this.saveBookmark,this),n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={"click .SaveBookmarkButton":"saveBookmark","click .RemoveBookmarkButton":"removeBookmark"},n.prototype.initialize=function(t){return this.event=t.event},n.prototype.saveBookmark=function(t){var e=this;return this.event.bookmark({success:function(t,o){return e.showMessage("info","ã¤ãã³ããããã¯ãã¼ã¯ãã¾ããã")}}),this.$(".SaveBookmarkButton").hide(),this.$(".RemoveBookmarkButton").show()},n.prototype.removeBookmark=function(t){var e=this;return this.event.unbookmark({success:function(t,o){return e.showMessage("info","ã¤ãã³ããããã¯ãã¼ã¯ããå¤ãã¾ããã")}}),this.$(".RemoveBookmarkButton").hide(),this.$(".SaveBookmarkButton").show()},n}(n.BaseView),s}))}).call(this);
/*!
 * jQuery UI Effects 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
!function(t){"function"==typeof define&&define.amd?define("jqueryui/effect",["jquery"],t):t(jQuery)}((function(t){var e,n=t;return t.effects={effect:{}},
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){var n,r=/^([\-+])=\s*(\d+\.?\d*)/,o=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],i=t.Color=function(e,n,r,o){return new t.Color.fn.parse(e,n,r,o)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=i.support={},c=t("<p>")[0],u=t.each;function l(t,e,n){var r=s[e.type]||{};return null==t?n||!e.def?null:e.def:(t=r.floor?~~t:parseFloat(t),isNaN(t)?e.def:r.mod?(t+r.mod)%r.mod:0>t?0:r.max<t?r.max:t)}function d(e){var r=i(),s=r._rgba=[];return e=e.toLowerCase(),u(o,(function(t,n){var o,i=n.re.exec(e),f=i&&n.parse(i),c=n.space||"rgba";if(f)return o=r[c](f),r[a[c].cache]=o[a[c].cache],s=r._rgba=o._rgba,!1})),s.length?("0,0,0,0"===s.join()&&t.extend(s,n.transparent),r):n[e]}function p(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}c.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=c.style.backgroundColor.indexOf("rgba")>-1,u(a,(function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}})),i.fn=t.extend(i.prototype,{parse:function(e,r,o,s){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(r),r=void 0);var f=this,c=t.type(e),p=this._rgba=[];return void 0!==r&&(e=[e,r,o,s],c="array"),"string"===c?this.parse(d(e)||n._default):"array"===c?(u(a.rgba.props,(function(t,n){p[n.idx]=l(e[n.idx],n)})),this):"object"===c?(u(a,e instanceof i?function(t,n){e[n.cache]&&(f[n.cache]=e[n.cache].slice())}:function(n,r){var o=r.cache;u(r.props,(function(t,n){if(!f[o]&&r.to){if("alpha"===t||null==e[t])return;f[o]=r.to(f._rgba)}f[o][n.idx]=l(e[t],n,!0)})),f[o]&&t.inArray(null,f[o].slice(0,3))<0&&(f[o][3]=1,r.from&&(f._rgba=r.from(f[o])))}),this):void 0},is:function(t){var e=i(t),n=!0,r=this;return u(a,(function(t,o){var i,a=e[o.cache];return a&&(i=r[o.cache]||o.to&&o.to(r._rgba)||[],u(o.props,(function(t,e){if(null!=a[e.idx])return n=a[e.idx]===i[e.idx]}))),n})),n},_space:function(){var t=[],e=this;return u(a,(function(n,r){e[r.cache]&&t.push(n)})),t.pop()},transition:function(t,e){var n=i(t),r=n._space(),o=a[r],f=0===this.alpha()?i("transparent"):this,c=f[o.cache]||o.to(f._rgba),d=c.slice();return n=n[o.cache],u(o.props,(function(t,r){var o=r.idx,i=c[o],a=n[o],f=s[r.type]||{};null!==a&&(null===i?d[o]=a:(f.mod&&(a-i>f.mod/2?i+=f.mod:i-a>f.mod/2&&(i-=f.mod)),d[o]=l((a-i)*e+i,r)))})),this[r](d)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),o=i(e)._rgba;return i(t.map(n,(function(t,e){return(1-r)*o[e]+r*t})))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,(function(t,e){return null==t?e>2?1:0:t}));return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),(function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t}));return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),r=n.pop();return e&&n.push(~~(255*r)),"#"+t.map(n,(function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),i.fn.parse.prototype=i.fn,a.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,r=t[0]/255,o=t[1]/255,i=t[2]/255,a=t[3],s=Math.max(r,o,i),f=Math.min(r,o,i),c=s-f,u=s+f,l=.5*u;return e=f===s?0:r===s?60*(o-i)/c+360:o===s?60*(i-r)/c+120:60*(r-o)/c+240,n=0===c?0:l<=.5?c/u:c/(2-u),[Math.round(e)%360,n,l,null==a?1:a]},a.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],r=t[2],o=t[3],i=r<=.5?r*(1+n):r+n-r*n,a=2*r-i;return[Math.round(255*p(a,i,e+1/3)),Math.round(255*p(a,i,e)),Math.round(255*p(a,i,e-1/3)),o]},u(a,(function(e,n){var o=n.props,a=n.cache,s=n.to,f=n.from;i.fn[e]=function(e){if(s&&!this[a]&&(this[a]=s(this._rgba)),void 0===e)return this[a].slice();var n,r=t.type(e),c="array"===r||"object"===r?e:arguments,d=this[a].slice();return u(o,(function(t,e){var n=c["object"===r?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=l(n,e)})),f?((n=i(f(d)))[a]=d,n):i(d)},u(o,(function(n,o){i.fn[n]||(i.fn[n]=function(i){var a,s=t.type(i),f="alpha"===n?this._hsla?"hsla":"rgba":e,c=this[f](),u=c[o.idx];return"undefined"===s?u:("function"===s&&(i=i.call(this,u),s=t.type(i)),null==i&&o.empty?this:("string"===s&&(a=r.exec(i))&&(i=u+parseFloat(a[2])*("+"===a[1]?1:-1)),c[o.idx]=i,this[f](c)))})}))})),i.hook=function(e){var n=e.split(" ");u(n,(function(e,n){t.cssHooks[n]={set:function(e,r){var o,a,s="";if("transparent"!==r&&("string"!==t.type(r)||(o=d(r)))){if(r=i(o||r),!f.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(t){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=i(e.elem,n),e.end=i(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}}))},i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return u(["Top","Right","Bottom","Left"],(function(n,r){e["border"+r+"Color"]=t})),e}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(n),function(){var e,r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function i(e){var n,r,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,i={};if(o&&o.length&&o[0]&&o[o[0]])for(r=o.length;r--;)"string"==typeof o[n=o[r]]&&(i[t.camelCase(n)]=o[n]);else for(n in o)"string"==typeof o[n]&&(i[n]=o[n]);return i}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(e,r){t.fx.step[r]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(n.style(t.elem,r,t.end),t.setAttr=!0)}})),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,n,a,s){var f=t.speed(n,a,s);return this.queue((function(){var n,a=t(this),s=a.attr("class")||"",c=f.children?a.find("*").addBack():a;c=c.map((function(){return{el:t(this),start:i(this)}})),(n=function(){t.each(r,(function(t,n){e[n]&&a[n+"Class"](e[n])}))})(),c=c.map((function(){return this.end=i(this.el[0]),this.diff=function(e,n){var r,i,a={};for(r in n)i=n[r],e[r]!==i&&(o[r]||!t.fx.step[r]&&isNaN(parseFloat(i))||(a[r]=i));return a}(this.start,this.end),this})),a.attr("class",s),c=c.map((function(){var e=this,n=t.Deferred(),r=t.extend({},f,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,r),n.promise()})),t.when.apply(t,c.get()).done((function(){n(),t.each(arguments,(function(){var e=this.el;t.each(this.diff,(function(t){e.css(t,"")}))})),f.complete.call(a[0])}))}))},t.fn.extend({addClass:(e=t.fn.addClass,function(n,r,o,i){return r?t.effects.animateClass.call(this,{add:n},r,o,i):e.apply(this,arguments)}),removeClass:function(e){return function(n,r,o,i){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},r,o,i):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,r,o,i,a){return"boolean"==typeof r||void 0===r?o?t.effects.animateClass.call(this,r?{add:n}:{remove:n},o,i,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},r,o,i)}}(t.fn.toggleClass),switchClass:function(e,n,r,o,i){return t.effects.animateClass.call(this,{add:n,remove:e},r,o,i)}})}(),function(){function e(e,n,r,o){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(o=n,r=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(o=r,r=n,n={}),t.isFunction(r)&&(o=r,r=null),n&&t.extend(e,n),r=r||n.duration,e.duration=t.fx.off?0:"number"==typeof r?r:r in t.fx.speeds?t.fx.speeds[r]:t.fx.speeds._default,e.complete=o||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}var r;t.extend(t.effects,{version:"1.11.1",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data("ui-effects-"+e[n],t[0].style[e[n]])},restore:function(t,e){var n,r;for(r=0;r<e.length;r++)null!==e[r]&&(void 0===(n=t.data("ui-effects-"+e[r]))&&(n=""),t.css(e[r],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,r;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=t[1]/e.width}return{x:r,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},r=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},i=document.activeElement;try{i.id}catch(t){i=document.body}return e.wrap(r),(e[0]===i||t.contains(e[0],i))&&t(i).focus(),r=e.parent(),"static"===e.css("position")?(r.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],(function(t,r){n[r]=e.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")})),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),r.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,r,o){return o=o||{},t.each(n,(function(t,n){var i=e.cssUnit(n);i[0]>0&&(o[n]=i[0]*r+i[1])})),o}}),t.fn.extend({effect:function(){var n=e.apply(this,arguments),r=n.mode,o=n.queue,i=t.effects.effect[n.effect];if(t.fx.off||!i)return r?this[r](n.duration,n.complete):this.each((function(){n.complete&&n.complete.call(this)}));function a(e){var r=t(this),o=n.complete,a=n.mode;function s(){t.isFunction(o)&&o.call(r[0]),t.isFunction(e)&&e()}(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),s()):i.call(r[0],n,s)}return!1===o?this.each(a):this.queue(o||"fx",a)},show:(r=t.fn.show,function(t){if(n(t))return r.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}),hide:function(t){return function(r){if(n(r))return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(t.fn.hide),toggle:function(t){return function(r){if(n(r)||"boolean"==typeof r)return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),r=[];return t.each(["em","px","%","pt"],(function(t,e){n.indexOf(e)>0&&(r=[parseFloat(n),e])})),r}})}(),e={},t.each(["Quad","Cubic","Quart","Quint","Expo"],(function(t,n){e[n]=function(e){return Math.pow(e,t+2)}})),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,(function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}})),t.effects}));
/*!
 * jQuery UI Effects Highlight 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */
!function(e){"function"==typeof define&&define.amd?define("jqueryui/effect-highlight",["jquery","./effect"],e):e(jQuery)}((function(e){return e.effects.effect.highlight=function(o,f){var t=e(this),i=["backgroundImage","backgroundColor","opacity"],n=e.effects.setMode(t,o.mode||"show"),c={backgroundColor:t.css("backgroundColor")};"hide"===n&&(c.opacity=0),e.effects.save(t,i),t.show().css({backgroundColor:o.color||"#ffff99"}).animate(c,{queue:!1,duration:o.duration,easing:o.easing,complete:function(){"hide"===n&&t.hide(),e.effects.restore(t,i),f()}})}}));
define("jeditable",["jquery"],(function(jQuery){return function($){$.fn.editable=function(t,e){if("disable"!=t)if("enable"!=t){if("destroy"!=t){var i=$.extend({},$.fn.editable.defaults,{target:t},e),a=i.plugin||$.editable.types[i.type].plugin||function(){},n=i.plugin_submit||$.editable.types[i.type].submit||function(){},l=i.buttons||$.editable.types[i.type].buttons||$.editable.types.defaults.buttons,s=i.content||$.editable.types[i.type].content||$.editable.types.defaults.content,o=i.element||$.editable.types[i.type].element||$.editable.types.defaults.element,d=i.reset||$.editable.types[i.type].reset||$.editable.types.defaults.reset,r=i.callback||function(){},u=i.onedit||function(){},p=i.onsubmit||function(){},c=i.onreset||function(){},h=i.onerror||d;return i.tooltip&&$(this).attr("title",i.tooltip),i.autowidth="auto"==i.width,i.autoheight="auto"==i.height,this.each((function(){var t=this,e=$(t).width(),f=$(t).height();$(this).data("event.editable",i.event),$.trim($(this).html())||$(this).html(i.placeholder),$(this).bind(i.event,(function(c){if(!0!==$(this).data("disabled.editable")&&!t.editing&&!1!==u.apply(this,[i,t])){c.preventDefault(),c.stopPropagation(),i.tooltip&&$(t).removeAttr("title"),0==$(t).width()?(i.width=e,i.height=f):("none"!=i.width&&(i.width=i.autowidth?$(t).width():i.width),"none"!=i.height&&(i.height=i.autoheight?$(t).height():i.height)),$(this).html().toLowerCase().replace(/(;|"|\/)/g,"")==i.placeholder.toLowerCase().replace(/(;|"|\/)/g,"")&&$(this).html(""),t.editing=!0,t.revert=$(t).html(),$(t).html("");var y=$("<form />");i.cssclass&&("inherit"==i.cssclass?y.attr("class",$(t).attr("class")):y.attr("class",i.cssclass)),i.style&&("inherit"==i.style?(y.attr("style",$(t).attr("style")),y.css("display",$(t).css("display"))):y.attr("style",i.style));var b,m=o.apply(y,[i,t]);if(i.loadurl){var v=setTimeout((function(){m.disabled=!0,s.apply(y,[i.loadtext,i,t])}),100),g={};g[i.id]=t.id,$.isFunction(i.loaddata)?$.extend(g,i.loaddata.apply(t,[t.revert,i])):$.extend(g,i.loaddata),$.ajax({type:i.loadtype,url:i.loadurl,data:g,async:!1,success:function(t){window.clearTimeout(v),b=t,m.disabled=!1}})}else i.data?(b=i.data,$.isFunction(i.data)&&(b=i.data.apply(t,[t.revert,i]))):b=t.revert;s.apply(y,[b,i,t]),m.attr("name",i.name),l.apply(y,[i,t]),$(t).append(y),a.apply(y,[i,t]),$(":input:visible:enabled:first",y).focus(),i.select&&m.select(),m.keydown((function(e){27==e.keyCode&&(e.preventDefault(),d.apply(y,[i,t]))})),"cancel"==i.onblur?m.blur((function(e){v=setTimeout((function(){d.apply(y,[i,t])}),500)})):"submit"==i.onblur?m.blur((function(t){v=setTimeout((function(){y.submit()}),200)})):$.isFunction(i.onblur)?m.blur((function(e){i.onblur.apply(t,[m.val(),i])})):m.blur((function(t){})),y.submit((function(e){if(v&&clearTimeout(v),e.preventDefault(),e.isPropagationStopped())return!1;if(!1!==p.apply(y,[i,t])&&!1!==n.apply(y,[i,t]))if($.isFunction(i.target)){var a=i.target.apply(t,[m.val(),i]);$(t).html(a),t.editing=!1,r.apply(t,[t.innerHTML,i]),$.trim($(t).html())||$(t).html(i.placeholder)}else{var l={};l[i.name]=m.val(),l[i.id]=t.id,$.isFunction(i.submitdata)?$.extend(l,i.submitdata.apply(t,[t.revert,i])):$.extend(l,i.submitdata),"PUT"==i.method&&(l._method="put"),$(t).html(i.indicator);var s={type:"POST",data:l,dataType:"html",url:i.target,success:function(e,a){"html"==s.dataType&&$(t).html(e),t.editing=!1,r.apply(t,[e,i]),$.trim($(t).html())||$(t).html(i.placeholder)},error:function(e,a,n){h.apply(y,[i,t,e])}};$.extend(s,i.ajaxoptions),$.ajax(s)}return $(t).attr("title",i.tooltip),!1}))}})),this.reset=function(e){this.editing&&!1!==c.apply(e,[i,t])&&($(t).html(t.revert),t.editing=!1,$.trim($(t).html())||$(t).html(i.placeholder),i.tooltip&&$(t).attr("title",i.tooltip))}}))}$(this).unbind($(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable")}else $(this).data("disabled.editable",!1);else $(this).data("disabled.editable",!0)},$.editable={types:{defaults:{element:function(t,e){var i=$('<input type="hidden"></input>');return $(this).append(i),i},content:function(t,e,i){$(":input:first",this).val(t)},reset:function(t,e){e.reset(this)},buttons:function(t,e){var i=this;if(t.submit){if(t.submit.match(/>$/))var a=$(t.submit).click((function(){"submit"!=a.attr("type")&&i.submit()}));else(a=$('<button type="submit" />')).html(t.submit);$(this).append(a)}if(t.cancel){if(t.cancel.match(/>$/))var n=$(t.cancel);else(n=$('<button type="cancel" />')).html(t.cancel);$(this).append(n),$(n).click((function(a){return(t.reset||$.editable.types[t.type].reset||$.editable.types.defaults.reset).apply(i,[t,e]),!1}))}}},text:{element:function(t,e){var i=$("<input />");return"none"!=t.width&&i.attr("width",t.width),"none"!=t.height&&i.attr("height",t.height),i.attr("autocomplete","off"),$(this).append(i),i}},textarea:{element:function(t,e){var i=$("<textarea />");return t.rows?i.attr("rows",t.rows):"none"!=t.height&&i.height(t.height),t.cols?i.attr("cols",t.cols):"none"!=t.width&&i.width(t.width),$(this).append(i),i}},select:{element:function(t,e){var i=$("<select />");return $(this).append(i),i},content:function(data,settings,original){if(String==data.constructor)eval("var json = "+data);else var json=data;for(var key in json)if(json.hasOwnProperty(key)&&"selected"!=key){var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}if($("select",this).children().each((function(){$(this).val()!=json.selected&&$(this).text()!=$.trim(original.revert)||$(this).attr("selected","selected")})),!settings.submit){var form=this;$("select",this).change((function(){form.submit()}))}}}},addInputType:function(t,e){$.editable.types[t]=e}},$.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{}}}(jQuery),jQuery}));
define("exvalidation",["jquery"],(function(r){return function(r){r.exValidationRules=r.exValidationRules||{};var t=function(t,s){if(t.length>1)return alert("You cannot select any forms"),!1;this.form=t;var n=this,o=r("body");s=this.conf=r.extend({errInsertPos:"body",err:null,ok:null,errFocus:!1,errHoverHide:!1,stepValidation:!1,scrollToErr:!0,scrollDuration:500,scrollAdjust:-10,customScrollAdjust:!1,errPosition:"absolute",errOpacity:void 0,errTipPos:"right",errTipCloseBtn:!0,errTipCloseLabel:"Ã",errZIndex:500,errMsgPrefix:"* ",customAddError:null,customClearError:null,customSubmit:null,customListener:"blur keyup change focus",customBind:null,customGetErrHeight:null,firstValidate:!1,inputs:"input:text,input:password,input:hidden,textarea,select,[class*=group],[class*=radio],[class*=checkbox]",groupInputs:"input:text,input:password,input:checkbox,input:radio,select,textarea",rules:{}},s||{});this.errFocus=function(t){if(!s.errFocus)return!1;!function(t,e){var i=r(".formError");i.removeClass("fadeOut").css("zIndex",e),i.not(t).addClass("fadeOut"),r(t).css({zIndex:e+100})}(t,s.errZIndex)},this.errFocusClear=function(){if(!s.errFocus)return!1;var t;t=s.errZIndex,r(".formError").removeClass("fadeOut").css("zIndex",t)},e(s.customSubmit)&&t.submit((function(){return!1})),r("input:checkbox,input:radio,input:button,input:submit,input:reset").click((function(){n.errFocusClear()}));var a=t.attr("id")?"form_"+t.attr("id"):"form_"+i()*i(),c=r(s.inputs,t).filter((function(){return!r(this).parents().hasClass("chkgroup")})),u=function(){var t="";for(var e in r.exValidationRules)t+="(?:\\s+|^)"+e+"(?:\\s+|$)|";return t+="(?:\\s+|^)chkmin\\d+(?:\\s+|$)|",t+="(?:\\s+|^)chkmax\\d+(?:\\s+|$)|",t+="(?:\\s+|^)chkminnum\\d+(?:\\s+|$)|",t=(t+="(?:\\s+|^)chkmaxnum\\d+(?:\\s+|$)|").replace(/\|$/,""),new RegExp(t)}(),l=function(r,t){var e=t||r;r.bind(s.customListener,(function(){n.basicValidate(t||this,s.err,s.ok),n.errFocus("#err_"+e.attr("name"))})).blur((function(){n.errFocusClear()}))};function d(t){s.firstValidate&&(c.unbind("blur keyup change click"),s.firstValidate=!1),c.each((function(){var t=r(this);n.basicValidate(this,s.err,s.ok,!0),t.hasClass("chkgroup")?l(r(s.groupInputs,t),t):l(t)}));var i=r(".formError:visible[class*='"+a+"']");if(i.length>0){if(e(s.customAddError)&&s.customAddError(),s.scrollToErr){var o,u,d,f=r.support.boxModel?-1!==navigator.appName.indexOf("Opera")?"html":"html,body":"body";if(s.customScrollAdjust)o=e(s.customScrollAdjust)?parseFloat(s.customScrollAdjust()):parseFloat(s.customScrollAdjust);else{o=r(i[0]).offset().top,d=r(i[0]);for(var h=0,m=i.length;h<m;h++)o=(u=r(i[h])).offset().top<o?u.offset().top:o,d=u.offset().top<o?u:d;"fixed"===s.errPosition&&(o-=r("#"+d.attr("id").replace("err_","")).prop("offsetHeight"))}r(f).animate({scrollTop:o+s.scrollAdjust},{easing:r.easing.easeInOutCirc?"easeInOutCirc":"swing",duration:s.scrollDuration})}return!1}return!(e(s.customClearError)&&!s.customClearError())&&(e(t)?(t(),!1):e(s.customSubmit)?(s.customSubmit(),!1):void 0)}return c.each((function(){var t=r(this),i=t.attr("name");s.rules[i]&&t.addClass(s.rules[i]),"right"===s.errTipPos&&t.addClass("errPosRight"),t.attr("class").match(u)&&("body"===s.errInsertPos?o.append(n.generateErr(i,a)):(t[s.errInsertPos](n.generateErr(i,a)),t.addClass(s.errInsertPos)),s.errHoverHide&&r("#err_"+i).mouseenter((function(){r(this).fadeOut()})),s.errTipCloseBtn&&r("#err_"+i).append(r("<span></span>").addClass("formErrorClose").text(s.errTipCloseLabel).click((function(){r(this).parent().fadeOut()}))),void 0!==s.errOpacity&&r("#err_"+i).children().css("opacity",s.errOpacity),"absolute"===s.errPosition&&(e(s.customGetErrHeight)?n.customGetErrHeight(i):n.getErrHeight(i,s.errZIndex),r(window).resize((function(){e(s.customGetErrHeight)?n.customGetErrHeight(i):n.getErrHeight(i,s.errZIndex)}))),r("#err_"+i).hide())})),s.firstValidate&&c.each((function(){var t=r(this);t.hasClass("chkgroup")?l(r(s.groupInputs,t),t):l(t)})),this.laterCall=function(r){n.basicValidate(r,s.err,s.ok)},t.submit(d),s.customBind&&s.customBind.object.bind(s.customBind.listener,(function(){return d(s.customBind.callback),!1})),this};function e(r){return r&&"function"==typeof r}function i(){return Math.floor(10*Math.random())+1}t.prototype={generateErr:function(r,t){return['<div id="err_'+r+'" class="formError userformError '+t+" "+this.conf.errPosition+'">','<div class="formErrorMsg formErrorContent"></div>','<div class="formErrorArrow">','<div class="line10"></div>','<div class="line9"></div>','<div class="line8"></div>','<div class="line7"></div>','<div class="line6"></div>','<div class="line5"></div>','<div class="line4"></div>','<div class="line3"></div>','<div class="line2"></div>','<div class="line1"></div>',"</div>","</div>"].join("")},insertErrMsg:function(t,e,i,s){var n=r(".errMsg","#err_"+e),o=!0;if(n.length>0&&r.each(n,(function(){r(this).hasClass(i)&&(o=!1)})),!o)return!1;r(".formErrorMsg","#err_"+e).append(r("<span></span>").addClass("errMsg").addClass(i).text(s)),this.getErrHeight(e)},getErrHeight:function(t,e){if("absolute"!==this.conf.errPosition)return!1;var i=this.form.find("[name="+t+"]"),s=r("#err_"+t),n=i.is(":hidden")?i.next():i,o=n.offset();if(o){var a=n.hasClass("errPosRight")?o.left+n.prop("offsetWidth")-40:o.left-20;s.css({position:"absolute",top:o.top-s.prop("offsetHeight"),left:a})}e&&s.css("zIndex",e)},basicValidate:function(t,i,s){var n=r(t),o=n.attr("class"),a=r.exValidationRules,c=n.attr("name"),u="",l=this;n.hasClass("chkgroup")?r(l.conf.groupInputs,t).each((function(t){var e=r(this);u+=e.val(),-1!==o.indexOf("chkemail")&&0==t&&e.val().length>0&&(u+="@")})):u=n.val();var d,f={isError:!1,failed:function(t,s){var u=a[s][0];(s.match(/chkmin/i)&&o.match(/chkmin(\d+)/i)||s.match(/chkmax/i)&&o.match(/chkmax(\d+)/i)||s.match(/chkminnum/i)&&o.match(/chkminnum(\d+)/i)||s.match(/chkmaxnum/i)&&o.match(/chkmaxnum(\d+)/i))&&(u=RegExp.$1+u),e(i)?i(t,c,l.conf.errMsgPrefix+u):(n.addClass("err"),r("."+s,"#err_"+c).show(),r("#err_"+c).fadeIn(),l.insertErrMsg(t,c,s,l.conf.errMsgPrefix+u),l.getErrHeight(c)),this.isError=!0}};for(d in a)(n.hasClass(d)||"chkmin"===d&&o.match(/(?:\s+|^)chkmin\d+(?:\s+|$)/)||"chkmax"===d&&o.match(/(?:\s+|^)chkmax\d+(?:\s+|$)/)||"chkminnum"===d&&o.match(/(?:\s+|^)chkminnum\d+(?:\s+|$)/)||"chkmaxnum"===d&&o.match(/(?:\s+|^)chkmaxnum\d+(?:\s+|$)/)||-1!==o.indexOf(d)&&-1!==o.indexOf("chkretype"))&&("function"!=typeof a[d][1]?u.match(a[d][1])?l.conf.stepValidation&&r(".errMsg:visible","#err_"+c).length>1&&(r("."+d,"#err_"+c).hide(),l.getErrHeight(c)):f.failed(t,d):a[d][1](u,t)?l.conf.stepValidation&&r(".errMsg:visible","#err_"+c).length>1&&(r("."+d,"#err_"+c).hide(),l.getErrHeight(c)):f.failed(t,d));f.isError||(e(s)?s(t,c):(n.removeClass("err"),r("#err_"+c).fadeOut()))}},r.fn.exValidation=function(r){return new t(this,r)},r.fn.validation||(r.fn.validation=r.fn.exValidation)}(r),r}));
define("exchecker-ja",["exvalidation"],(function(t){var n;return(n=t).exValidationRules=n.extend(n.exValidationRules,{chkrequired:["å¥åãã¦ãã ãã",function(t,e){if(n(e).hasClass("chkgroup")){var a=0;if(n("input,select",e).each((function(){n(this).val().length>0&&a++})),t&&a===n("input,select",e).length)return!/^[ ã\r\n\t]+$/.test(t)}else if(t&&t.length>0)return!/^[ ã\r\n\t]+$/.test(t)}],chkselect:["é¸æãã¦ãã ãã",function(t,n){if(t&&t.length>0)return!/^[ ã\r\n\t]+$/.test(t)}],chkretype:["å¥ååå®¹ãç°ãªãã¾ã",function(t,e){var a=n("#"+n(e).attr("class").split("retype-")[1].split(/\b/)[0]);if(!a.hasClass("chkgroup"))return a.val()==t;for(var r=n("input",a),c=(t=n("input",e),0),h=!1;c<r.length;c++)h=r[c].value===t[c].value;return!!h||void 0}],chkemail:["æ­£ããã¡ã¼ã«ã¢ãã¬ã¹ã®å½¢å¼ãå¥åãã¦ãã ãã",/^(?:[^\@]+?@[A-Za-z0-9_\.\-]+\.+[A-Za-z\.\-\_]+)*$/],chkhankaku:["å¨è§æå­ã¯ä½¿ç¨ã§ãã¾ãã",/^(?:[a-zA-Z0-9@\;\:\[\]\{\}\|\^\=\/\!\*\`\"\#\$\+\%\&\'\(\)\,\.\-\_\?\\\s]*)*$/],chkzenkaku:["å¨è§æå­ã§å¥åãã¦ãã ãã",/^(?:[^a-zA-Z0-9@\;\:\[\]\{\}\|\^\=\/\!\*\"\#\$\+\%\&\'\(\)\,\.\-\_\?\\\s]+)*$/],chkhiragana:["ã²ãããªã§å¥åãã¦ãã ãã",/^(?:[ã-ãã¼ï½]+)*$/],chkkatakana:["ã«ã¿ã«ãã§å¥åãã¦ãã ãã",/^(?:[ã¢-ã³ã¼ï½]+)*$/],chkfurigana:["ãµãããªã¯ã²ãããªãå¨è§æ°å­ã¨ããã¼ãï¼ï¼ãå©ç¨ã§ãã¾ã",/^(?:[ã-ãï¼-ï¼ã¼ï½ï¼ï¼\(\)\d ã]+)*$/],chknochar:["è±æ°å­ã§å¥åãã¦ãã ãã",/^(?:[a-zA-Z0-9]+)*$/],chknocaps:["è±æ°å­(å°æå­ã®ã¿)ã§å¥åãã¦ãã ãã",/^(?:[a-z0-9]+)*$/],chknumonly:["åè§æ°å­ã®ã¿ã§å¥åãã¦ãã ãã",/^(?:[0-9]+)*$/],chkmin:["æå­ä»¥ä¸ã§å¥åãã¦ãã ãã",function(t,e){if(0===t.length)return!0;var a=n(e).attr("class").match(/min(\d+)/)?RegExp.$1:null;return t.length>=a}],chkmax:["æå­ä»¥åã§å¥åãã¦ãã ãã",function(t,e){var a=n(e).attr("class").match(/max(\d+)/)?RegExp.$1:null;return t.length<=a}],chkminnum:["ä»¥ä¸ã®æ°å­ã§å¥åãã¦ãã ãã",function(t,e){if(0===t.length)return!0;var a=n(e).attr("class").match(/minnum(\d+)/)?parseInt(RegExp.$1):null;return t.match(/^(?:[0-9]+)*$/)&&parseInt(t)>=a}],chkmaxnum:["ä»¥ä¸ã®æ°å­ã§å¥åãã¦ãã ãã",function(t,e){return 0===t.length||(n(e).attr("class").match(/maxnum(\d+)/)&&parseInt(RegExp.$1),t.match(/^(?:[0-9]+)*$/)&&parseInt(t)<=min)}],chkradio:["é¸æãã¦ãã ãã",function(t,e){return n("input:checked",e).length>0}],chkcheckbox:["é¸æãã¦ãã ãã",function(t,e){return n("input:checked",e).length>0}],chkurl:["æ­£ããURLã®å½¢å¼ãå¥åãã¦ãã ãã",/^$|^(?:(?:ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(\/|\/([\w#!:.?+=&%@!\-\/]))?)*$/],chktel:["æ­£ããé»è©±çªå·ãå¥åãã¦ãã ãã",/^(?:\(?\d+\)?\-?\d+\-?\d+)*$/],chkfax:["æ­£ãããã¡ãã¯ã¹çªå·ãå¥åãã¦ãã ãã",/^(?:\(?\d+\)?\-?\d+\-?\d+)*$/]}),t}));
(function(){var t=function(t,i){return function(){return t.apply(i,arguments)}},i={}.hasOwnProperty,e=function(t,e){for(var s in e)i.call(e,s)&&(t[s]=e[s]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("cs!sanca/views/editable",["jquery","underscore","sanca","sanca/views","jqueryui/effect-highlight","jeditable","exvalidation","exchecker-ja"],(function(i,s,n,o){var r;return r=s.extend({},i.editable.types),i.each(r,(function(t,e){return i.editable.addInputType("exvalidation_"+t,s.defaults({plugin:function(t,e){return i(this).validation(t.validation)}},i.editable.types[t]))})),o.CancelEditableSaveError=function(){},o.CancelEditableSaveError.prototype=Error(),o.EditableField=function(o){function r(){return this.onSuccess=t(this.onSuccess,this),this.onReset=t(this.onReset,this),this.onSubmit=t(this.onSubmit,this),this.onEdit=t(this.onEdit,this),this.save=t(this.save,this),this.data=t(this.data,this),r.__super__.constructor.apply(this,arguments)}return e(r,o),r.prototype.initialize=function(t){var e;return this.cid=s.uniqueId("view"),s.defaults(t,{cid:this.cid,name:"value",type:"text",tooltip:"ç·¨éããã«ã¯ã¯ãªãã¯ãã¦ãã ãã",placeholder:'<span class="placeholder">ç·¨éããã«ã¯ã¯ãªãã¯</span>',data:this.data,onsubmit:this.onSubmit,onedit:this.onEdit,onreset:this.onReset,submit:'<button type="submit" class="btn btn_high_priority save corner_left">ä¿å­</button>',cancel:'<span class="cancel link btn btn_default" title="ã­ã£ã³ã»ã«"><span class="icon_close"></span></span>',onblur:"ignore",flash_el:this.el}),this.options.validation&&(s.defaults(t.validation,{errInsertPos:"after",scrollToErr:!1}),t.type="exvalidation_"+t.type,"object"!=typeof this.options.validation.rules&&((e={})[this.options.name]=this.options.validation.rules,this.options.validation.rules=e)),t.save||(t.save=this.save),i(this.el).addClass("ui-editable").editable(t.save,t)},r.prototype.data=function(t,i){return this.model.get(this.options.name)},r.prototype.save=function(t,i){var e;return t=n.StrUtil.trim(t),(e={})[this.options.name]=t,this.model.save(e,{success:this.onSuccess}),n.StrUtil.htmlEscape(t)},r.prototype.onEdit=function(t,e){var s;if(i(".ui-editing").each((function(t,e){return i(e).find("form").submit()})),i(this.el).addClass("ui-editing"),this.options.validation)return this.options.validation.rules||((s={})[this.options.name]=this.options.validation.rules,this.options.validation.rules=s),i(this.el).find("form").validation(this.options.validation)},r.prototype.onSubmit=function(t,e){return i(this.el).removeClass("ui-editing")},r.prototype.onReset=function(t,e){return i(this.el).removeClass("ui-editing")},r.prototype.onSuccess=function(t,e){return i(this.options.flash_el).effect("highlight",{},1e3)},r}(n.BaseView),o.EditableTextArea=function(i){function o(){return this.save=t(this.save,this),o.__super__.constructor.apply(this,arguments)}return e(o,i),o.prototype.initialize=function(t){return t||(t={}),s.defaults(t,{type:"textarea"}),o.__super__.initialize.call(this,t)},o.prototype.save=function(t,i){var e;return t=n.StrUtil.trim(t).replace(/\r?\n/g,"\r\n"),(e={})[this.options.name]=t,this.model.save(e,{success:this.onSuccess}),t?(t=n.StrUtil.htmlEscape(t),t=n.StrUtil.linebreaksbr(t)):""},o}(o.EditableField),o.EditableSelect=function(o){function r(){return this.save=t(this.save,this),this.data=t(this.data,this),r.__super__.constructor.apply(this,arguments)}return e(r,o),r.prototype.initialize=function(t){return t||(t={}),s.defaults(t,{type:"select",submit:"ä¿å­"}),r.__super__.initialize.call(this,t)},r.prototype.data=function(t,i){return{}},r.prototype.save=function(t,e){var s;return t=n.StrUtil.trim(t),(s={})[this.options.name]=t,self.model.save(s,{success:this.onSuccess}),i(this.el).find("option:selected").text()},r}(o.EditableField),o.FormEditable=function(n){function r(){return this.onKeyDown=t(this.onKeyDown,this),this.save=t(this.save,this),this.saveEdit=t(this.saveEdit,this),this._showForm=t(this._showForm,this),this.startEdit=t(this.startEdit,this),this._stopEdit=t(this._stopEdit,this),this.cancelEdit=t(this.cancelEdit,this),this.render=t(this.render,this),this.is_editing=t(this.is_editing,this),r.__super__.constructor.apply(this,arguments)}return e(r,n),r.prototype.events={"click .FormEditable":"startEdit","submit form":"saveEdit","click .EditCancel":"cancelEdit","keydown input":"onKeyDown"},r.prototype.initialize=function(t){return null==t&&(t={}),r.__super__.initialize.call(this,t),t.validation&&s.defaults(this.options.validation,{errInsertPos:"after",scrollToErr:!1}),this._editing=!1,this._current_tmpl=this.options.template_el},r.prototype.is_editing=function(){return this._editing},r.prototype.render=function(){return this.$el.html(this.template(this._current_tmpl)),this},r.prototype.cancelEdit=function(){if(this._editing)return this.trigger("form:cancel"),this.trigger("form:close"),this._stopEdit()},r.prototype._stopEdit=function(){return this._editing=!1,this.options.template_el=this.options.template_el||this.template_el,this._current_tmpl=this.options.template_el,this.render(),this.$el.removeClass("ui-editing")},r.prototype.startEdit=function(){if(!this._editing)return this._showForm(this.model.toJSON())},r.prototype._showForm=function(t){return null==t&&(t={}),this._editing=!0,i(".ui-editing").each((function(t,e){return i(e).find("form").submit()})),this.$el.addClass("ui-editing"),this.options.form_template_el=this.options.form_template_el||this.form_template_el,this._current_tmpl=this.options.form_template_el,this.render(),this.options.validation&&this.$("form").validation(this.options.validation),this.trigger("form:render"),!1},r.prototype.saveEdit=function(){if(this._editing){try{this.trigger("form:presave")}catch(t){if(t instanceof o.CancelEditableSaveError)return!1;throw t}this.save(),this._stopEdit()}return!1},r.prototype.save=function(){var t,e=this;if(this._editing)return t={},this.$("input").each((function(e,s){if("submit"!==(s=i(s)).attr("type"))return t[s.attr("name")]=s.val()})),this.model.save(t,{success:function(t,i){return e.trigger("form:save",t,i)},error:function(t,i,s){return e.trigger("form:error",t,i,s)}}),this.trigger("form:close")},r.prototype.onKeyDown=function(t){if(27===t.keyCode)return this._stopEdit()},r}(n.BaseView),o}))}).call(this);
define("sanca/models/eventfile",["jquery","sanca","sanca/models"],(function(e,n,i){return i.EventFile=n.BaseModel.extend({api_url:function(){var e=n.API_BASE_URL+"/event/"+this.collection.event.id+"/file/";return this.id&&(e+=this.id),e}}),i.EventFileList=n.BaseCollection.extend({model:i.EventFile,api_url:function(){return n.API_BASE_URL+"/event/"+this.event.id+"/file/"},initialize:function(e,n){this.event=n.event}}),i}));
/*!
 * jQuery UI Core 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
!function(e){"function"==typeof define&&define.amd?define("jqueryui/core",["jquery"],e):e(jQuery)}((function(e){var t,n,i,r;function o(t,n){var i,r,o,a=t.nodeName.toLowerCase();return"area"===a?(r=(i=t.parentNode).name,!(!t.href||!r||"map"!==i.nodeName.toLowerCase())&&(!!(o=e("img[usemap='#"+r+"']")[0])&&s(o))):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a&&t.href||n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var t=e(this);return(!i||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:(t=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++t)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}})):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return o(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),i=isNaN(n);return(i||n>=0)&&o(t,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(t,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function s(t,n,r,o){return e.each(i,(function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)})),n}e.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each((function(){e(this).css(r,s(this,t)+"px")}))},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?o["outer"+n].call(this,t):this.each((function(){e(this).css(r,s(this,t,!0,i)+"px")}))}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(n=e.fn.removeData,function(t){return arguments.length?n.call(this,e.camelCase(t)):n.call(this)})),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:(r=e.fn.focus,function(t,n){return"number"==typeof t?this.each((function(){var i=this;setTimeout((function(){e(i).focus(),n&&n.call(i)}),t)})):r.apply(this,arguments)}),disableSelection:(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(i+".ui-disableSelection",(function(e){e.preventDefault()}))}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,r=e(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}}}));
/*!
 * jQuery UI Widget 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
!function(t){"function"==typeof define&&define.amd?define("jqueryui/widget",["jquery"],t):t(jQuery)}((function(t){var e,i=0,n=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(i){var n,s,o;for(o=0;null!=(s=i[o]);o++)try{(n=t._data(s,"events"))&&n.remove&&t(s).triggerHandler("remove")}catch(t){}e(i)}),t.widget=function(e,i,n){var s,o,r,a,u={},d=e.split(".")[0];return e=e.split(".")[1],s=d+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[d]=t[d]||{},o=t[d][e],r=t[d][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(n,(function(e,n){var s,o;t.isFunction(n)?u[e]=(s=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)},function(){var t,e=this._super,i=this._superApply;return this._super=s,this._superApply=o,t=n.apply(this,arguments),this._super=e,this._superApply=i,t}):u[e]=n})),r.prototype=t.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||e},u,{constructor:r,namespace:d,widgetName:e,widgetFullName:s}),o?(t.each(o._childConstructors,(function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)})),delete o._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var i,s,o=n.call(arguments,1),r=0,a=o.length;r<a;r++)for(i in o[r])s=o[r][i],o[r].hasOwnProperty(i)&&void 0!==s&&(t.isPlainObject(s)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):e[i]=s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(o){var r="string"==typeof o,a=n.call(arguments,1),u=this;return o=!r&&a.length?t.widget.extend.apply(null,[o].concat(a)):o,r?this.each((function(){var i,n=t.data(this,s);return"instance"===o?(u=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a))!==n&&void 0!==i?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):this.each((function(){var e=t.data(this,s);e?(e.option(o||{}),e._init&&e._init()):t.data(this,s,new i(o,this))})),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,s,o,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},n=e.split("."),e=n.shift(),n.length){for(s=r[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)s[n[o]]=s[n[o]]||{},s=s[n[o]];if(e=n.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var s,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,(function(n,r){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof r?o[r]:r).apply(o,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var u=n.match(/^([\w:-]*)\s*(.*)$/),d=u[1]+o.eventNamespace,h=u[2];h?s.delegate(h,d,a):i.bind(d,a)}))},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,r=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(t.isFunction(r)&&!1===r.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?!0===s||"number"==typeof s?i:s.effect||i:e;"number"==typeof(s=s||{})&&(s={duration:s}),r=!t.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,o):n.queue((function(i){t(this)[e](),o&&o.call(n[0]),i()}))}})),t.widget}));
/*!
 * jQuery UI Position 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!function(t){"function"==typeof define&&define.amd?define("jqueryui/position",["jquery"],t):t(jQuery)}((function(t){return function(){t.ui=t.ui||{};var i,e,o=Math.max,n=Math.abs,l=Math.round,f=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,p=/%$/,c=t.fn.position;function d(t,i,e){return[parseFloat(t[0])*(p.test(t[0])?i/100:1),parseFloat(t[1])*(p.test(t[1])?e/100:1)]}function a(i,e){return parseInt(t.css(i,e),10)||0}function g(i){var e=i[0];return 9===e.nodeType?{width:i.width(),height:i.height(),offset:{top:0,left:0}}:t.isWindow(e)?{width:i.width(),height:i.height(),offset:{top:i.scrollTop(),left:i.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:i.outerWidth(),height:i.outerHeight(),offset:i.offset()}}t.position={scrollbarWidth:function(){if(void 0!==i)return i;var e,o,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),l=n.children()[0];return t("body").append(n),e=l.offsetWidth,n.css("overflow","scroll"),e===(o=l.offsetWidth)&&(o=n[0].clientWidth),n.remove(),i=e-o},getScrollInfo:function(i){var e=i.isWindow||i.isDocument?"":i.element.css("overflow-x"),o=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),n="scroll"===e||"auto"===e&&i.width<i.element[0].scrollWidth;return{width:"scroll"===o||"auto"===o&&i.height<i.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(i){var e=t(i||window),o=t.isWindow(e[0]),n=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:o,isDocument:n,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:o||n?e.width():e.outerWidth(),height:o||n?e.height():e.outerHeight()}}},t.fn.position=function(i){if(!i||!i.of)return c.apply(this,arguments);i=t.extend({},i);var p,u,m,w,W,y,v=t(i.of),b=t.position.getWithinInfo(i.within),H=t.position.getScrollInfo(b),x=(i.collision||"flip").split(" "),T={};return y=g(v),v[0].preventDefault&&(i.at="left top"),u=y.width,m=y.height,w=y.offset,W=t.extend({},w),t.each(["my","at"],(function(){var t,e,o=(i[this]||"").split(" ");1===o.length&&(o=f.test(o[0])?o.concat(["center"]):s.test(o[0])?["center"].concat(o):["center","center"]),o[0]=f.test(o[0])?o[0]:"center",o[1]=s.test(o[1])?o[1]:"center",t=h.exec(o[0]),e=h.exec(o[1]),T[this]=[t?t[0]:0,e?e[0]:0],i[this]=[r.exec(o[0])[0],r.exec(o[1])[0]]})),1===x.length&&(x[1]=x[0]),"right"===i.at[0]?W.left+=u:"center"===i.at[0]&&(W.left+=u/2),"bottom"===i.at[1]?W.top+=m:"center"===i.at[1]&&(W.top+=m/2),p=d(T.at,u,m),W.left+=p[0],W.top+=p[1],this.each((function(){var f,s,h=t(this),r=h.outerWidth(),c=h.outerHeight(),g=a(this,"marginLeft"),y=a(this,"marginTop"),L=r+g+a(this,"marginRight")+H.width,P=c+y+a(this,"marginBottom")+H.height,D=t.extend({},W),I=d(T.my,h.outerWidth(),h.outerHeight());"right"===i.my[0]?D.left-=r:"center"===i.my[0]&&(D.left-=r/2),"bottom"===i.my[1]?D.top-=c:"center"===i.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],e||(D.left=l(D.left),D.top=l(D.top)),f={marginLeft:g,marginTop:y},t.each(["left","top"],(function(e,o){t.ui.position[x[e]]&&t.ui.position[x[e]][o](D,{targetWidth:u,targetHeight:m,elemWidth:r,elemHeight:c,collisionPosition:f,collisionWidth:L,collisionHeight:P,offset:[p[0]+I[0],p[1]+I[1]],my:i.my,at:i.at,within:b,elem:h})})),i.using&&(s=function(t){var e=w.left-D.left,l=e+u-r,f=w.top-D.top,s=f+m-c,p={target:{element:v,left:w.left,top:w.top,width:u,height:m},element:{element:h,left:D.left,top:D.top,width:r,height:c},horizontal:l<0?"left":e>0?"right":"center",vertical:s<0?"top":f>0?"bottom":"middle"};u<r&&n(e+l)<u&&(p.horizontal="center"),m<c&&n(f+s)<m&&(p.vertical="middle"),o(n(e),n(l))>o(n(f),n(s))?p.important="horizontal":p.important="vertical",i.using.call(this,t,p)}),h.offset(t.extend(D,{using:s}))}))},t.ui.position={fit:{left:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollLeft:n.offset.left,f=n.width,s=t.left-i.collisionPosition.marginLeft,h=l-s,r=s+i.collisionWidth-f-l;i.collisionWidth>f?h>0&&r<=0?(e=t.left+h+i.collisionWidth-f-l,t.left+=h-e):t.left=r>0&&h<=0?l:h>r?l+f-i.collisionWidth:l:h>0?t.left+=h:r>0?t.left-=r:t.left=o(t.left-s,t.left)},top:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollTop:n.offset.top,f=i.within.height,s=t.top-i.collisionPosition.marginTop,h=l-s,r=s+i.collisionHeight-f-l;i.collisionHeight>f?h>0&&r<=0?(e=t.top+h+i.collisionHeight-f-l,t.top+=h-e):t.top=r>0&&h<=0?l:h>r?l+f-i.collisionHeight:l:h>0?t.top+=h:r>0?t.top-=r:t.top=o(t.top-s,t.top)}},flip:{left:function(t,i){var e,o,l=i.within,f=l.offset.left+l.scrollLeft,s=l.width,h=l.isWindow?l.scrollLeft:l.offset.left,r=t.left-i.collisionPosition.marginLeft,p=r-h,c=r+i.collisionWidth-s-h,d="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,a="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,g=-2*i.offset[0];p<0?((e=t.left+d+a+g+i.collisionWidth-s-f)<0||e<n(p))&&(t.left+=d+a+g):c>0&&((o=t.left-i.collisionPosition.marginLeft+d+a+g-h)>0||n(o)<c)&&(t.left+=d+a+g)},top:function(t,i){var e,o,l=i.within,f=l.offset.top+l.scrollTop,s=l.height,h=l.isWindow?l.scrollTop:l.offset.top,r=t.top-i.collisionPosition.marginTop,p=r-h,c=r+i.collisionHeight-s-h,d="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,a="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,g=-2*i.offset[1];p<0?(o=t.top+d+a+g+i.collisionHeight-s-f,t.top+d+a+g>p&&(o<0||o<n(p))&&(t.top+=d+a+g)):c>0&&(e=t.top-i.collisionPosition.marginTop+d+a+g-h,t.top+d+a+g>c&&(e>0||n(e)<c)&&(t.top+=d+a+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var i,o,n,l,f,s=document.getElementsByTagName("body")[0],h=document.createElement("div");for(f in i=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)i.style[f]=n[f];i.appendChild(h),(o=s||document.documentElement).insertBefore(i,o.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",l=t(h).offset().left,e=l>10&&l<11,i.innerHTML="",o.removeChild(i)}()}(),t.ui.position}));
/*!
 * jQuery UI Menu 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 */
!function(e){"function"==typeof define&&define.amd?define("jqueryui/menu",["jquery","./core","./widget","./position"],e):e(jQuery)}((function(e){return e.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay((function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,s,n,a,u,o=!0;function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,s=this.previousFilter||"",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,u=new RegExp("^"+r(n),"i"),i=this.activeMenu.find(this.options.items).filter((function(){return u.test(e(this).text())})),(i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(n=String.fromCharCode(t.keyCode),u=new RegExp("^"+r(n),"i"),i=this.activeMenu.find(this.options.items).filter((function(){return u.test(e(this).text())}))),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=n,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i=this,s=this.options.icons.submenu,n=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),i=t.parent(),n=e("<span>").addClass("ui-menu-icon ui-icon "+s).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))})),(t=n.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var t=e(this);i._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")})),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,u,o;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),u=this.activeMenu.height(),o=t.outerHeight(),n<0?this.activeMenu.scrollTop(a+n):n+o>u&&this.activeMenu.scrollTop(a+n-u+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay((function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;this.active?this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(i=e(this)).offset().top-s-n<0})),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var i,s,n;this.active?this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(i=e(this)).offset().top-s+n>0})),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}));
/*!
 * jQuery UI Autocomplete 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */
!function(e){"function"==typeof define&&define.amd?define("jqueryui/autocomplete",["jquery","./core","./widget","./position","./menu"],e):e(jQuery)}((function(e){return e.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,u="input"===n;this.isMultiLine=!!o||!u&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||u?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,void(i=!0);t=!1,s=!1,i=!1;var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case o.UP:t=!0,this._keyEvent("previous",n);break;case o.DOWN:t=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||s.preventDefault());if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){if(s)return s=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay((function(){var t=this;this.document.one("mousedown",(function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()}))}))},menufocus:function(t,i){var s,n;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),(s=i.item.attr("aria-label")||n.value)&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay((function(){this.previous=s,this.selectedItem=i}))),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||s)||(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})}))},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,(function(e,i){s._renderItemData(t,i)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,(function(e){return s.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete}));
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty;define("cs!sanca/views/userselect",["jquery","underscore","backbone","sanca","sanca/views","sanca/models/user","jqueryui/autocomplete"],(function(n,o,s,r,i,c){return i.UserSelect=function(s){function i(){return this.close=e(this.close,this),this.userSelected=e(this.userSelected,this),this.initialize=e(this.initialize,this),i.__super__.constructor.apply(this,arguments)}return function(e,n){for(var o in n)t.call(n,o)&&(e[o]=n[o]);function s(){this.constructor=e}s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype}(i,s),i.prototype.initialize=function(){var e;return o.defaults(this.options,{user_cache:{},collection_cls:c.UserList}),e=this,this.$el.autocomplete({minLength:2,source:function(t,n){var o;return(o=t.term)in e.options.user_cache?n(e.options.user_cache[o]):(new e.options.collection_cls).search({query:o,success:function(t,s){var r;return r=[],t.each((function(e){var t;return(t=e.toJSON()).label=t.display_name,t.value=t.username,r.push(t)})),e.options.user_cache[o]=r,n(r)}})},select:function(t,n){var o;return o=new e.options.collection_cls.prototype.model(n.item),e.userSelected(t,o)}}).autocomplete("instance")._renderItem=function(t,s){return s.avatar||(s.avatar=r.STATIC_URL+"img/common/user_no_image.gif"),n("<li></li>").data("item.autocomplete",s).append(o.template(e._get_template(),s)).appendTo(t)}},i.prototype.userSelected=function(e,t){return this.options.callback&&this.options.callback(e,t),this.$el.val(""),!1},i.prototype.close=function(){return this.$el.autocomplete("close")},i.prototype._get_template=function(){return'<a><img src="<%- avatar %>" width="23" height="23" alt="" />\n  &nbsp;&nbsp;<%- display_name %>\n  <span class="username">(<%- username %>)</span>\n</a>'},i}(s.View),i}))}).call(this);
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty;define("cs!sanca/views/editable_userselect",["jquery","underscore","sanca","cs!sanca/views/editable","sanca/models/user","cs!sanca/views/userselect","jqueryui/autocomplete"],(function(i,n,s,u,r){return u.EditableUserSelect=function(s){function r(){return this.setupPlugin=e(this.setupPlugin,this),this.userSelected=e(this.userSelected,this),this.save=e(this.save,this),this.getSelectedId=e(this.getSelectedId,this),r.__super__.constructor.apply(this,arguments)}return function(e,i){for(var n in i)t.call(i,n)&&(e[n]=i[n]);function s(){this.constructor=e}s.prototype=i.prototype,e.prototype=new s,e.__super__=i.prototype}(r,s),r.prototype.initialize=function(e){var t;return this.user_cache={},this._editable_type="usersearch"+this.cid,n.defaults(e,{type:this._editable_type}),t=this,i.editable.addInputType(this._editable_type,n.defaults({plugin:function(e,i){return t.setupPlugin(this,e,i)}},i.editable.types.text)),i.editable.addInputType("exvalidation_"+this._editable_type,n.defaults({plugin:function(e,n){return i(this).validation(e.validation),t.setupPlugin(this,e,n)}},i.editable.types.text)),r.__super__.initialize.call(this,e)},r.prototype.getSelectedId=function(){return this.$("form input[name=user]").val()||null},r.prototype.save=function(e,t){var i;return i=this.getSelectedId(),r.__super__.save.call(this,i,t)},r.prototype.userSelected=function(e,t,i,n){var s;return(s=this.$("form")).find("input[name=user]").remove(),s.find("input[name="+t.name+"]").val(n.get("username")),s.append('<input type="hidden" name="user" value="'+n.id+'">'),s.submit()},r.prototype.setupPlugin=function(e,t,n){var s,r=this;return(s=i(e).find("input[name="+t.name+"]")).keydown((function(){return i(e).closest("form").find("input[name=user]").remove()})),new u.UserSelect({el:s,user_cache:this.user_cache,callback:function(e,i){return r.userSelected(s,t,e,i)}})},r}(u.EditableField)}))}).call(this);
(function(){var e={}.hasOwnProperty,t=function(t,i){for(var n in i)e.call(i,n)&&(t[n]=i[n]);function r(){this.constructor=t}return r.prototype=i.prototype,t.prototype=new r,t.__super__=i.prototype,t},i=function(e,t){return function(){return e.apply(t,arguments)}};define("cs!sanca/views/event_file",["jquery","underscore","sanca","cs!sanca/views/editable","sanca/models/eventfile","cs!sanca/views/editable_userselect"],(function(e,n,r,o,s){return o.EventFileListView=function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,i),n.prototype.initialize=function(t){var i=this;return this.collection=new s.EventFileList([],{event:t.event}),this.$(".EventLink").each((function(t,n){var r;return r=new s.EventFile(e(n).data("obj"),{parse:!0}),i.collection.add(r),new o.EventFileView({el:n,model:r})})),this.fields={presenter_name:new o.UserSelectField({el:this.$("#FieldPresenterName"),name:"presenter_name",input_id_el:this.$("#FieldPresenter")})}},n}(r.BaseView),o.EventFileView=function(n){function r(){return this.initialize=i(this.initialize,this),r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.events={"click .deleteObject":"deleteOne"},r.prototype.initialize=function(){return this.fields={title:new o.EditableField({el:this.$(".FieldName"),name:"name",model:this.model,tooltip:"ã¿ã¤ãã«ãç·¨éããã«ã¯ã¯ãªãã¯ãã¦ãã ãã",placeholder:"ã¿ã¤ãã«ãç·¨éããã«ã¯ã¯ãªãã¯",validation:{rules:"chkrequired chkmax100"}})}},r.prototype.deleteOne=function(){var t=this;if(confirm("ãã®ãªã³ã¯ãåé¤ãã¾ããï¼"))return this.model.destroy({success:function(i,n){return e(t.el).fadeOut()}})},r}(r.BaseView),o.UserSelectField=function(o){function s(){return this.onSubmit=i(this.onSubmit,this),this.onEdit=i(this.onEdit,this),this.save=i(this.save,this),s.__super__.constructor.apply(this,arguments)}return t(s,o),s.prototype.initialize=function(e){return n.defaults(e,{tooltip:"çºè¡¨èãæå®ããã«ã¯ã¯ãªãã¯",placeholder:"(æå®ããã«ã¯ã¯ãªãã¯)",validation:{rules:"chkmax100"},submit:null,onblur:"cancel"}),s.__super__.initialize.call(this,e)},s.prototype.save=function(e,t){var i,n;return n=r.StrUtil.trim(e),this.options.input_id_el&&(i=this.getSelectedId(),this.options.input_id_el.val(i)),n},s.prototype.data=function(e,t){return e},s.prototype.onEdit=function(t,i){return e(this.el).addClass("ui-editing")},s.prototype.onSubmit=function(t,i){var n;return n=s.__super__.onSubmit.call(this,t,i),(""===e(i).find("form input[name="+t.name+"]").val()||!(!1!==n&&!this.getSelectedId()))&&n},s}(o.EditableUserSelect),o}))}).call(this);
(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){for(var i in n)e.call(n,i)&&(t[i]=n[i]);function o(){this.constructor=t}return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("cs!sanca/views/event_create",["jquery","underscore","sanca","i18n!sanca/nls/i18n","cs!sanca/models/event","cs!sanca/views/modal"],(function(e,i,o,r,s,u){return u.EventCreateWindow=function(e){function o(){return this.doSubmit=t(this.doSubmit,this),o.__super__.constructor.apply(this,arguments)}return n(o,e),o.prototype.events=i.extend({},u.ModalWindow.prototype.events,{"click .EventCreateSubmit":"doSubmit"}),o.prototype.doSubmit=function(){var t,e,n,o=this;return n=this.$("input[name=title]").val(),t=this.$("input[name=allow_conflict_join]").val(),n?((e=new s.Event).set(i.defaults({title:n,allow_conflict_join:t},this.options.other_fields)),e.save({},{success:function(t,e){return o.redirect(t.get_edit_url())}}),!0):(alert(r["ã¿ã¤ãã«ã¯å¿é ã§ã"]),!1)},o}(u.ModalWindow),u.SubeventCreateWindow=function(e){function o(){return this.doSubmit=t(this.doSubmit,this),o.__super__.constructor.apply(this,arguments)}return n(o,e),o.prototype.doSubmit=function(){var t,e,n,o=this;return n=this.$("input[name=title]").val(),t=this.$("input[name=allow_conflict_join]").val(),n?((e=new s.Event).set(i.defaults({title:n,allow_conflict_join:t},this.options.other_fields)),e.save({},{success:function(t,e){return o.redirect(t.get_edit_url(),!0),o.reload()}}),!0):(alert(r["ã¿ã¤ãã«ã¯å¿é ã§ã"]),!1)},o}(u.EventCreateWindow),u}))}).call(this);
/*!
 * jQuery UI Button 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */
!function(t){"function"==typeof define&&define.amd?define("jqueryui/button",["jquery","./core","./widget"],t):t(jQuery)}((function(t){var e,i="ui-button ui-widget ui-state-default ui-corner-all",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",n=function(){var e=t(this);setTimeout((function(){e.find(":ui-button").button("refresh")}),1)},o=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?t(s).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter((function(){return!this.form}))),n};return t.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,n),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var s=this,a=this.options,u="checkbox"===this.type||"radio"===this.type,r=u?"":"ui-state-active";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){a.disabled||this===e&&t(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){a.disabled||t(this).removeClass(r)})).bind("click"+this.eventNamespace,(function(t){a.disabled&&(t.preventDefault(),t.stopImmediatePropagation())})),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),u&&this.element.bind("change"+this.eventNamespace,(function(){s.refresh()})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(a.disabled)return!1})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(a.disabled)return!1;t(this).addClass("ui-state-active"),s.buttonElement.attr("aria-pressed","true");var e=s.element[0];o(e).not(e).map((function(){return t(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){if(a.disabled)return!1;t(this).addClass("ui-state-active"),e=this,s.document.one("mouseup",(function(){e=null}))})).bind("mouseup"+this.eventNamespace,(function(){if(a.disabled)return!1;t(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(e){if(a.disabled)return!1;e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active")})).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,(function(){t(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()}))),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" ui-state-active "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?o(this.element[0]).each((function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(s),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,a=[];n.primary||n.secondary?(this.options.text&&a.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(a.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):a.push("ui-button-text-only"),e.addClass(a.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),t.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map((function(){return t(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return t(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),t.ui.button}));
/*!
 * jQuery UI Mouse 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
!function(e){"function"==typeof define&&define.amd?define("jqueryui/mouse",["jquery","./widget"],e):e(jQuery)}((function(e){var t=!1;return e(document).mouseup((function(){t=!1})),e.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).bind("click."+this.widgetName,(function(s){if(!0===e.data(s.target,t.widgetName+".preventClickEvent"))return e.removeData(s.target,t.widgetName+".preventClickEvent"),s.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(s){if(!t){this._mouseStarted&&this._mouseUp(s),this._mouseDownEvent=s;var i=this,o=1===s.which,u=!("string"!=typeof this.options.cancel||!s.target.nodeName)&&e(s.target).closest(this.options.cancel).length;return!(o&&!u&&this._mouseCapture(s))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(s)&&this._mouseDelayMet(s)&&(this._mouseStarted=!1!==this._mouseStart(s),!this._mouseStarted)?(s.preventDefault(),!0):(!0===e.data(s.target,this.widgetName+".preventClickEvent")&&e.removeData(s.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),s.preventDefault(),t=!0,!0))}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):t.which?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(s){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,s.target===this._mouseDownEvent.target&&e.data(s.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(s)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}));
/*!
 * jQuery UI Draggable 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
!function(t){"function"==typeof define&&define.amd?define("jqueryui/draggable",["jquery","./core","./mouse","./widget"],t):t(jQuery)}((function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var s=this.document[0],i=this.options;try{s.activeElement&&"body"!==s.activeElement.nodeName.toLowerCase()&&t(s.activeElement).blur()}catch(t){}return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===i.iframeFix?"iframe":i.iframeFix).each((function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")})),!0))},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,s){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==s._trigger("stop",e)&&s._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each((function(){this.parentNode.removeChild(this)})),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var s=this.options,i=t.isFunction(s.helper)?t(s.helper.apply(this.element[0],[e])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,i,o=this.options,n=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(s=t(o.containment))[0])&&(e="hidden"!==s.css("overflow"),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s)):this.containment=o.containment:this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,n,r=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(l=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(l=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[s,i,this],!0),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,i){var o=i.options,n=t.extend({},s,{item:i.element});i.sortables=[],t(o.connectToSortable).each((function(){var s=t(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push({instance:s,shouldRevert:s.options.revert}),s.refreshPositions(),s._trigger("activate",e,n))}))},stop:function(e,s,i){var o=t.extend({},s,{item:i.element});t.each(i.sortables,(function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,o))}))},drag:function(e,s,i){var o=this;t.each(i.sortables,(function(){var n=!1,r=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(n=!0,t.each(i.sortables,(function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(r.instance.element[0],this.instance.element[0])&&(n=!1),n}))),n?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return s.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",e),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",e),i.dropped=!1)}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,s,i){var o=t("body"),n=i.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,s,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,s,i){var o=i.options;o._opacity&&t(s.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,s,i){var o=i.options,n=!1,r=i.scrollParentNotHidden[0],a=i.document[0];r!==a&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(a).scrollTop()<o.scrollSensitivity?n=t(a).scrollTop(t(a).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<o.scrollSensitivity&&(n=t(a).scrollTop(t(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(a).scrollLeft()<o.scrollSensitivity?n=t(a).scrollLeft(t(a).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<o.scrollSensitivity&&(n=t(a).scrollLeft(t(a).scrollLeft()+o.scrollSpeed)))),!1!==n&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,s,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each((function(){var e=t(this),s=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:s.top,left:s.left})}))},drag:function(e,s,i){var o,n,r,a,l,h,p,c,f,d,g=i.options,u=g.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)h=(l=i.snapElements[f].left)+i.snapElements[f].width,c=(p=i.snapElements[f].top)+i.snapElements[f].height,v<l-u||m>h+u||P<p-u||_>c+u||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(p-P)<=u,n=Math.abs(c-_)<=u,r=Math.abs(l-v)<=u,a=Math.abs(h-m)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top-i.margins.top),n&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top-i.margins.top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left-i.margins.left),a&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left-i.margins.left)),d=o||n||r||a,"outer"!==g.snapMode&&(o=Math.abs(p-_)<=u,n=Math.abs(c-P)<=u,r=Math.abs(l-m)<=u,a=Math.abs(h-v)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top-i.margins.top),n&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top-i.margins.top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:l}).left-i.margins.left),a&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left-i.margins.left)),!i.snapElements[f].snapping&&(o||n||r||a||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||n||r||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,s,i){var o,n=i.options,r=t.makeArray(t(n.stack)).sort((function(e,s){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(s).css("zIndex"),10)||0)}));r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each((function(e){t(this).css("zIndex",o+e)})),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,s,i){var o=i.options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}}),t.ui.draggable}));
/*!
 * jQuery UI Resizable 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
!function(t){"function"==typeof define&&define.amd?define("jqueryui/resizable",["jquery","./core","./mouse","./widget"],t):t(jQuery)}((function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(i,e){if("hidden"===t(i).css("overflow"))return!1;var s,h=e&&"left"===e?"scrollLeft":"scrollTop";return i[h]>0||(i[h]=1,s=i[h]>0,i[h]=0,s)},_create:function(){var i,e,s,h,n=this,o=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},e=0;e<i.length;e++)s=t.trim(i[e]),(h=t("<div class='ui-resizable-handle "+("ui-resizable-"+s)+"'></div>")).css({zIndex:o.zIndex}),"se"===s&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(h);this._renderAxis=function(i){var e,s,h,n;for(e in i=i||this.element,this.handles)this.handles[e].constructor===String&&(this.handles[e]=this.element.children(this.handles[e]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[e],this.element),n=/sw|ne|nw|se|n|s/.test(e)?s.outerHeight():s.outerWidth(),h=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),i.css(h,n),this._proportionallyResize()),t(this.handles[e]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover((function(){n.resizing||(this.className&&(h=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),n.axis=h&&h[1]?h[1]:"se")})),o.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter((function(){o.disabled||(t(this).removeClass("ui-resizable-autohide"),n._handles.show())})).mouseleave((function(){o.disabled||n.resizing||(t(this).addClass("ui-resizable-autohide"),n._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var i,e=function(i){t(i).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),i=this.element,this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")}).insertAfter(i),i.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(i){var e,s,h=!1;for(e in this.handles)((s=t(this.handles[e])[0])===i.target||t.contains(s,i.target))&&(h=!0);return!this.options.disabled&&h},_mouseStart:function(i){var e,s,h,n=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),n.containment&&(e+=t(n.containment).scrollLeft()||0,s+=t(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:s},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,h=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===h?this.axis+"-resize":h),o.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(i){var e,s,h=this.originalMousePosition,n=this.axis,o=i.pageX-h.left||0,a=i.pageY-h.top||0,l=this._change[n];return this._updatePrevProperties(),!!l&&(e=l.apply(this,[i,o,a]),this._updateVirtualBoundaries(i.shiftKey),(this._aspectRatio||i.shiftKey)&&(e=this._updateRatio(e,i)),e=this._respectSize(e,i),this._updateCache(e),this._propagate("resize",i),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",i,this.ui()),this._applyChanges()),!1)},_mouseStop:function(i){this.resizing=!1;var e,s,h,n,o,a,l,r=this.options;return this._helper&&(h=(s=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:this.sizeDiff.height,n=s?0:this.sizeDiff.width,o={width:this.helper.width()-n,height:this.helper.height()-h},a=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,l=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,r.animate||this.element.css(t.extend(o,{top:l,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!r.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",i),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var i,e,s,h,n,o=this.options;n={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(i=n.minHeight*this.aspectRatio,s=n.minWidth/this.aspectRatio,e=n.maxHeight*this.aspectRatio,h=n.maxWidth/this.aspectRatio,i>n.minWidth&&(n.minWidth=i),s>n.minHeight&&(n.minHeight=s),e<n.maxWidth&&(n.maxWidth=e),h<n.maxHeight&&(n.maxHeight=h)),this._vBoundaries=n},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var i=this.position,e=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=i.left+(e.width-t.width),t.top=null),"nw"===s&&(t.top=i.top+(e.height-t.height),t.left=i.left+(e.width-t.width)),t},_respectSize:function(t){var i=this._vBoundaries,e=this.axis,s=this._isNumber(t.width)&&i.maxWidth&&i.maxWidth<t.width,h=this._isNumber(t.height)&&i.maxHeight&&i.maxHeight<t.height,n=this._isNumber(t.width)&&i.minWidth&&i.minWidth>t.width,o=this._isNumber(t.height)&&i.minHeight&&i.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,r=/sw|nw|w/.test(e),p=/nw|ne|n/.test(e);return n&&(t.width=i.minWidth),o&&(t.height=i.minHeight),s&&(t.width=i.maxWidth),h&&(t.height=i.maxHeight),n&&r&&(t.left=a-i.minWidth),s&&r&&(t.left=a-i.maxWidth),o&&p&&(t.top=l-i.minHeight),h&&p&&(t.top=l-i.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var i=0,e=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],h=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];i<4;i++)e[i]=parseInt(s[i],10)||0,e[i]+=parseInt(h[i],10)||0;return{height:e[0]+e[2],width:e[1]+e[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,i=0,e=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)t=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:e.height()-this.outerDimensions.height||0,width:e.width()-this.outerDimensions.width||0})},_renderProxy:function(){var i=this.element,e=this.options;this.elementOffset=i.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,i){return{width:this.originalSize.width+i}},w:function(t,i){var e=this.originalSize;return{left:this.originalPosition.left+i,width:e.width-i}},n:function(t,i,e){var s=this.originalSize;return{top:this.originalPosition.top+e,height:s.height-e}},s:function(t,i,e){return{height:this.originalSize.height+e}},se:function(i,e,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[i,e,s]))},sw:function(i,e,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[i,e,s]))},ne:function(i,e,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[i,e,s]))},nw:function(i,e,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[i,e,s]))}},_propagate:function(i,e){t.ui.plugin.call(this,i,[e,this.ui()]),"resize"!==i&&this._trigger(i,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(i){var e=t(this).resizable("instance"),s=e.options,h=e._proportionallyResizeElements,n=h.length&&/textarea/i.test(h[0].nodeName),o=n&&e._hasScroll(h[0],"left")?0:e.sizeDiff.height,a=n?0:e.sizeDiff.width,l={width:e.size.width-a,height:e.size.height-o},r=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,p=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(t.extend(l,p&&r?{top:p,left:r}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),10)};h&&h.length&&t(h[0]).css({width:s.width,height:s.height}),e._updateCache(s),e._propagate("resize",i)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,e,s,h,n,o,a,l=t(this).resizable("instance"),r=l.options,p=l.element,d=r.containment,g=d instanceof t?d.get(0):/parent/.test(d)?p.parent().get(0):d;g&&(l.containerElement=t(g),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(g),e=[],t(["Top","Right","Left","Bottom"]).each((function(t,s){e[t]=l._num(i.css("padding"+s))})),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-e[3],width:i.innerWidth()-e[1]},s=l.containerOffset,h=l.containerSize.height,n=l.containerSize.width,o=l._hasScroll(g,"left")?g.scrollWidth:n,a=l._hasScroll(g)?g.scrollHeight:h,l.parentData={element:g,left:s.left,top:s.top,width:o,height:a}))},resize:function(i){var e,s,h,n,o=t(this).resizable("instance"),a=o.options,l=o.containerOffset,r=o.position,p=o._aspectRatio||i.shiftKey,d={top:0,left:0},g=o.containerElement,u=!0;g[0]!==document&&/static/.test(g.css("position"))&&(d=l),r.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-d.left),p&&(o.size.height=o.size.width/o.aspectRatio,u=!1),o.position.left=a.helper?l.left:0),r.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),p&&(o.size.width=o.size.height*o.aspectRatio,u=!1),o.position.top=o._helper?l.top:0),h=o.containerElement.get(0)===o.element.parent().get(0),n=/relative|absolute/.test(o.containerElement.css("position")),h&&n?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-l.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-l.top)),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,p&&(o.size.height=o.size.width/o.aspectRatio,u=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,p&&(o.size.width=o.size.height*o.aspectRatio,u=!1)),u||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var i=t(this).resizable("instance"),e=i.options,s=i.containerOffset,h=i.containerPosition,n=i.containerElement,o=t(i.helper),a=o.offset(),l=o.outerWidth()-i.sizeDiff.width,r=o.outerHeight()-i.sizeDiff.height;i._helper&&!e.animate&&/relative/.test(n.css("position"))&&t(this).css({left:a.left-h.left-s.left,width:l,height:r}),i._helper&&!e.animate&&/static/.test(n.css("position"))&&t(this).css({left:a.left-h.left-s.left,width:l,height:r})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var i=t(this).resizable("instance").options,e=function(i){t(i).each((function(){var i=t(this);i.data("ui-resizable-alsoresize",{width:parseInt(i.width(),10),height:parseInt(i.height(),10),left:parseInt(i.css("left"),10),top:parseInt(i.css("top"),10)})}))};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?e(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],e(i.alsoResize)):t.each(i.alsoResize,(function(t){e(t)}))},resize:function(i,e){var s=t(this).resizable("instance"),h=s.options,n=s.originalSize,o=s.originalPosition,a={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},l=function(i,s){t(i).each((function(){var i=t(this),h=t(this).data("ui-resizable-alsoresize"),n={},o=s&&s.length?s:i.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,(function(t,i){var e=(h[i]||0)+(a[i]||0);e&&e>=0&&(n[i]=e||null)})),i.css(n)}))};"object"!=typeof h.alsoResize||h.alsoResize.nodeType?l(h.alsoResize):t.each(h.alsoResize,(function(t,i){l(t,i)}))},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var i=t(this).resizable("instance"),e=i.options,s=i.size;i.ghost=i.originalElement.clone(),i.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:""),i.ghost.appendTo(i.helper)},resize:function(){var i=t(this).resizable("instance");i.ghost&&i.ghost.css({position:"relative",height:i.size.height,width:i.size.width})},stop:function(){var i=t(this).resizable("instance");i.ghost&&i.helper&&i.helper.get(0).removeChild(i.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var i,e=t(this).resizable("instance"),s=e.options,h=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,l="number"==typeof s.grid?[s.grid,s.grid]:s.grid,r=l[0]||1,p=l[1]||1,d=Math.round((h.width-n.width)/r)*r,g=Math.round((h.height-n.height)/p)*p,u=n.width+d,f=n.height+g,m=s.maxWidth&&s.maxWidth<u,c=s.maxHeight&&s.maxHeight<f,z=s.minWidth&&s.minWidth>u,w=s.minHeight&&s.minHeight>f;s.grid=l,z&&(u+=r),w&&(f+=p),m&&(u-=r),c&&(f-=p),/^(se|s|e)$/.test(a)?(e.size.width=u,e.size.height=f):/^(ne)$/.test(a)?(e.size.width=u,e.size.height=f,e.position.top=o.top-g):/^(sw)$/.test(a)?(e.size.width=u,e.size.height=f,e.position.left=o.left-d):((f-p<=0||u-r<=0)&&(i=e._getPaddingPlusBorderDimensions(this)),f-p>0?(e.size.height=f,e.position.top=o.top-g):(f=p-i.height,e.size.height=f,e.position.top=o.top+n.height-f),u-r>0?(e.size.width=u,e.position.left=o.left-d):(u=p-i.height,e.size.width=u,e.position.left=o.left+n.width-u))}}),t.ui.resizable}));
/*!
 * jQuery UI Dialog 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */
!function(i){"function"==typeof define&&define.amd?define("jqueryui/dialog",["jquery","./core","./widget","./button","./draggable","./mouse","./position","./resizable"],i):i(jQuery)}((function(i){return i.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=i(this).css(t).offset().top;e<0&&i(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&i.fn.draggable&&this._makeDraggable(),this.options.resizable&&i.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?i(t):this.document.find(t||"body").eq(0)},_destroy:function(){var i,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(i=t.parent.children().eq(t.index)).length&&i[0]!==this.element[0]?i.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:i.noop,enable:i.noop,close:function(t){var e,o=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(e=this.document[0].activeElement)&&"body"!==e.nodeName.toLowerCase()&&i(e).blur()}catch(i){}this._hide(this.uiDialog,this.options.hide,(function(){o._trigger("close",t)}))}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var o=!1,s=this.uiDialog.siblings(".ui-front:visible").map((function(){return+i(this).css("z-index")})).get(),n=Math.max.apply(null,s);return n>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",n+1),o=!0),o&&!e&&this._trigger("focus",t),o},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=i(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var i=this._focusedElement;i||(i=this.element.find("[autofocus]")),i.length||(i=this.element.find(":tabbable")),i.length||(i=this.uiDialogButtonPane.find(":tabbable")),i.length||(i=this.uiDialogTitlebarClose.filter(":tabbable")),i.length||(i=this.uiDialog),i.eq(0).focus()},_keepFocus:function(t){function e(){var t=this.document[0].activeElement;this.uiDialog[0]===t||i.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),e.call(this),this._delay(e)},_createWrapper:function(){this.uiDialog=i("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===i.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===i.ui.keyCode.TAB&&!t.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),o=e.filter(":first"),s=e.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==o[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay((function(){s.focus()})),t.preventDefault()):(this._delay((function(){o.focus()})),t.preventDefault())}},mousedown:function(i){this._moveToTop(i)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=i("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){i(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=i("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(i){i.preventDefault(),this.close(i)}}),t=i("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(i){this.options.title||i.html("&#160;"),i.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=i("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=i("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),i.isEmptyObject(e)||i.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):(i.each(e,(function(e,o){var s,n;o=i.isFunction(o)?{click:o,text:e}:o,o=i.extend({type:"button"},o),s=o.click,o.click=function(){s.apply(t.element[0],arguments)},n={icons:o.icons,text:o.showText},delete o.icons,delete o.showText,i("<button></button>",o).button(n).appendTo(t.uiButtonSet)})),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,e=this.options;function o(i){return{position:i.position,offset:i.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,s){i(this).addClass("ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",e,o(s))},drag:function(i,e){t._trigger("drag",i,o(e))},stop:function(s,n){var a=n.offset.left-t.document.scrollLeft(),l=n.offset.top-t.document.scrollTop();e.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:t.window},i(this).removeClass("ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",s,o(n))}})},_makeResizable:function(){var t=this,e=this.options,o=e.resizable,s=this.uiDialog.css("position"),n="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";function a(i){return{originalPosition:i.originalPosition,originalSize:i.originalSize,position:i.position,size:i.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:this._minHeight(),handles:n,start:function(e,o){i(this).addClass("ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",e,a(o))},resize:function(i,e){t._trigger("resize",i,a(e))},stop:function(o,s){var n=t.uiDialog.offset(),l=n.left-t.document.scrollLeft(),h=n.top-t.document.scrollTop();e.height=t.uiDialog.height(),e.width=t.uiDialog.width(),e.position={my:"left top",at:"left"+(l>=0?"+":"")+l+" top"+(h>=0?"+":"")+h,of:t.window},i(this).removeClass("ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",o,a(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=i(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=i.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var i=this.document.data("ui-dialog-instances");return i||(i=[],this.document.data("ui-dialog-instances",i)),i},_minHeight:function(){var i=this.options;return"auto"===i.height?i.minHeight:Math.min(i.minHeight,i.height)},_position:function(){var i=this.uiDialog.is(":visible");i||this.uiDialog.show(),this.uiDialog.position(this.options.position),i||this.uiDialog.hide()},_setOptions:function(t){var e=this,o=!1,s={};i.each(t,(function(i,t){e._setOption(i,t),i in e.sizeRelatedOptions&&(o=!0),i in e.resizableRelatedOptions&&(s[i]=t)})),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(i,t){var e,o,s=this.uiDialog;"dialogClass"===i&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==i&&(this._super(i,t),"appendTo"===i&&this.uiDialog.appendTo(this._appendTo()),"buttons"===i&&this._createButtons(),"closeText"===i&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===i&&((e=s.is(":data(ui-draggable)"))&&!t&&s.draggable("destroy"),!e&&t&&this._makeDraggable()),"position"===i&&this._position(),"resizable"===i&&((o=s.is(":data(ui-resizable)"))&&!t&&s.resizable("destroy"),o&&"string"==typeof t&&s.resizable("option","handles",t),o||!1===t||this._makeResizable()),"title"===i&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var i,t,e,o=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),o.minWidth>o.width&&(o.width=o.minWidth),i=this.uiDialog.css({height:"auto",width:o.width}).outerHeight(),t=Math.max(0,o.minHeight-i),e="number"==typeof o.maxHeight?Math.max(0,o.maxHeight-i):"none","auto"===o.height?this.element.css({minHeight:t,maxHeight:e,height:"auto"}):this.element.height(Math.max(0,o.height-i)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=i(this);return i("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!i(t.target).closest(".ui-dialog").length||!!i(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay((function(){t=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(i){t||this._allowInteraction(i)||(i.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=i("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var i=this.document.data("ui-dialog-overlays")-1;i?this.document.data("ui-dialog-overlays",i):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}})}));
(function(){var t=function(t,i){return function(){return t.apply(i,arguments)}},i={}.hasOwnProperty;define("cs!sanca/views/dashboard/calendar",["jquery","underscore","sanca","i18n!sanca/nls/i18n","sanca/views","cs!sanca/models/event","jqueryui/dialog"],(function(o,n,a,e,s,h){return s.DashboardCalendar=function(s){function r(){return this.load=t(this.load,this),this.showDialog=t(this.showDialog,this),this.initDialog=t(this.initDialog,this),this.setMonth=t(this.setMonth,this),this.prevMonth=t(this.prevMonth,this),this.nextMonth=t(this.nextMonth,this),r.__super__.constructor.apply(this,arguments)}return function(t,o){for(var n in o)i.call(o,n)&&(t[n]=o[n]);function a(){this.constructor=t}a.prototype=o.prototype,t.prototype=new a,t.__super__=o.prototype}(r,s),r.prototype.events={"click .PrevMonth":"prevMonth","click .NextMonth":"nextMonth","click .EventImage":"showDialog"},r.prototype.initialize=function(t){return null==t&&(t={}),this.year=t.year||(new Date).getFullYear(),this.month=t.month||(new Date).getMonth()+1,this._loading=!1,this.initDialog()},r.prototype.nextMonth=function(){return this.setMonth(this.year,this.month+1)},r.prototype.prevMonth=function(){return this.setMonth(this.year,this.month-1)},r.prototype.setMonth=function(t,i){var o;return o=new Date(t,i-1,1),this.year=o.getFullYear(),this.month=o.getMonth()+1,this.load()},r.prototype.initDialog=function(){if(!this._loading)return a.Log.debug("Views.DashboardCalendar","Initializing dialog."),this.dialog=this.$(".EventsListDialog").dialog({appendTo:this.options.dialogAppendTo||"body",autoOpen:!1,resizable:!1,draggable:!1,minHeight:50,width:200});a.Log.warning("Views.DashboardCalendar","Cannot initialize dialog when loading.")},r.prototype.showDialog=function(t){var i,n,s;if(!this._loading)return this.dialog||this.initDialog(),s=(n=o(t.target)).data("eventobjs"),i=a.DateUtil.fromString(n.data("date")),a.Log.debug("Views.DashboardCalendar","Showing dialog for "+i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDay()),this.dialog.html(this.utemplate(this.options.dialog_tmpl,{date:i,events:new h.EventList(s,{parse:!0})})).dialog("option","title",e.formatDate("MMM Do",i)).dialog("option","position",{my:"left top+5",at:"left bottom",of:n}).dialog("open");a.Log.warning("Views.DashboardCalendar","Cannot show dialog when loading.")},r.prototype.load=function(t){var i,e,s=this;return null==t&&(t={}),this._loading=!0,this.dialog&&this.dialog.dialog("close"),this.dialog=null,a.Log.debug("Views.DashboardCalendar","Loading calendar for "+this.year+"/"+this.month),this.$el.html(this.utemplate(this.options.loading_tmpl,{month:this.month,year:this.year})),i=t.success||function(t,i,o){return s.$el.html(t)},t.success=function(t,o,n){return i(t,o,n),s._loading=!1,a.Log.debug("Views.DashboardCalendar","Calendar for "+s.year+"/"+s.month+" loaded.")},e=n.extend({url:"/dashboard/calendar/"+this.year+"/"+this.month+"/",type:"GET",dataType:"html"},t),o.ajax(e)},r}(s.BaseView),s}))}).call(this);
(function(){var n=function(n,o){return function(){return n.apply(o,arguments)}},o={}.hasOwnProperty;define("cs!sanca/views/personal_menu",["jquery","sanca/views"],(function(t,e){return e.PersonalMenu=function(e){function r(){return this.closeDropdownMenu=n(this.closeDropdownMenu,this),this.dropdownMenu=n(this.dropdownMenu,this),r.__super__.constructor.apply(this,arguments)}return function(n,t){for(var e in t)o.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype}(r,e),r.prototype.events={"click #personalMenu":"dropdownMenu"},r.prototype.initialize=function(n){var o=this;return t(document).click((function(){return o.closeDropdownMenu()}))},r.prototype.dropdownMenu=function(n){return t(this.options.dropdown_el).toggleClass("active"),n.stopPropagation()},r.prototype.closeDropdownMenu=function(){return t(this.options.dropdown_el).removeClass("active")},r}(e.BaseView),e}))}).call(this);
(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,i=function(t,i){for(var r in i)e.call(i,r)&&(t[r]=i[r]);function n(){this.constructor=t}return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};define("cs!sanca/models/group",["jquery","sanca","i18n!sanca/nls/i18n","sanca/models/user","underscore"],(function(e,r,n,u,o){return u.Group=function(e){function u(){return this.get_url=t(this.get_url,this),this.get_preview_url=t(this.get_preview_url,this),this.get_edit_url=t(this.get_edit_url,this),this.validate=t(this.validate,this),this.unwatch=t(this.unwatch,this),this.watch=t(this.watch,this),this.deleteCoverImage=t(this.deleteCoverImage,this),this.deleteImage=t(this.deleteImage,this),this.publish=t(this.publish,this),u.__super__.constructor.apply(this,arguments)}return i(u,e),u.prototype.api_url=r.API_BASE_URL+"/series/",u.prototype.publish=function(t){return null==t&&(t={}),this.modelRequest("POST",this.url()+"/publish",null,t)},u.prototype.deleteImage=function(t){return null==t&&(t={}),this.modelRequest("POST",this.url()+"/image_delete",null,t)},u.prototype.deleteCoverImage=function(t){return null==t&&(t={}),this.modelRequest("POST",this.url()+"/cover_image_delete",null,t)},u.prototype.watch=function(t){return null==t&&(t={}),this.modelRequest("POST",this.url()+"/join",null,t)},u.prototype.unwatch=function(t){return null==t&&(t={}),this.modelRequest("DELETE",this.url()+"/join",null,t)},u.prototype.validate=function(t){var e;if(e={},this.get("title")||t.title||(e.title=n.gettext("ã¿ã¤ãã«ã¯å¿é ã§ã")),!this.isNew()||this.get("subdomain")||t.subdomain||(e.subdomain=n.gettext("ãµããã¡ã¤ã³ã¯å¿é ã§ã")),null!=t.subdomain&&(t.subdomain.match(/^[a-z0-9][a-z0-9\-]+[a-z0-9]$/)||(e.subdomain=n.gettext("ãµããã¡ã¤ã³ã¯3æå­ä»¥ä¸ã®è±æ°å°æå­ã§å¥åãã¦ãã ããã")),t.subdomain.length>60&&(e.subdomain=n.gettext("ãµããã¡ã¤ã³ã¯æå¤§60æå­ã¾ã§å¥åãã¦ãã ãã"))),!o.isEmpty(e))return e},u.prototype.get_edit_url=function(){return"http://"+r.HTTP_HOST+"/series/"+this.id+"/edit/"},u.prototype.get_preview_url=function(){return this.get_url()+"preview/"},u.prototype.get_url=function(){return this.get("public_url")},u}(u.BaseModel),u.GroupList=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.api_url=r.API_BASE_URL+"/series/",e.prototype.model=u.Group,e}(u.BaseCollection),u.GroupOwner=function(e){function n(){return this.isNew=t(this.isNew,this),n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.isNew=function(){return!this.collection.include(this)},n.prototype.api_url=function(){var t;return t=r.API_BASE_URL+"/series/"+this.collection.group.id+"/owner/",this.id?t+this.id:t},n}(u.User),u.GroupOwnerList=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.model=u.GroupOwner,e.prototype.api_url=function(){return r.API_BASE_URL+"/series/"+this.group.id+"/owner/"},e.prototype.initialize=function(t,e){return null==t&&(t=[]),null==e&&(e={}),this.group=e.group},e}(u.UserList),u.GroupPendingOwner=function(e){function n(){return this.isNew=t(this.isNew,this),n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.isNew=function(){return!this.collection.include(this)},n.prototype.api_url=function(){var t;return t=r.API_BASE_URL+"/series/"+this.collection.group.id+"/pending_owner/",this.id?t+this.id:t},n}(u.User),u.GroupPendingOwnerList=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.model=u.GroupPendingOwner,e.prototype.api_url=function(){return r.API_BASE_URL+"/series/"+this.group.id+"/pending_owner/"},e.prototype.initialize=function(t,e){return null==t&&(t=[]),null==e&&(e={}),this.group=e.group},e}(u.UserList),u.GroupLinks=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.comparator=function(t){return null!=t.id?t.id:1/0},e.prototype.api_url=function(){return r.API_BASE_URL+"/series/"+this.group.id+"/other_link/"},e.prototype.initialize=function(t,i){return null==t&&(t=[]),null==i&&(i={}),e.__super__.initialize.call(this),this.group=i.group},e}(u.BaseCollection),u}))}).call(this);
(function(){var e={}.hasOwnProperty;define("cs!sanca/views/group_base",["jquery","sanca","cs!sanca/views/group_member","underscore"],(function(r,o,t,n){return t.GroupBaseView=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return function(r,o){for(var t in o)e.call(o,t)&&(r[t]=o[t]);function n(){this.constructor=r}n.prototype=o.prototype,r.prototype=new n,r.__super__=o.prototype}(o,r),o.prototype.initialize=function(e){return this.group_membership=new t.GroupMembershipView({el:".GroupMembership",model:this.model})},o}(o.BaseView),t}))}).call(this);
(function(){var t={}.hasOwnProperty,e=function(e,n){for(var r in n)t.call(n,r)&&(e[r]=n[r]);function o(){this.constructor=e}return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("cs!sanca/models/feeditem",["sanca","sanca/models"],(function(t,n){return n.FeedItem=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,n),r.prototype.api_url=function(){var e;return e=t.API_BASE_URL+"/feed/",null!=this.id?e+this.id:e},r}(t.BaseModel),n.FeedItemList=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.model=n.FeedItem,o.prototype.api_url=function(){return t.API_BASE_URL+"/feed/"},o}(t.BaseCollection),n}))}).call(this);
(function(){var t={}.hasOwnProperty,e=function(e,n){for(var o in n)t.call(n,o)&&(e[o]=n[o]);function r(){this.constructor=e}return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("cs!sanca/models/feed_comment",["sanca","sanca/models"],(function(t,n){return n.FeedComment=function(n){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,n),o.prototype.api_url=function(){var e;return e=t.API_BASE_URL+"/feed/"+this.collection.feeditem.id+"/comment/",null!=this.id?e+this.id:e},o}(t.BaseModel),n.FeedCommentList=function(o){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,o),r.prototype.model=n.FeedComment,r.prototype.ãã£ã¼ããã£ã¼ãã³ã¡ã³ãã³ã¡ã³ãã®ãªã¹ããªã¹ãi_url=function(){return t.API_BASE_URL+"/feed/"+this.feeditem.id+"/comment/"},r.prototype.initialize=function(t,e){return this.feeditem=e.feeditem},r}(t.BaseCollection),n}))}).call(this);
(function(){var t={}.hasOwnProperty,e=function(e,n){for(var o in n)t.call(n,o)&&(e[o]=n[o]);function i(){this.constructor=e}return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},n=function(t,e){return function(){return t.apply(e,arguments)}};define("cs!sanca/views/feed",["jquery","sanca","sanca/views","cs!sanca/models/feeditem","cs!sanca/models/feed_comment"],(function(t,o,i,s){return i.FeedView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(t){return this.$(".FeedList").each((function(t,e){return new i.FeedItemView({el:e})}))},n}(o.BaseView),i.FeedItemView=function(i){function m(){return this.onKey=n(this.onKey,this),this.submitForm=n(this.submitForm,this),this.hideForm=n(this.hideForm,this),this.showForm=n(this.showForm,this),this.expandComments=n(this.expandComments,this),m.__super__.constructor.apply(this,arguments)}return e(m,i),m.prototype.events={"click .CommentExpandLink":"expandComments","click .CommentListFormMarker":"showForm","keypress .CommentListFormReal :input":"onKey","blur .CommentListFormReal :input":"hideForm"},m.prototype.initialize=function(e){var n=this;return this.enabled=!1,null==this.model&&(this.model=new s.FeedItem(this.$el.data(),{parse:!0})),this.model.comments=new s.FeedCommentList([],{feeditem:this.model}),this.$(".CommentList .FeedComment").each((function(e,o){return n.model.comments.add(new s.FeedComment(t(o).data(),{parse:!0}))}))},m.prototype.expandComments=function(){return this.$(".CommentList .CommentExpandChild").hide(),this.$(".CommentList .FeedComment").show()},m.prototype.showForm=function(){return this.$(".CommentListFormMarker").hide(),this.$(".CommentListFormReal").show().find(":input").val("").focus(),this.enabled=!0,!0},m.prototype.hideForm=function(){return this.enabled=!1,this.$(".CommentListFormMarker").show(),this.$(".CommentListFormReal").hide(),!0},m.prototype.submitForm=function(){var t;return!!(t=o.StrUtil.trim(this.$(".CommentListFormReal :input").val()))&&(this.model.comments.create({comment:t}),this.$(".CommentList").append(this.template("#FeedCommentTemplate",{comment:t})),this.$(".CommentListFormReal :input").blur(),this.hideForm())},m.prototype.onKey=function(t){return!!this.enabled&&(27===t.keyCode?this.hideForm():13===t.keyCode?this.submitForm():void 0)},m}(o.BaseView),i}))}).call(this);
define("jquerytools/tooltip",["jquery"],(function(t){
/**
 * @license 
 * jQuery Tools @VERSION Tooltip - UI essentials
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/tooltip/
 *
 * Since: November 2008
 * Date: @DATE 
 */
return function(t){t.tools=t.tools||{version:"@VERSION"},t.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(t,o,i){e[t]=[o,i]}};var e={toggle:[function(t){var e=this.getConf(),o=this.getTip(),i=e.opacity;i<1&&o.css({opacity:i}),o.show(),t.call()},function(t){this.getTip().hide(),t.call()}],fade:[function(e){var o=this.getConf();!t.browser.msie||o.fadeIE?this.getTip().fadeTo(o.fadeInSpeed,o.opacity,e):(this.getTip().show(),e())},function(e){var o=this.getConf();!t.browser.msie||o.fadeIE?this.getTip().fadeOut(o.fadeOutSpeed,e):(this.getTip().hide(),e())}]};function o(e,o,i){var n=i.relative?e.position().top:e.offset().top,r=i.relative?e.position().left:e.offset().left,s=i.position[0];n-=o.outerHeight()-i.offset[0],r+=e.outerWidth()+i.offset[1],/iPad/i.test(navigator.userAgent)&&(n-=t(window).scrollTop());var f=o.outerHeight()+e.outerHeight();"center"==s&&(n+=f/2),"bottom"==s&&(n+=f),s=i.position[1];var a=o.outerWidth()+e.outerWidth();return"center"==s&&(r-=a/2),"left"==s&&(r-=a),{top:n,left:r}}function i(i,n){var r,s,f=this,a=i.add(f),u=0,l=0,d=i.attr("title"),p=i.attr("data-tooltip"),c=e[n.effect],h=i.is(":input"),g=h&&i.is(":checkbox, :radio, select, :button, :submit"),v=i.attr("type"),w=n.events[v]||n.events[h?g?"widget":"input":"def"];if(!c)throw'Nonexistent effect "'+n.effect+'"';if(2!=(w=w.split(/,\s*/)).length)throw"Tooltip: bad events configuration for "+v;i.bind(w[0],(function(t){clearTimeout(u),n.predelay?l=setTimeout((function(){f.show(t)}),n.predelay):f.show(t)})).bind(w[1],(function(t){clearTimeout(l),n.delay?u=setTimeout((function(){f.hide(t)}),n.delay):f.hide(t)})),d&&n.cancelDefault&&(i.removeAttr("title"),i.data("title",d)),t.extend(f,{show:function(e){if(!r&&(p?r=t(p):n.tip?r=t(n.tip).eq(0):d?r=t(n.layout).addClass(n.tipClass).appendTo(document.body).hide().append(d):(r=i.next()).length||(r=i.parent().next()),!r.length))throw"Cannot find tooltip for "+i;if(f.isShown())return f;r.stop(!0,!0);var h=o(i,r,n);if(n.tip&&r.html(i.data("title")),(e=t.Event()).type="onBeforeShow",a.trigger(e,[h]),e.isDefaultPrevented())return f;h=o(i,r,n),r.css({position:"absolute",top:h.top,left:h.left}),s=!0,c[0].call(f,(function(){e.type="onShow",s="full",a.trigger(e)}));var g=n.events.tooltip.split(/,\s*/);return r.data("__set")||(r.unbind(g[0]).bind(g[0],(function(){clearTimeout(u),clearTimeout(l)})),g[1]&&!i.is("input:not(:checkbox, :radio), textarea")&&r.unbind(g[1]).bind(g[1],(function(t){t.relatedTarget!=i[0]&&i.trigger(w[1].split(" ")[0])})),n.tip||r.data("__set",!0)),f},hide:function(o){return r&&f.isShown()?((o=t.Event()).type="onBeforeHide",a.trigger(o),o.isDefaultPrevented()?void 0:(s=!1,e[n.effect][1].call(f,(function(){o.type="onHide",a.trigger(o)})),f)):f},isShown:function(t){return t?"full"==s:s},getConf:function(){return n},getTip:function(){return r},getTrigger:function(){return i}}),t.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),(function(e,o){t.isFunction(n[o])&&t(f).bind(o,n[o]),f[o]=function(e){return e&&t(f).bind(o,e),f}}))}t.fn.tooltip=function(e){var o=this.data("tooltip");return o||("string"==typeof(e=t.extend(!0,{},t.tools.tooltip.conf,e)).position&&(e.position=e.position.split(/,?\s/)),this.each((function(){o=new i(t(this),e),t(this).data("tooltip",o)})),e.api?o:this)}}(t),t}));
define("jquerytools/tooltip.dynamic",["jquerytools/tooltip"],(function(t){
/**
 * @license 
 * jQuery Tools @VERSION / Tooltip Dynamic Positioning
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/tooltip/dynamic.html
 *
 * Since: July 2009
 * Date: @DATE 
 */
var o,e;return(e=(o=t).tools.tooltip).dynamic={conf:{classNames:"top right bottom left"}},o.fn.dynamic=function(t){"number"==typeof t&&(t={speed:t}),t=o.extend({},e.dynamic.conf,t);var i,s=o.extend(!0,{},t),n=t.classNames.split(/\s/);return this.each((function(){var e=o(this).tooltip().onBeforeShow((function(t,e){var f=this.getTip(),l=this.getConf();i||(i=[l.position[0],l.position[1],l.offset[0],l.offset[1],o.extend({},l)]),o.extend(l,i[4]),l.position=[i[0],i[1]],l.offset=[i[2],i[3]],f.css({visibility:"hidden",position:"absolute",top:e.top,left:e.left}).show();var r,d,a,p,c=o.extend(!0,{},s),h=(r=f,d=o(window),a=d.width()+d.scrollLeft(),p=d.height()+d.scrollTop(),[r.offset().top<=d.scrollTop(),a<=r.offset().left+r.width(),p<=r.offset().top+r.height(),d.scrollLeft()>=r.offset().left]);(function(t){for(var o=t.length;o--;)if(t[o])return!1;return!0})(h)||(h[2]&&(o.extend(l,c.top),l.position[0]="top",f.addClass(n[0])),h[3]&&(o.extend(l,c.right),l.position[1]="right",f.addClass(n[1])),h[0]&&(o.extend(l,c.bottom),l.position[0]="bottom",f.addClass(n[2])),h[1]&&(o.extend(l,c.left),l.position[1]="left",f.addClass(n[3])),(h[0]||h[2])&&(l.offset[0]*=-1),(h[1]||h[3])&&(l.offset[1]*=-1)),f.css({visibility:"visible"}).hide()}));e.onBeforeShow((function(){var t=this.getConf();this.getTip(),setTimeout((function(){t.position=[i[0],i[1]],t.offset=[i[2],i[3]]}),0)})),e.onHide((function(){this.getTip().removeClass(t.classNames)})),ret=e})),t.api?ret:this},t}));
define("jquerytools/tooltip.slide",["jquerytools/tooltip"],(function(e){
/**
 * @license 
 * jQuery Tools @VERSION / Tooltip Slide Effect
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/tooltip/slide.html
 *
 * Since: September 2009
 * Date: @DATE 
 */
return function(e){var t=e.tools.tooltip;e.extend(t.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!e.browser.msie});var i={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};t.addEffect("slide",(function(e){var t=this.getConf(),o=this.getTip(),d=t.slideFade?{opacity:t.opacity}:{},s=i[t.direction]||i.up;d[s[1]]=s[0]+"="+t.slideOffset,t.slideFade&&o.css({opacity:0}),o.show().animate(d,t.slideInSpeed,e)}),(function(t){var o=this.getConf(),d=o.slideOffset,s=o.slideFade?{opacity:0}:{},n=i[o.direction]||i.up,l=""+n[0];o.bounce&&(l="+"==l?"-":"+"),s[n[1]]=l+"="+d,this.getTip().animate(s,o.slideOutSpeed,(function(){e(this).hide(),t.call()}))}))}(e),e}));
define("design",["jquery"],(function(e){e(document).ready((function(){e(".jq_label input").live("click",(function(){e(this).attr("checked")?(e(this).parent("label").addClass("cmn_selected_label"),e(this).parent().siblings(".jq_label").find("input:radio").parent("label").removeClass("cmn_selected_label")):e(this).parent("label").removeClass("cmn_selected_label")}))}))}));
define("connpass.min",["cs!sanca/models/event","cs!sanca/views/event_detail","cs!sanca/views/event_file","cs!sanca/views/event_create","cs!sanca/views/dashboard/calendar","cs!sanca/views/personal_menu","cs!sanca/models/group","cs!sanca/views/group_base","cs!sanca/views/feed","jquerytools/tooltip.dynamic","jquerytools/tooltip.slide","design"]);
